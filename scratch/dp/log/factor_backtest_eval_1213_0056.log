2024-12-13 00:56:49,021 - INFO - TRADE_RANK_NUM: 20
2024-12-13 00:56:49,025 - INFO - LINEAR_INPUT_FILE data/predictions.parquet
2024-12-13 00:56:49,058 - INFO - LONG_TRADE_RANK_RATIO: 1.0, SHORT_TRADE_RANK_RATIO: 0.5
2024-12-13 00:56:49,059 - INFO - DYNAMIC_POS_SCALE: 0 === threshold: 3.0
2024-12-13 00:56:49,421 - INFO - start get SinglePnl: shape: (131_614, 94)
┌────────────┬───────────┬──────────┬──────────┬───┬───────────┬───────────┬───────────┬───────────┐
│ symbol     ┆ open_time ┆ open     ┆ high     ┆ … ┆ long_valu ┆ short_val ┆ long_valu ┆ short_val │
│ ---        ┆ ---       ┆ ---      ┆ ---      ┆   ┆ e_scale_9 ┆ ue_scale_ ┆ e_scale_1 ┆ ue_scale_ │
│ str        ┆ datetime[ ┆ f64      ┆ f64      ┆   ┆ day       ┆ 9day      ┆ 0day      ┆ 10day     │
│            ┆ ms]       ┆          ┆          ┆   ┆ ---       ┆ ---       ┆ ---       ┆ ---       │
│            ┆           ┆          ┆          ┆   ┆ f64       ┆ f64       ┆ f64       ┆ f64       │
╞════════════╪═══════════╪══════════╪══════════╪═══╪═══════════╪═══════════╪═══════════╪═══════════╡
│ 1000BONKUS ┆ 2024-01-2 ┆ 0.011057 ┆ 0.011678 ┆ … ┆ 0.8       ┆ 1.2       ┆ 0.8       ┆ 1.2       │
│ DT         ┆ 5         ┆          ┆          ┆   ┆           ┆           ┆           ┆           │
│            ┆ 00:00:00  ┆          ┆          ┆   ┆           ┆           ┆           ┆           │
│ 1000BONKUS ┆ 2024-01-2 ┆ 0.011277 ┆ 0.01248  ┆ … ┆ 0.8       ┆ 1.2       ┆ 0.8       ┆ 1.2       │
│ DT         ┆ 6         ┆          ┆          ┆   ┆           ┆           ┆           ┆           │
│            ┆ 00:00:00  ┆          ┆          ┆   ┆           ┆           ┆           ┆           │
│ 1000BONKUS ┆ 2024-01-2 ┆ 0.01184  ┆ 0.012037 ┆ … ┆ 1.0       ┆ 1.0       ┆ 0.8       ┆ 1.2       │
│ DT         ┆ 7         ┆          ┆          ┆   ┆           ┆           ┆           ┆           │
│            ┆ 00:00:00  ┆          ┆          ┆   ┆           ┆           ┆           ┆           │
│ 1000BONKUS ┆ 2024-01-2 ┆ 0.011637 ┆ 0.012648 ┆ … ┆ 0.8       ┆ 1.2       ┆ 1.0       ┆ 1.0       │
│ DT         ┆ 8         ┆          ┆          ┆   ┆           ┆           ┆           ┆           │
│            ┆ 00:00:00  ┆          ┆          ┆   ┆           ┆           ┆           ┆           │
│ 1000BONKUS ┆ 2024-01-2 ┆ 0.011568 ┆ 0.012113 ┆ … ┆ 1.0       ┆ 1.0       ┆ 1.2       ┆ 0.8       │
│ DT         ┆ 9         ┆          ┆          ┆   ┆           ┆           ┆           ┆           │
│            ┆ 00:00:00  ┆          ┆          ┆   ┆           ┆           ┆           ┆           │
│ 1000BONKUS ┆ 2024-01-3 ┆ 0.012004 ┆ 0.012249 ┆ … ┆ 0.8       ┆ 1.2       ┆ 1.0       ┆ 1.0       │
│ DT         ┆ 0         ┆          ┆          ┆   ┆           ┆           ┆           ┆           │
│            ┆ 00:00:00  ┆          ┆          ┆   ┆           ┆           ┆           ┆           │
│ 1000BONKUS ┆ 2024-01-3 ┆ 0.011247 ┆ 0.011337 ┆ … ┆ 1.0       ┆ 1.0       ┆ 0.8       ┆ 1.2       │
│ DT         ┆ 1         ┆          ┆          ┆   ┆           ┆           ┆           ┆           │
│            ┆ 00:00:00  ┆          ┆          ┆   ┆           ┆           ┆           ┆           │
│ 1000BONKUS ┆ 2024-02-0 ┆ 0.010656 ┆ 0.010834 ┆ … ┆ 1.2       ┆ 0.8       ┆ 1.0       ┆ 1.0       │
│ DT         ┆ 1         ┆          ┆          ┆   ┆           ┆           ┆           ┆           │
│            ┆ 00:00:00  ┆          ┆          ┆   ┆           ┆           ┆           ┆           │
│ 1000BONKUS ┆ 2024-02-0 ┆ 0.010747 ┆ 0.010872 ┆ … ┆ 1.2       ┆ 0.8       ┆ 1.2       ┆ 0.8       │
│ DT         ┆ 2         ┆          ┆          ┆   ┆           ┆           ┆           ┆           │
│            ┆ 00:00:00  ┆          ┆          ┆   ┆           ┆           ┆           ┆           │
│ 1000BONKUS ┆ 2024-02-0 ┆ 0.010541 ┆ 0.010638 ┆ … ┆ 1.2       ┆ 0.8       ┆ 1.2       ┆ 0.8       │
│ DT         ┆ 3         ┆          ┆          ┆   ┆           ┆           ┆           ┆           │
│            ┆ 00:00:00  ┆          ┆          ┆   ┆           ┆           ┆           ┆           │
│ …          ┆ …         ┆ …        ┆ …        ┆ … ┆ …         ┆ …         ┆ …         ┆ …         │
│ ZRXUSDT    ┆ 2024-10-1 ┆ 0.3196   ┆ 0.3373   ┆ … ┆ 1.2       ┆ 0.8       ┆ 1.2       ┆ 0.8       │
│            ┆ 8         ┆          ┆          ┆   ┆           ┆           ┆           ┆           │
│            ┆ 00:00:00  ┆          ┆          ┆   ┆           ┆           ┆           ┆           │
│ ZRXUSDT    ┆ 2024-10-1 ┆ 0.3355   ┆ 0.3415   ┆ … ┆ 1.2       ┆ 0.8       ┆ 1.2       ┆ 0.8       │
│            ┆ 9         ┆          ┆          ┆   ┆           ┆           ┆           ┆           │
│            ┆ 00:00:00  ┆          ┆          ┆   ┆           ┆           ┆           ┆           │
│ ZRXUSDT    ┆ 2024-10-2 ┆ 0.3359   ┆ 0.3565   ┆ … ┆ 1.2       ┆ 0.8       ┆ 1.2       ┆ 0.8       │
│            ┆ 0         ┆          ┆          ┆   ┆           ┆           ┆           ┆           │
│            ┆ 00:00:00  ┆          ┆          ┆   ┆           ┆           ┆           ┆           │
│ ZRXUSDT    ┆ 2024-10-2 ┆ 0.3553   ┆ 0.3881   ┆ … ┆ 1.2       ┆ 0.8       ┆ 1.2       ┆ 0.8       │
│            ┆ 1         ┆          ┆          ┆   ┆           ┆           ┆           ┆           │
│            ┆ 00:00:00  ┆          ┆          ┆   ┆           ┆           ┆           ┆           │
│ ZRXUSDT    ┆ 2024-10-2 ┆ 0.3577   ┆ 0.3581   ┆ … ┆ 1.2       ┆ 0.8       ┆ 1.2       ┆ 0.8       │
│            ┆ 2         ┆          ┆          ┆   ┆           ┆           ┆           ┆           │
│            ┆ 00:00:00  ┆          ┆          ┆   ┆           ┆           ┆           ┆           │
│ ZRXUSDT    ┆ 2024-10-2 ┆ 0.3511   ┆ 0.3547   ┆ … ┆ 0.8       ┆ 1.2       ┆ 1.2       ┆ 0.8       │
│            ┆ 3         ┆          ┆          ┆   ┆           ┆           ┆           ┆           │
│            ┆ 00:00:00  ┆          ┆          ┆   ┆           ┆           ┆           ┆           │
│ ZRXUSDT    ┆ 2024-10-2 ┆ 0.3383   ┆ 0.3548   ┆ … ┆ 0.8       ┆ 1.2       ┆ 0.8       ┆ 1.2       │
│            ┆ 4         ┆          ┆          ┆   ┆           ┆           ┆           ┆           │
│            ┆ 00:00:00  ┆          ┆          ┆   ┆           ┆           ┆           ┆           │
│ ZRXUSDT    ┆ 2024-10-2 ┆ 0.3417   ┆ 0.3632   ┆ … ┆ 0.8       ┆ 1.2       ┆ 0.8       ┆ 1.2       │
│            ┆ 5         ┆          ┆          ┆   ┆           ┆           ┆           ┆           │
│            ┆ 00:00:00  ┆          ┆          ┆   ┆           ┆           ┆           ┆           │
│ ZRXUSDT    ┆ 2024-10-2 ┆ 0.3194   ┆ 0.3243   ┆ … ┆ 0.8       ┆ 1.2       ┆ 0.8       ┆ 1.2       │
│            ┆ 6         ┆          ┆          ┆   ┆           ┆           ┆           ┆           │
│            ┆ 00:00:00  ┆          ┆          ┆   ┆           ┆           ┆           ┆           │
│ ZRXUSDT    ┆ 2024-10-2 ┆ 0.316    ┆ 0.3317   ┆ … ┆ 0.8       ┆ 1.2       ┆ 0.8       ┆ 1.2       │
│            ┆ 7         ┆          ┆          ┆   ┆           ┆           ┆           ┆           │
│            ┆ 00:00:00  ┆          ┆          ┆   ┆           ┆           ┆           ┆           │
└────────────┴───────────┴──────────┴──────────┴───┴───────────┴───────────┴───────────┴───────────┘
2024-12-13 00:56:49,497 - DEBUG - cur time: 2023-01-08T23:59:59.999 == next bar open time: 2023-01-09T00:00:00.000 == close pos time: 2023-01-14T00:00:00.000
2024-12-13 00:56:49,509 - DEBUG - close time 2023-01-08T23:59:59.999 == vol_threshold: 17081207.9
2024-12-13 00:56:49,509 - DEBUG - 2023-01-08T23:59:59.999 == all trade symbol 136 == remain 95 after VOL filter
2024-12-13 00:56:49,509 - DEBUG - sorted_long_factors: shape: (95, 4)
┌──────────────┬──────────────┬──────┬──────────────┐
│ symbol       ┆ factor_value ┆ rank ┆ reverse_rank │
│ ---          ┆ ---          ┆ ---  ┆ ---          │
│ str          ┆ f64          ┆ u32  ┆ u32          │
╞══════════════╪══════════════╪══════╪══════════════╡
│ OCEANUSDT    ┆ -0.889856    ┆ 0    ┆ 94           │
│ SUSHIUSDT    ┆ -0.833308    ┆ 1    ┆ 93           │
│ XRPUSDT      ┆ -0.784679    ┆ 2    ┆ 92           │
│ OPUSDT       ┆ -0.766477    ┆ 3    ┆ 91           │
│ APEUSDT      ┆ -0.76272     ┆ 4    ┆ 90           │
│ MATICUSDT    ┆ -0.743859    ┆ 5    ┆ 89           │
│ DOTUSDT      ┆ -0.734516    ┆ 6    ┆ 88           │
│ SANDUSDT     ┆ -0.722419    ┆ 7    ┆ 87           │
│ MANAUSDT     ┆ -0.718733    ┆ 8    ┆ 86           │
│ 1000LUNCUSDT ┆ -0.715189    ┆ 9    ┆ 85           │
│ …            ┆ …            ┆ …    ┆ …            │
│ SXPUSDT      ┆ 0.455191     ┆ 85   ┆ 9            │
│ IOTXUSDT     ┆ 0.475227     ┆ 86   ┆ 8            │
│ FLMUSDT      ┆ 0.535665     ┆ 87   ┆ 7            │
│ TRXUSDT      ┆ 0.538173     ┆ 88   ┆ 6            │
│ 1000XECUSDT  ┆ 0.566817     ┆ 89   ┆ 5            │
│ CTSIUSDT     ┆ 0.57338      ┆ 90   ┆ 4            │
│ CELRUSDT     ┆ 0.595249     ┆ 91   ┆ 3            │
│ SKLUSDT      ┆ 0.601076     ┆ 92   ┆ 2            │
│ ARPAUSDT     ┆ 0.721878     ┆ 93   ┆ 1            │
│ DUSKUSDT     ┆ 1.108481     ┆ 94   ┆ 0            │
└──────────────┴──────────────┴──────┴──────────────┘
2024-12-13 00:56:49,517 - WARNING - 2023-01-08T23:59:59.999=====cur_long_scale: 1.2 not match == long_value_ratio: 1.0
2024-12-13 00:56:49,517 - INFO - cur close time: 2023-01-08T23:59:59.999 == long_value_ratio: 1.0 == short_value_ratio: 1.0 --- 1.2
2024-12-13 00:56:49,517 - DEBUG - mean expected ret (mean factor): -0.09037975863355496
2024-12-13 00:56:49,521 - DEBUG - begin to update pos: =========
2024-12-13 00:56:49,521 - DEBUG - next_step_value: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ i64     ┆ i64    ┆ i64     ┆ f64     │
│ i64         ┆ i64         ┆ f64         ┆ i64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0           ┆ 0           ┆ -10000.0    ┆ 0           ┆ … ┆ 0       ┆ 0      ┆ 0       ┆ 5000.0  │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:49,521 - DEBUG - all_open_price_when_open_pos: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ f64     ┆ f64    ┆ f64     ┆ f64     │
│ f64         ┆ f64         ┆ f64         ┆ f64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ null        ┆ null        ┆ 0.1585      ┆ null        ┆ … ┆ 0.02177 ┆ null   ┆ null    ┆ 0.166   │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:49,529 - DEBUG - update position: 2023-01-08T23:59:59.999 === diff_trading_value: 200000.0 == cash: 99800.0 
2024-12-13 00:56:49,533 - DEBUG - cur time: 2023-01-09T23:59:59.999 == next bar open time: 2023-01-10T00:00:00.000 == close pos time: 2023-01-15T00:00:00.000
2024-12-13 00:56:49,534 - INFO - pnl: 2023-01-09T23:59:59.999 100993.06958083835 === 1.195%
2024-12-13 00:56:49,537 - DEBUG - cur time: 2023-01-10T23:59:59.999 == next bar open time: 2023-01-11T00:00:00.000 == close pos time: 2023-01-16T00:00:00.000
2024-12-13 00:56:49,540 - INFO - pnl: 2023-01-10T23:59:59.999 100024.22351224584 === -0.959%
2024-12-13 00:56:49,544 - DEBUG - cur time: 2023-01-11T23:59:59.999 == next bar open time: 2023-01-12T00:00:00.000 == close pos time: 2023-01-17T00:00:00.000
2024-12-13 00:56:49,545 - INFO - pnl: 2023-01-11T23:59:59.999 100962.64890617851 === 0.938%
2024-12-13 00:56:49,547 - DEBUG - cur time: 2023-01-12T23:59:59.999 == next bar open time: 2023-01-13T00:00:00.000 == close pos time: 2023-01-18T00:00:00.000
2024-12-13 00:56:49,550 - INFO - pnl: 2023-01-12T23:59:59.999 100180.68243404744 === -0.775%
2024-12-13 00:56:49,551 - DEBUG - cur time: 2023-01-13T23:59:59.999 == next bar open time: 2023-01-14T00:00:00.000 == close pos time: 2023-01-19T00:00:00.000
2024-12-13 00:56:49,562 - DEBUG - close time 2023-01-13T23:59:59.999 == vol_threshold: 25541184.5
2024-12-13 00:56:49,562 - DEBUG - 2023-01-13T23:59:59.999 == all trade symbol 136 == remain 95 after VOL filter
2024-12-13 00:56:49,562 - DEBUG - sorted_long_factors: shape: (95, 4)
┌──────────────┬──────────────┬──────┬──────────────┐
│ symbol       ┆ factor_value ┆ rank ┆ reverse_rank │
│ ---          ┆ ---          ┆ ---  ┆ ---          │
│ str          ┆ f64          ┆ u32  ┆ u32          │
╞══════════════╪══════════════╪══════╪══════════════╡
│ APEUSDT      ┆ -0.903823    ┆ 0    ┆ 94           │
│ DOTUSDT      ┆ -0.829839    ┆ 1    ┆ 93           │
│ OPUSDT       ┆ -0.785194    ┆ 2    ┆ 92           │
│ EOSUSDT      ┆ -0.733227    ┆ 3    ┆ 91           │
│ APTUSDT      ┆ -0.732018    ┆ 4    ┆ 90           │
│ 1000LUNCUSDT ┆ -0.725082    ┆ 5    ┆ 89           │
│ WAVESUSDT    ┆ -0.709379    ┆ 6    ┆ 88           │
│ FTMUSDT      ┆ -0.696285    ┆ 7    ┆ 87           │
│ MATICUSDT    ┆ -0.688448    ┆ 8    ┆ 86           │
│ AXSUSDT      ┆ -0.673084    ┆ 9    ┆ 85           │
│ …            ┆ …            ┆ …    ┆ …            │
│ IOTXUSDT     ┆ 0.380654     ┆ 85   ┆ 9            │
│ COTIUSDT     ┆ 0.438376     ┆ 86   ┆ 8            │
│ DUSKUSDT     ┆ 0.445731     ┆ 87   ┆ 7            │
│ IOSTUSDT     ┆ 0.475925     ┆ 88   ┆ 6            │
│ BLZUSDT      ┆ 0.480676     ┆ 89   ┆ 5            │
│ ICXUSDT      ┆ 0.506475     ┆ 90   ┆ 4            │
│ ONEUSDT      ┆ 0.514387     ┆ 91   ┆ 3            │
│ SKLUSDT      ┆ 0.576302     ┆ 92   ┆ 2            │
│ CELRUSDT     ┆ 0.659025     ┆ 93   ┆ 1            │
│ ARPAUSDT     ┆ 0.851012     ┆ 94   ┆ 0            │
└──────────────┴──────────────┴──────┴──────────────┘
2024-12-13 00:56:49,569 - WARNING - 2023-01-13T23:59:59.999=====cur_long_scale: 1.2 not match == long_value_ratio: 1.0
2024-12-13 00:56:49,569 - INFO - cur close time: 2023-01-13T23:59:59.999 == long_value_ratio: 1.0 == short_value_ratio: 1.0 --- 1.2
2024-12-13 00:56:49,569 - DEBUG - mean expected ret (mean factor): -0.10658010845939629
2024-12-13 00:56:49,575 - DEBUG - begin to update pos: =========
2024-12-13 00:56:49,575 - DEBUG - next_step_value: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ f64     ┆ i64    ┆ i64     ┆ i64     │
│ i64         ┆ i64         ┆ f64         ┆ i64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0           ┆ 0           ┆ -10000.0    ┆ 0           ┆ … ┆ 5000.0  ┆ 0      ┆ 0       ┆ 0       │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:49,575 - DEBUG - all_open_price_when_open_pos: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ f64     ┆ f64    ┆ f64     ┆ f64     │
│ f64         ┆ f64         ┆ f64         ┆ f64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ null        ┆ null        ┆ 0.1769      ┆ null        ┆ … ┆ 0.02592 ┆ null   ┆ null    ┆ 0.1913  │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:49,577 - DEBUG - update position: 2023-01-13T23:59:59.999 === diff_trading_value: 213211.9435835233 == cash: 96183.83744980232 
2024-12-13 00:56:49,582 - INFO - pnl: 2023-01-13T23:59:59.999 96183.83744980232 === -3.990%
2024-12-13 00:56:49,584 - DEBUG - cur time: 2023-01-14T23:59:59.999 == next bar open time: 2023-01-15T00:00:00.000 == close pos time: 2023-01-20T00:00:00.000
2024-12-13 00:56:49,587 - INFO - pnl: 2023-01-14T23:59:59.999 92118.61000826504 === -4.227%
2024-12-13 00:56:49,587 - DEBUG - cur time: 2023-01-15T23:59:59.999 == next bar open time: 2023-01-16T00:00:00.000 == close pos time: 2023-01-21T00:00:00.000
2024-12-13 00:56:49,591 - INFO - pnl: 2023-01-15T23:59:59.999 91236.46939652637 === -0.958%
2024-12-13 00:56:49,592 - DEBUG - cur time: 2023-01-16T23:59:59.999 == next bar open time: 2023-01-17T00:00:00.000 == close pos time: 2023-01-22T00:00:00.000
2024-12-13 00:56:49,592 - INFO - pnl: 2023-01-16T23:59:59.999 92896.45176013149 === 1.819%
2024-12-13 00:56:49,597 - DEBUG - cur time: 2023-01-17T23:59:59.999 == next bar open time: 2023-01-18T00:00:00.000 == close pos time: 2023-01-23T00:00:00.000
2024-12-13 00:56:49,597 - INFO - pnl: 2023-01-17T23:59:59.999 95444.34553974973 === 2.743%
2024-12-13 00:56:49,600 - DEBUG - cur time: 2023-01-18T23:59:59.999 == next bar open time: 2023-01-19T00:00:00.000 == close pos time: 2023-01-24T00:00:00.000
2024-12-13 00:56:49,610 - DEBUG - close time 2023-01-18T23:59:59.999 == vol_threshold: 28166395.0
2024-12-13 00:56:49,610 - DEBUG - 2023-01-18T23:59:59.999 == all trade symbol 136 == remain 95 after VOL filter
2024-12-13 00:56:49,610 - DEBUG - sorted_long_factors: shape: (95, 4)
┌──────────────┬──────────────┬──────┬──────────────┐
│ symbol       ┆ factor_value ┆ rank ┆ reverse_rank │
│ ---          ┆ ---          ┆ ---  ┆ ---          │
│ str          ┆ f64          ┆ u32  ┆ u32          │
╞══════════════╪══════════════╪══════╪══════════════╡
│ KAVAUSDT     ┆ -0.859791    ┆ 0    ┆ 94           │
│ DOTUSDT      ┆ -0.732044    ┆ 1    ┆ 93           │
│ LUNA2USDT    ┆ -0.711885    ┆ 2    ┆ 92           │
│ 1000LUNCUSDT ┆ -0.704249    ┆ 3    ┆ 91           │
│ GALUSDT      ┆ -0.686416    ┆ 4    ┆ 90           │
│ ALPHAUSDT    ┆ -0.683243    ┆ 5    ┆ 89           │
│ THETAUSDT    ┆ -0.585178    ┆ 6    ┆ 88           │
│ MATICUSDT    ┆ -0.583224    ┆ 7    ┆ 87           │
│ XRPUSDT      ┆ -0.566673    ┆ 8    ┆ 86           │
│ FILUSDT      ┆ -0.564098    ┆ 9    ┆ 85           │
│ …            ┆ …            ┆ …    ┆ …            │
│ 1000XECUSDT  ┆ 0.32753      ┆ 85   ┆ 9            │
│ IOSTUSDT     ┆ 0.338182     ┆ 86   ┆ 8            │
│ OGNUSDT      ┆ 0.346867     ┆ 87   ┆ 7            │
│ C98USDT      ┆ 0.421102     ┆ 88   ┆ 6            │
│ SFPUSDT      ┆ 0.421787     ┆ 89   ┆ 5            │
│ IOTXUSDT     ┆ 0.496878     ┆ 90   ┆ 4            │
│ BAKEUSDT     ┆ 0.516336     ┆ 91   ┆ 3            │
│ FLMUSDT      ┆ 0.577963     ┆ 92   ┆ 2            │
│ CTSIUSDT     ┆ 0.60554      ┆ 93   ┆ 1            │
│ ARPAUSDT     ┆ 0.96487      ┆ 94   ┆ 0            │
└──────────────┴──────────────┴──────┴──────────────┘
2024-12-13 00:56:49,617 - INFO - cur close time: 2023-01-18T23:59:59.999 == long_value_ratio: 1.0 == short_value_ratio: 1.0 --- 1.0
2024-12-13 00:56:49,617 - DEBUG - mean expected ret (mean factor): -0.09169357647635784
2024-12-13 00:56:49,624 - DEBUG - begin to update pos: =========
2024-12-13 00:56:49,624 - DEBUG - next_step_value: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ i64     ┆ i64    ┆ i64     ┆ i64     │
│ i64         ┆ i64         ┆ f64         ┆ i64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0           ┆ 0           ┆ -10000.0    ┆ 0           ┆ … ┆ 0       ┆ 0      ┆ 0       ┆ 0       │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:49,625 - DEBUG - all_open_price_when_open_pos: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ f64     ┆ f64    ┆ f64     ┆ f64     │
│ f64         ┆ f64         ┆ f64         ┆ f64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ null        ┆ null        ┆ 0.1616      ┆ null        ┆ … ┆ 0.0247  ┆ null   ┆ null    ┆ 0.1972  │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:49,630 - DEBUG - update position: 2023-01-18T23:59:59.999 === diff_trading_value: 244115.6838839096 == cash: 94167.71037805881 
2024-12-13 00:56:49,630 - INFO - pnl: 2023-01-18T23:59:59.999 94167.71037805881 === -1.338%
2024-12-13 00:56:49,634 - DEBUG - cur time: 2023-01-19T23:59:59.999 == next bar open time: 2023-01-20T00:00:00.000 == close pos time: 2023-01-25T00:00:00.000
2024-12-13 00:56:49,638 - INFO - pnl: 2023-01-19T23:59:59.999 94628.82221233084 === 0.490%
2024-12-13 00:56:49,641 - DEBUG - cur time: 2023-01-20T23:59:59.999 == next bar open time: 2023-01-21T00:00:00.000 == close pos time: 2023-01-26T00:00:00.000
2024-12-13 00:56:49,644 - INFO - pnl: 2023-01-20T23:59:59.999 95469.72067935755 === 0.889%
2024-12-13 00:56:49,647 - DEBUG - cur time: 2023-01-21T23:59:59.999 == next bar open time: 2023-01-22T00:00:00.000 == close pos time: 2023-01-27T00:00:00.000
2024-12-13 00:56:49,647 - INFO - pnl: 2023-01-21T23:59:59.999 94582.61273162291 === -0.929%
2024-12-13 00:56:49,651 - DEBUG - cur time: 2023-01-22T23:59:59.999 == next bar open time: 2023-01-23T00:00:00.000 == close pos time: 2023-01-28T00:00:00.000
2024-12-13 00:56:49,651 - INFO - pnl: 2023-01-22T23:59:59.999 94749.2095014435 === 0.176%
2024-12-13 00:56:49,655 - DEBUG - cur time: 2023-01-23T23:59:59.999 == next bar open time: 2023-01-24T00:00:00.000 == close pos time: 2023-01-29T00:00:00.000
2024-12-13 00:56:49,663 - DEBUG - close time 2023-01-23T23:59:59.999 == vol_threshold: 28406128.6
2024-12-13 00:56:49,663 - DEBUG - 2023-01-23T23:59:59.999 == all trade symbol 136 == remain 95 after VOL filter
2024-12-13 00:56:49,667 - DEBUG - sorted_long_factors: shape: (95, 4)
┌──────────────┬──────────────┬──────┬──────────────┐
│ symbol       ┆ factor_value ┆ rank ┆ reverse_rank │
│ ---          ┆ ---          ┆ ---  ┆ ---          │
│ str          ┆ f64          ┆ u32  ┆ u32          │
╞══════════════╪══════════════╪══════╪══════════════╡
│ APEUSDT      ┆ -1.011826    ┆ 0    ┆ 94           │
│ LDOUSDT      ┆ -0.929496    ┆ 1    ┆ 93           │
│ STGUSDT      ┆ -0.908132    ┆ 2    ┆ 92           │
│ RLCUSDT      ┆ -0.818039    ┆ 3    ┆ 91           │
│ FILUSDT      ┆ -0.781585    ┆ 4    ┆ 90           │
│ OCEANUSDT    ┆ -0.771812    ┆ 5    ┆ 89           │
│ 1000LUNCUSDT ┆ -0.747876    ┆ 6    ┆ 88           │
│ DOTUSDT      ┆ -0.697553    ┆ 7    ┆ 87           │
│ APTUSDT      ┆ -0.696554    ┆ 8    ┆ 86           │
│ GMTUSDT      ┆ -0.678528    ┆ 9    ┆ 85           │
│ …            ┆ …            ┆ …    ┆ …            │
│ C98USDT      ┆ 0.367897     ┆ 85   ┆ 9            │
│ ONTUSDT      ┆ 0.401182     ┆ 86   ┆ 8            │
│ CELRUSDT     ┆ 0.407433     ┆ 87   ┆ 7            │
│ OGNUSDT      ┆ 0.411208     ┆ 88   ┆ 6            │
│ ENJUSDT      ┆ 0.44926      ┆ 89   ┆ 5            │
│ BATUSDT      ┆ 0.463371     ┆ 90   ┆ 4            │
│ SKLUSDT      ┆ 0.576059     ┆ 91   ┆ 3            │
│ ICXUSDT      ┆ 0.61788      ┆ 92   ┆ 2            │
│ RVNUSDT      ┆ 0.806287     ┆ 93   ┆ 1            │
│ ARPAUSDT     ┆ 0.911777     ┆ 94   ┆ 0            │
└──────────────┴──────────────┴──────┴──────────────┘
2024-12-13 00:56:49,671 - WARNING - 2023-01-23T23:59:59.999=====cur_long_scale: 1.2 not match == long_value_ratio: 1.0
2024-12-13 00:56:49,671 - INFO - cur close time: 2023-01-23T23:59:59.999 == long_value_ratio: 1.0 == short_value_ratio: 1.0 --- 1.2
2024-12-13 00:56:49,671 - DEBUG - mean expected ret (mean factor): -0.11976140968719991
2024-12-13 00:56:49,676 - DEBUG - begin to update pos: =========
2024-12-13 00:56:49,677 - DEBUG - next_step_value: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ i64     ┆ i64    ┆ i64     ┆ i64     │
│ i64         ┆ i64         ┆ f64         ┆ i64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0           ┆ 0           ┆ -10000.0    ┆ 0           ┆ … ┆ 0       ┆ 0      ┆ 0       ┆ 0       │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:49,677 - DEBUG - all_open_price_when_open_pos: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ f64     ┆ f64    ┆ f64     ┆ f64     │
│ f64         ┆ f64         ┆ f64         ┆ f64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ null        ┆ null        ┆ 0.179       ┆ null        ┆ … ┆ 0.02866 ┆ null   ┆ null    ┆ 0.2267  │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:49,683 - DEBUG - update position: 2023-01-23T23:59:59.999 === diff_trading_value: 253689.57584487388 == cash: 97069.64507642365 
2024-12-13 00:56:49,684 - INFO - pnl: 2023-01-23T23:59:59.999 97069.64507642365 === 2.449%
2024-12-13 00:56:49,687 - DEBUG - cur time: 2023-01-24T23:59:59.999 == next bar open time: 2023-01-25T00:00:00.000 == close pos time: 2023-01-30T00:00:00.000
2024-12-13 00:56:49,688 - INFO - pnl: 2023-01-24T23:59:59.999 100746.0777843352 === 3.787%
2024-12-13 00:56:49,688 - DEBUG - cur time: 2023-01-25T23:59:59.999 == next bar open time: 2023-01-26T00:00:00.000 == close pos time: 2023-01-31T00:00:00.000
2024-12-13 00:56:49,692 - INFO - pnl: 2023-01-25T23:59:59.999 93944.76080015104 === -6.751%
2024-12-13 00:56:49,692 - DEBUG - cur time: 2023-01-26T23:59:59.999 == next bar open time: 2023-01-27T00:00:00.000 == close pos time: 2023-02-01T00:00:00.000
2024-12-13 00:56:49,692 - INFO - pnl: 2023-01-26T23:59:59.999 95727.83847701683 === 1.898%
2024-12-13 00:56:49,697 - DEBUG - cur time: 2023-01-27T23:59:59.999 == next bar open time: 2023-01-28T00:00:00.000 == close pos time: 2023-02-02T00:00:00.000
2024-12-13 00:56:49,699 - INFO - pnl: 2023-01-27T23:59:59.999 98653.57878015508 === 3.056%
2024-12-13 00:56:49,700 - DEBUG - cur time: 2023-01-28T23:59:59.999 == next bar open time: 2023-01-29T00:00:00.000 == close pos time: 2023-02-03T00:00:00.000
2024-12-13 00:56:49,708 - DEBUG - close time 2023-01-28T23:59:59.999 == vol_threshold: 19004748.4
2024-12-13 00:56:49,708 - DEBUG - 2023-01-28T23:59:59.999 == all trade symbol 136 == remain 95 after VOL filter
2024-12-13 00:56:49,708 - DEBUG - sorted_long_factors: shape: (95, 4)
┌──────────────┬──────────────┬──────┬──────────────┐
│ symbol       ┆ factor_value ┆ rank ┆ reverse_rank │
│ ---          ┆ ---          ┆ ---  ┆ ---          │
│ str          ┆ f64          ┆ u32  ┆ u32          │
╞══════════════╪══════════════╪══════╪══════════════╡
│ WAVESUSDT    ┆ -1.023505    ┆ 0    ┆ 94           │
│ LUNA2USDT    ┆ -1.00452     ┆ 1    ┆ 93           │
│ 1000LUNCUSDT ┆ -0.826698    ┆ 2    ┆ 92           │
│ GALAUSDT     ┆ -0.814693    ┆ 3    ┆ 91           │
│ LDOUSDT      ┆ -0.771735    ┆ 4    ┆ 90           │
│ MANAUSDT     ┆ -0.756092    ┆ 5    ┆ 89           │
│ RLCUSDT      ┆ -0.725417    ┆ 6    ┆ 88           │
│ DOTUSDT      ┆ -0.674328    ┆ 7    ┆ 87           │
│ STGUSDT      ┆ -0.627713    ┆ 8    ┆ 86           │
│ AXSUSDT      ┆ -0.623449    ┆ 9    ┆ 85           │
│ …            ┆ …            ┆ …    ┆ …            │
│ DENTUSDT     ┆ 0.433147     ┆ 85   ┆ 9            │
│ STMXUSDT     ┆ 0.441097     ┆ 86   ┆ 8            │
│ SKLUSDT      ┆ 0.472546     ┆ 87   ┆ 7            │
│ 1000XECUSDT  ┆ 0.472563     ┆ 88   ┆ 6            │
│ IOSTUSDT     ┆ 0.552808     ┆ 89   ┆ 5            │
│ BLZUSDT      ┆ 0.554974     ┆ 90   ┆ 4            │
│ SFPUSDT      ┆ 0.587022     ┆ 91   ┆ 3            │
│ SPELLUSDT    ┆ 0.629499     ┆ 92   ┆ 2            │
│ ARPAUSDT     ┆ 0.711102     ┆ 93   ┆ 1            │
│ DGBUSDT      ┆ 0.733781     ┆ 94   ┆ 0            │
└──────────────┴──────────────┴──────┴──────────────┘
2024-12-13 00:56:49,717 - WARNING - 2023-01-28T23:59:59.999=====cur_long_scale: 1.2 not match == long_value_ratio: 1.0
2024-12-13 00:56:49,717 - INFO - cur close time: 2023-01-28T23:59:59.999 == long_value_ratio: 1.0 == short_value_ratio: 1.0 --- 1.2
2024-12-13 00:56:49,717 - DEBUG - mean expected ret (mean factor): -0.13480257949395877
2024-12-13 00:56:49,721 - DEBUG - begin to update pos: =========
2024-12-13 00:56:49,721 - DEBUG - next_step_value: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ i64     ┆ i64    ┆ i64     ┆ i64     │
│ i64         ┆ i64         ┆ f64         ┆ i64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0           ┆ 0           ┆ -10000.0    ┆ 0           ┆ … ┆ 0       ┆ 0      ┆ 0       ┆ 0       │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:49,721 - DEBUG - all_open_price_when_open_pos: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ f64     ┆ f64    ┆ f64     ┆ f64     │
│ f64         ┆ f64         ┆ f64         ┆ f64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ null        ┆ null        ┆ 0.1734      ┆ null        ┆ … ┆ 0.02915 ┆ null   ┆ null    ┆ 0.23    │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:49,727 - DEBUG - update position: 2023-01-28T23:59:59.999 === diff_trading_value: 202902.24644932643 == cash: 98451.33558168587 
2024-12-13 00:56:49,730 - INFO - pnl: 2023-01-28T23:59:59.999 98451.33558168587 === -0.205%
2024-12-13 00:56:49,730 - DEBUG - cur time: 2023-01-29T23:59:59.999 == next bar open time: 2023-01-30T00:00:00.000 == close pos time: 2023-02-04T00:00:00.000
2024-12-13 00:56:49,734 - INFO - pnl: 2023-01-29T23:59:59.999 97547.51248457668 === -0.918%
2024-12-13 00:56:49,737 - DEBUG - cur time: 2023-01-30T23:59:59.999 == next bar open time: 2023-01-31T00:00:00.000 == close pos time: 2023-02-05T00:00:00.000
2024-12-13 00:56:49,738 - INFO - pnl: 2023-01-30T23:59:59.999 99792.60773804385 === 2.302%
2024-12-13 00:56:49,741 - DEBUG - cur time: 2023-01-31T23:59:59.999 == next bar open time: 2023-02-01T00:00:00.000 == close pos time: 2023-02-06T00:00:00.000
2024-12-13 00:56:49,744 - INFO - pnl: 2023-01-31T23:59:59.999 100115.43589329973 === 0.323%
2024-12-13 00:56:49,747 - DEBUG - cur time: 2023-02-01T23:59:59.999 == next bar open time: 2023-02-02T00:00:00.000 == close pos time: 2023-02-07T00:00:00.000
2024-12-13 00:56:49,747 - INFO - pnl: 2023-02-01T23:59:59.999 98946.1979113285 === -1.168%
2024-12-13 00:56:49,751 - DEBUG - cur time: 2023-02-02T23:59:59.999 == next bar open time: 2023-02-03T00:00:00.000 == close pos time: 2023-02-08T00:00:00.000
2024-12-13 00:56:49,760 - DEBUG - close time 2023-02-02T23:59:59.999 == vol_threshold: 31305303.35
2024-12-13 00:56:49,760 - DEBUG - 2023-02-02T23:59:59.999 == all trade symbol 136 == remain 95 after VOL filter
2024-12-13 00:56:49,764 - DEBUG - sorted_long_factors: shape: (95, 4)
┌───────────┬──────────────┬──────┬──────────────┐
│ symbol    ┆ factor_value ┆ rank ┆ reverse_rank │
│ ---       ┆ ---          ┆ ---  ┆ ---          │
│ str       ┆ f64          ┆ u32  ┆ u32          │
╞═══════════╪══════════════╪══════╪══════════════╡
│ OPUSDT    ┆ -0.927456    ┆ 0    ┆ 94           │
│ LDOUSDT   ┆ -0.885922    ┆ 1    ┆ 93           │
│ DOTUSDT   ┆ -0.771567    ┆ 2    ┆ 92           │
│ KAVAUSDT  ┆ -0.651635    ┆ 3    ┆ 91           │
│ GMTUSDT   ┆ -0.58346     ┆ 4    ┆ 90           │
│ SUSHIUSDT ┆ -0.568182    ┆ 5    ┆ 89           │
│ APTUSDT   ┆ -0.545445    ┆ 6    ┆ 88           │
│ CHZUSDT   ┆ -0.544186    ┆ 7    ┆ 87           │
│ FTMUSDT   ┆ -0.542497    ┆ 8    ┆ 86           │
│ LITUSDT   ┆ -0.522582    ┆ 9    ┆ 85           │
│ …         ┆ …            ┆ …    ┆ …            │
│ IOSTUSDT  ┆ 0.396997     ┆ 85   ┆ 9            │
│ BATUSDT   ┆ 0.398487     ┆ 86   ┆ 8            │
│ DUSKUSDT  ┆ 0.406412     ┆ 87   ┆ 7            │
│ FLMUSDT   ┆ 0.418053     ┆ 88   ┆ 6            │
│ SPELLUSDT ┆ 0.445488     ┆ 89   ┆ 5            │
│ ARPAUSDT  ┆ 0.537063     ┆ 90   ┆ 4            │
│ ONTUSDT   ┆ 0.569644     ┆ 91   ┆ 3            │
│ TOMOUSDT  ┆ 0.790918     ┆ 92   ┆ 2            │
│ CTSIUSDT  ┆ 0.971567     ┆ 93   ┆ 1            │
│ DGBUSDT   ┆ 1.013437     ┆ 94   ┆ 0            │
└───────────┴──────────────┴──────┴──────────────┘
2024-12-13 00:56:49,768 - WARNING - 2023-02-02T23:59:59.999=====cur_long_scale: 1.2 not match == long_value_ratio: 1.0
2024-12-13 00:56:49,768 - INFO - cur close time: 2023-02-02T23:59:59.999 == long_value_ratio: 1.0 == short_value_ratio: 1.0 --- 1.2
2024-12-13 00:56:49,768 - DEBUG - mean expected ret (mean factor): -0.07615649596839073
2024-12-13 00:56:49,774 - DEBUG - begin to update pos: =========
2024-12-13 00:56:49,774 - DEBUG - next_step_value: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ i64     ┆ i64    ┆ i64     ┆ i64     │
│ i64         ┆ i64         ┆ i64         ┆ i64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0           ┆ 0           ┆ 0           ┆ 0           ┆ … ┆ 0       ┆ 0      ┆ 0       ┆ 0       │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:49,775 - DEBUG - all_open_price_when_open_pos: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ f64     ┆ f64    ┆ f64     ┆ f64     │
│ f64         ┆ f64         ┆ f64         ┆ f64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ null        ┆ null        ┆ 0.1694      ┆ null        ┆ … ┆ 0.02826 ┆ null   ┆ null    ┆ 0.2322  │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:49,779 - DEBUG - update position: 2023-02-02T23:59:59.999 === diff_trading_value: 227858.5217821761 == cash: 102102.55197298834 
2024-12-13 00:56:49,779 - INFO - pnl: 2023-02-02T23:59:59.999 102102.55197298834 === 3.190%
2024-12-13 00:56:49,783 - DEBUG - cur time: 2023-02-03T23:59:59.999 == next bar open time: 2023-02-04T00:00:00.000 == close pos time: 2023-02-09T00:00:00.000
2024-12-13 00:56:49,787 - INFO - pnl: 2023-02-03T23:59:59.999 103497.53689273002 === 1.366%
2024-12-13 00:56:49,787 - DEBUG - cur time: 2023-02-04T23:59:59.999 == next bar open time: 2023-02-05T00:00:00.000 == close pos time: 2023-02-10T00:00:00.000
2024-12-13 00:56:49,791 - INFO - pnl: 2023-02-04T23:59:59.999 107453.12023377567 === 3.822%
2024-12-13 00:56:49,791 - DEBUG - cur time: 2023-02-05T23:59:59.999 == next bar open time: 2023-02-06T00:00:00.000 == close pos time: 2023-02-11T00:00:00.000
2024-12-13 00:56:49,795 - INFO - pnl: 2023-02-05T23:59:59.999 110006.30672159929 === 2.376%
2024-12-13 00:56:49,797 - DEBUG - cur time: 2023-02-06T23:59:59.999 == next bar open time: 2023-02-07T00:00:00.000 == close pos time: 2023-02-12T00:00:00.000
2024-12-13 00:56:49,799 - INFO - pnl: 2023-02-06T23:59:59.999 109773.03350801238 === -0.212%
2024-12-13 00:56:49,799 - DEBUG - cur time: 2023-02-07T23:59:59.999 == next bar open time: 2023-02-08T00:00:00.000 == close pos time: 2023-02-13T00:00:00.000
2024-12-13 00:56:49,809 - DEBUG - close time 2023-02-07T23:59:59.999 == vol_threshold: 28203167.1
2024-12-13 00:56:49,809 - DEBUG - 2023-02-07T23:59:59.999 == all trade symbol 136 == remain 95 after VOL filter
2024-12-13 00:56:49,809 - DEBUG - sorted_long_factors: shape: (95, 4)
┌───────────┬──────────────┬──────┬──────────────┐
│ symbol    ┆ factor_value ┆ rank ┆ reverse_rank │
│ ---       ┆ ---          ┆ ---  ┆ ---          │
│ str       ┆ f64          ┆ u32  ┆ u32          │
╞═══════════╪══════════════╪══════╪══════════════╡
│ APTUSDT   ┆ -1.097033    ┆ 0    ┆ 94           │
│ OCEANUSDT ┆ -0.870634    ┆ 1    ┆ 93           │
│ LDOUSDT   ┆ -0.864136    ┆ 2    ┆ 92           │
│ SNXUSDT   ┆ -0.844384    ┆ 3    ┆ 91           │
│ STGUSDT   ┆ -0.719283    ┆ 4    ┆ 90           │
│ RLCUSDT   ┆ -0.688735    ┆ 5    ┆ 89           │
│ GMTUSDT   ┆ -0.660476    ┆ 6    ┆ 88           │
│ APEUSDT   ┆ -0.540415    ┆ 7    ┆ 87           │
│ SFPUSDT   ┆ -0.511211    ┆ 8    ┆ 86           │
│ MTLUSDT   ┆ -0.499909    ┆ 9    ┆ 85           │
│ …         ┆ …            ┆ …    ┆ …            │
│ IMXUSDT   ┆ 0.380836     ┆ 85   ┆ 9            │
│ RSRUSDT   ┆ 0.3826       ┆ 86   ┆ 8            │
│ FLMUSDT   ┆ 0.387429     ┆ 87   ┆ 7            │
│ DUSKUSDT  ┆ 0.428427     ┆ 88   ┆ 6            │
│ NKNUSDT   ┆ 0.447464     ┆ 89   ┆ 5            │
│ STMXUSDT  ┆ 0.540338     ┆ 90   ┆ 4            │
│ LINAUSDT  ┆ 0.596515     ┆ 91   ┆ 3            │
│ SKLUSDT   ┆ 0.606527     ┆ 92   ┆ 2            │
│ CTSIUSDT  ┆ 0.647286     ┆ 93   ┆ 1            │
│ DGBUSDT   ┆ 1.270405     ┆ 94   ┆ 0            │
└───────────┴──────────────┴──────┴──────────────┘
2024-12-13 00:56:49,817 - WARNING - 2023-02-07T23:59:59.999=====cur_long_scale: 1.2 not match == long_value_ratio: 1.0
2024-12-13 00:56:49,817 - INFO - cur close time: 2023-02-07T23:59:59.999 == long_value_ratio: 1.0 == short_value_ratio: 1.0 --- 1.2
2024-12-13 00:56:49,817 - DEBUG - mean expected ret (mean factor): -0.06239926828018082
2024-12-13 00:56:49,821 - DEBUG - begin to update pos: =========
2024-12-13 00:56:49,821 - DEBUG - next_step_value: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ i64     ┆ i64    ┆ i64     ┆ i64     │
│ i64         ┆ i64         ┆ i64         ┆ i64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0           ┆ 0           ┆ 0           ┆ 0           ┆ … ┆ 0       ┆ 0      ┆ 0       ┆ 0       │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:49,821 - DEBUG - all_open_price_when_open_pos: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ f64     ┆ f64    ┆ f64     ┆ f64     │
│ f64         ┆ f64         ┆ f64         ┆ f64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ null        ┆ null        ┆ 0.1862      ┆ null        ┆ … ┆ 0.03091 ┆ null   ┆ null    ┆ 0.261   │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:49,829 - DEBUG - update position: 2023-02-07T23:59:59.999 === diff_trading_value: 257786.6694600474 == cash: 109178.8683962891 
2024-12-13 00:56:49,829 - INFO - pnl: 2023-02-07T23:59:59.999 109178.8683962891 === -0.541%
2024-12-13 00:56:49,834 - DEBUG - cur time: 2023-02-08T23:59:59.999 == next bar open time: 2023-02-09T00:00:00.000 == close pos time: 2023-02-14T00:00:00.000
2024-12-13 00:56:49,834 - INFO - pnl: 2023-02-08T23:59:59.999 110267.71358802628 === 0.997%
2024-12-13 00:56:49,837 - DEBUG - cur time: 2023-02-09T23:59:59.999 == next bar open time: 2023-02-10T00:00:00.000 == close pos time: 2023-02-15T00:00:00.000
2024-12-13 00:56:49,837 - INFO - pnl: 2023-02-09T23:59:59.999 109794.67425977069 === -0.429%
2024-12-13 00:56:49,841 - DEBUG - cur time: 2023-02-10T23:59:59.999 == next bar open time: 2023-02-11T00:00:00.000 == close pos time: 2023-02-16T00:00:00.000
2024-12-13 00:56:49,841 - INFO - pnl: 2023-02-10T23:59:59.999 114789.94244978897 === 4.550%
2024-12-13 00:56:49,847 - DEBUG - cur time: 2023-02-11T23:59:59.999 == next bar open time: 2023-02-12T00:00:00.000 == close pos time: 2023-02-17T00:00:00.000
2024-12-13 00:56:49,849 - INFO - pnl: 2023-02-11T23:59:59.999 116275.13642193946 === 1.294%
2024-12-13 00:56:49,853 - DEBUG - cur time: 2023-02-12T23:59:59.999 == next bar open time: 2023-02-13T00:00:00.000 == close pos time: 2023-02-18T00:00:00.000
2024-12-13 00:56:49,861 - DEBUG - close time 2023-02-12T23:59:59.999 == vol_threshold: 13600306.45
2024-12-13 00:56:49,861 - DEBUG - 2023-02-12T23:59:59.999 == all trade symbol 136 == remain 95 after VOL filter
2024-12-13 00:56:49,861 - DEBUG - sorted_long_factors: shape: (95, 4)
┌──────────────┬──────────────┬──────┬──────────────┐
│ symbol       ┆ factor_value ┆ rank ┆ reverse_rank │
│ ---          ┆ ---          ┆ ---  ┆ ---          │
│ str          ┆ f64          ┆ u32  ┆ u32          │
╞══════════════╪══════════════╪══════╪══════════════╡
│ LDOUSDT      ┆ -0.912555    ┆ 0    ┆ 94           │
│ LITUSDT      ┆ -0.821006    ┆ 1    ┆ 93           │
│ INJUSDT      ┆ -0.788474    ┆ 2    ┆ 92           │
│ STGUSDT      ┆ -0.753729    ┆ 3    ┆ 91           │
│ 1000LUNCUSDT ┆ -0.750489    ┆ 4    ┆ 90           │
│ MASKUSDT     ┆ -0.687423    ┆ 5    ┆ 89           │
│ MTLUSDT      ┆ -0.608394    ┆ 6    ┆ 88           │
│ NEARUSDT     ┆ -0.571702    ┆ 7    ┆ 87           │
│ ZENUSDT      ┆ -0.54072     ┆ 8    ┆ 86           │
│ TRXUSDT      ┆ -0.51718     ┆ 9    ┆ 85           │
│ …            ┆ …            ┆ …    ┆ …            │
│ RSRUSDT      ┆ 0.415469     ┆ 85   ┆ 9            │
│ CELRUSDT     ┆ 0.440131     ┆ 86   ┆ 8            │
│ FLMUSDT      ┆ 0.47753      ┆ 87   ┆ 7            │
│ CTSIUSDT     ┆ 0.478918     ┆ 88   ┆ 6            │
│ FTMUSDT      ┆ 0.491248     ┆ 89   ┆ 5            │
│ TOMOUSDT     ┆ 0.591776     ┆ 90   ┆ 4            │
│ SKLUSDT      ┆ 0.699847     ┆ 91   ┆ 3            │
│ LINAUSDT     ┆ 0.715389     ┆ 92   ┆ 2            │
│ DENTUSDT     ┆ 0.960629     ┆ 93   ┆ 1            │
│ DGBUSDT      ┆ 1.562175     ┆ 94   ┆ 0            │
└──────────────┴──────────────┴──────┴──────────────┘
2024-12-13 00:56:49,868 - WARNING - 2023-02-12T23:59:59.999=====cur_long_scale: 0.8 not match == long_value_ratio: 1.0
2024-12-13 00:56:49,868 - INFO - cur close time: 2023-02-12T23:59:59.999 == long_value_ratio: 1.0 == short_value_ratio: 1.0 --- 0.8
2024-12-13 00:56:49,872 - DEBUG - mean expected ret (mean factor): -0.08266995856265241
2024-12-13 00:56:49,876 - DEBUG - begin to update pos: =========
2024-12-13 00:56:49,877 - DEBUG - next_step_value: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ i64     ┆ i64    ┆ i64     ┆ i64     │
│ i64         ┆ i64         ┆ f64         ┆ i64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0           ┆ 0           ┆ -10000.0    ┆ 0           ┆ … ┆ 0       ┆ 0      ┆ 0       ┆ 0       │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:49,877 - DEBUG - all_open_price_when_open_pos: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ f64     ┆ f64    ┆ f64     ┆ f64     │
│ f64         ┆ f64         ┆ f64         ┆ f64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ null        ┆ null        ┆ 0.1651      ┆ null        ┆ … ┆ 0.02919 ┆ null   ┆ null    ┆ 0.234   │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:49,881 - DEBUG - update position: 2023-02-12T23:59:59.999 === diff_trading_value: 246258.71779518086 == cash: 117271.31596301692 
2024-12-13 00:56:49,885 - INFO - pnl: 2023-02-12T23:59:59.999 117271.31596301692 === 0.857%
2024-12-13 00:56:49,887 - DEBUG - cur time: 2023-02-13T23:59:59.999 == next bar open time: 2023-02-14T00:00:00.000 == close pos time: 2023-02-19T00:00:00.000
2024-12-13 00:56:49,887 - INFO - pnl: 2023-02-13T23:59:59.999 117450.92459841823 === 0.153%
2024-12-13 00:56:49,891 - DEBUG - cur time: 2023-02-14T23:59:59.999 == next bar open time: 2023-02-15T00:00:00.000 == close pos time: 2023-02-20T00:00:00.000
2024-12-13 00:56:49,893 - INFO - pnl: 2023-02-14T23:59:59.999 116878.19941192707 === -0.488%
2024-12-13 00:56:49,894 - DEBUG - cur time: 2023-02-15T23:59:59.999 == next bar open time: 2023-02-16T00:00:00.000 == close pos time: 2023-02-21T00:00:00.000
2024-12-13 00:56:49,897 - INFO - pnl: 2023-02-15T23:59:59.999 112057.7238750401 === -4.124%
2024-12-13 00:56:49,898 - DEBUG - cur time: 2023-02-16T23:59:59.999 == next bar open time: 2023-02-17T00:00:00.000 == close pos time: 2023-02-22T00:00:00.000
2024-12-13 00:56:49,898 - INFO - pnl: 2023-02-16T23:59:59.999 112037.93108490786 === -0.018%
2024-12-13 00:56:49,902 - DEBUG - cur time: 2023-02-17T23:59:59.999 == next bar open time: 2023-02-18T00:00:00.000 == close pos time: 2023-02-23T00:00:00.000
2024-12-13 00:56:49,910 - DEBUG - close time 2023-02-17T23:59:59.999 == vol_threshold: 23315541.0
2024-12-13 00:56:49,910 - DEBUG - 2023-02-17T23:59:59.999 == all trade symbol 136 == remain 95 after VOL filter
2024-12-13 00:56:49,914 - DEBUG - sorted_long_factors: shape: (95, 4)
┌─────────────┬──────────────┬──────┬──────────────┐
│ symbol      ┆ factor_value ┆ rank ┆ reverse_rank │
│ ---         ┆ ---          ┆ ---  ┆ ---          │
│ str         ┆ f64          ┆ u32  ┆ u32          │
╞═════════════╪══════════════╪══════╪══════════════╡
│ INJUSDT     ┆ -0.752246    ┆ 0    ┆ 94           │
│ NEARUSDT    ┆ -0.71322     ┆ 1    ┆ 93           │
│ LDOUSDT     ┆ -0.667501    ┆ 2    ┆ 92           │
│ MATICUSDT   ┆ -0.648868    ┆ 3    ┆ 91           │
│ STGUSDT     ┆ -0.617832    ┆ 4    ┆ 90           │
│ SANDUSDT    ┆ -0.605512    ┆ 5    ┆ 89           │
│ LITUSDT     ┆ -0.585928    ┆ 6    ┆ 88           │
│ CHZUSDT     ┆ -0.499714    ┆ 7    ┆ 87           │
│ MANAUSDT    ┆ -0.487506    ┆ 8    ┆ 86           │
│ CHRUSDT     ┆ -0.483661    ┆ 9    ┆ 85           │
│ …           ┆ …            ┆ …    ┆ …            │
│ DUSKUSDT    ┆ 0.376162     ┆ 85   ┆ 9            │
│ HOTUSDT     ┆ 0.398612     ┆ 86   ┆ 8            │
│ IOTXUSDT    ┆ 0.45995      ┆ 87   ┆ 7            │
│ IOSTUSDT    ┆ 0.494503     ┆ 88   ┆ 6            │
│ CTSIUSDT    ┆ 0.53806      ┆ 89   ┆ 5            │
│ LINAUSDT    ┆ 0.636571     ┆ 90   ┆ 4            │
│ XEMUSDT     ┆ 0.642342     ┆ 91   ┆ 3            │
│ TOMOUSDT    ┆ 0.872423     ┆ 92   ┆ 2            │
│ 1000XECUSDT ┆ 0.944492     ┆ 93   ┆ 1            │
│ DGBUSDT     ┆ 1.160267     ┆ 94   ┆ 0            │
└─────────────┴──────────────┴──────┴──────────────┘
2024-12-13 00:56:49,918 - WARNING - 2023-02-17T23:59:59.999=====cur_long_scale: 1.2 not match == long_value_ratio: 1.0
2024-12-13 00:56:49,918 - INFO - cur close time: 2023-02-17T23:59:59.999 == long_value_ratio: 1.0 == short_value_ratio: 1.0 --- 1.2
2024-12-13 00:56:49,918 - DEBUG - mean expected ret (mean factor): -0.0385113459302056
2024-12-13 00:56:49,926 - DEBUG - begin to update pos: =========
2024-12-13 00:56:49,926 - DEBUG - next_step_value: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ i64     ┆ i64    ┆ i64     ┆ f64     │
│ i64         ┆ i64         ┆ i64         ┆ i64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0           ┆ 0           ┆ 0           ┆ 0           ┆ … ┆ 0       ┆ 0      ┆ 0       ┆ 5000.0  │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:49,926 - DEBUG - all_open_price_when_open_pos: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ f64     ┆ f64    ┆ f64     ┆ f64     │
│ f64         ┆ f64         ┆ f64         ┆ f64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ null        ┆ null        ┆ 0.1701      ┆ null        ┆ … ┆ 0.03193 ┆ null   ┆ null    ┆ 0.2618  │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:49,930 - DEBUG - update position: 2023-02-17T23:59:59.999 === diff_trading_value: 198589.68550855893 == cash: 111977.54822509433 
2024-12-13 00:56:49,934 - INFO - pnl: 2023-02-17T23:59:59.999 111977.54822509433 === -0.054%
2024-12-13 00:56:49,937 - DEBUG - cur time: 2023-02-18T23:59:59.999 == next bar open time: 2023-02-19T00:00:00.000 == close pos time: 2023-02-24T00:00:00.000
2024-12-13 00:56:49,938 - INFO - pnl: 2023-02-18T23:59:59.999 110616.9444136891 === -1.215%
2024-12-13 00:56:49,938 - DEBUG - cur time: 2023-02-19T23:59:59.999 == next bar open time: 2023-02-20T00:00:00.000 == close pos time: 2023-02-25T00:00:00.000
2024-12-13 00:56:49,938 - INFO - pnl: 2023-02-19T23:59:59.999 112225.64020328801 === 1.454%
2024-12-13 00:56:49,942 - DEBUG - cur time: 2023-02-20T23:59:59.999 == next bar open time: 2023-02-21T00:00:00.000 == close pos time: 2023-02-26T00:00:00.000
2024-12-13 00:56:49,942 - INFO - pnl: 2023-02-20T23:59:59.999 119046.15087407126 === 6.077%
2024-12-13 00:56:49,947 - DEBUG - cur time: 2023-02-21T23:59:59.999 == next bar open time: 2023-02-22T00:00:00.000 == close pos time: 2023-02-27T00:00:00.000
2024-12-13 00:56:49,950 - INFO - pnl: 2023-02-21T23:59:59.999 123687.59586233062 === 3.899%
2024-12-13 00:56:49,953 - DEBUG - cur time: 2023-02-22T23:59:59.999 == next bar open time: 2023-02-23T00:00:00.000 == close pos time: 2023-02-28T00:00:00.000
2024-12-13 00:56:49,972 - DEBUG - close time 2023-02-22T23:59:59.999 == vol_threshold: 21296051.34
2024-12-13 00:56:49,972 - DEBUG - 2023-02-22T23:59:59.999 == all trade symbol 136 == remain 95 after VOL filter
2024-12-13 00:56:49,975 - DEBUG - sorted_long_factors: shape: (95, 4)
┌──────────────┬──────────────┬──────┬──────────────┐
│ symbol       ┆ factor_value ┆ rank ┆ reverse_rank │
│ ---          ┆ ---          ┆ ---  ┆ ---          │
│ str          ┆ f64          ┆ u32  ┆ u32          │
╞══════════════╪══════════════╪══════╪══════════════╡
│ APTUSDT      ┆ -0.768303    ┆ 0    ┆ 94           │
│ IMXUSDT      ┆ -0.601093    ┆ 1    ┆ 93           │
│ 1000SHIBUSDT ┆ -0.591487    ┆ 2    ┆ 92           │
│ STGUSDT      ┆ -0.568461    ┆ 3    ┆ 91           │
│ 1000LUNCUSDT ┆ -0.509107    ┆ 4    ┆ 90           │
│ DUSKUSDT     ┆ -0.472601    ┆ 5    ┆ 89           │
│ GRTUSDT      ┆ -0.458412    ┆ 6    ┆ 88           │
│ SANDUSDT     ┆ -0.452513    ┆ 7    ┆ 87           │
│ DOGEUSDT     ┆ -0.447468    ┆ 8    ┆ 86           │
│ ROSEUSDT     ┆ -0.439669    ┆ 9    ┆ 85           │
│ …            ┆ …            ┆ …    ┆ …            │
│ APEUSDT      ┆ 0.278374     ┆ 85   ┆ 9            │
│ CRVUSDT      ┆ 0.285945     ┆ 86   ┆ 8            │
│ FLMUSDT      ┆ 0.303617     ┆ 87   ┆ 7            │
│ ICXUSDT      ┆ 0.332923     ┆ 88   ┆ 6            │
│ ZRXUSDT      ┆ 0.33884      ┆ 89   ┆ 5            │
│ COTIUSDT     ┆ 0.382205     ┆ 90   ┆ 4            │
│ IOSTUSDT     ┆ 0.405758     ┆ 91   ┆ 3            │
│ 1000XECUSDT  ┆ 0.407677     ┆ 92   ┆ 2            │
│ IOTXUSDT     ┆ 0.418204     ┆ 93   ┆ 1            │
│ DARUSDT      ┆ 0.558798     ┆ 94   ┆ 0            │
└──────────────┴──────────────┴──────┴──────────────┘
2024-12-13 00:56:49,983 - WARNING - 2023-02-22T23:59:59.999=====cur_long_scale: 1.2 not match == long_value_ratio: 1.0
2024-12-13 00:56:49,983 - INFO - cur close time: 2023-02-22T23:59:59.999 == long_value_ratio: 1.0 == short_value_ratio: 1.0 --- 1.2
2024-12-13 00:56:49,983 - DEBUG - mean expected ret (mean factor): -0.10704237210502743
2024-12-13 00:56:49,987 - DEBUG - begin to update pos: =========
2024-12-13 00:56:49,987 - DEBUG - next_step_value: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ i64     ┆ i64    ┆ i64     ┆ f64     │
│ i64         ┆ i64         ┆ f64         ┆ i64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0           ┆ 0           ┆ -10000.0    ┆ 0           ┆ … ┆ 0       ┆ 0      ┆ 0       ┆ 5000.0  │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:49,987 - DEBUG - all_open_price_when_open_pos: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ f64     ┆ f64    ┆ f64     ┆ f64     │
│ f64         ┆ f64         ┆ f64         ┆ f64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ null        ┆ null        ┆ 0.1637      ┆ null        ┆ … ┆ 0.03529 ┆ null   ┆ null    ┆ 0.2628  │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:49,995 - DEBUG - update position: 2023-02-22T23:59:59.999 === diff_trading_value: 259896.9063718197 == cash: 122549.93550968241 
2024-12-13 00:56:49,995 - INFO - pnl: 2023-02-22T23:59:59.999 122549.93550968241 === -0.920%
2024-12-13 00:56:49,997 - DEBUG - cur time: 2023-02-23T23:59:59.999 == next bar open time: 2023-02-24T00:00:00.000 == close pos time: 2023-03-01T00:00:00.000
2024-12-13 00:56:49,999 - INFO - pnl: 2023-02-23T23:59:59.999 123222.46988283389 === 0.549%
2024-12-13 00:56:50,003 - DEBUG - cur time: 2023-02-24T23:59:59.999 == next bar open time: 2023-02-25T00:00:00.000 == close pos time: 2023-03-02T00:00:00.000
2024-12-13 00:56:50,003 - INFO - pnl: 2023-02-24T23:59:59.999 123228.83394473532 === 0.005%
2024-12-13 00:56:50,003 - DEBUG - cur time: 2023-02-25T23:59:59.999 == next bar open time: 2023-02-26T00:00:00.000 == close pos time: 2023-03-03T00:00:00.000
2024-12-13 00:56:50,008 - INFO - pnl: 2023-02-25T23:59:59.999 123581.31148365936 === 0.286%
2024-12-13 00:56:50,008 - DEBUG - cur time: 2023-02-26T23:59:59.999 == next bar open time: 2023-02-27T00:00:00.000 == close pos time: 2023-03-04T00:00:00.000
2024-12-13 00:56:50,011 - INFO - pnl: 2023-02-26T23:59:59.999 122389.40038853943 === -0.964%
2024-12-13 00:56:50,011 - DEBUG - cur time: 2023-02-27T23:59:59.999 == next bar open time: 2023-02-28T00:00:00.000 == close pos time: 2023-03-05T00:00:00.000
2024-12-13 00:56:50,023 - DEBUG - close time 2023-02-27T23:59:59.999 == vol_threshold: 17376414.5
2024-12-13 00:56:50,023 - DEBUG - 2023-02-27T23:59:59.999 == all trade symbol 136 == remain 95 after VOL filter
2024-12-13 00:56:50,027 - DEBUG - sorted_long_factors: shape: (95, 4)
┌─────────────┬──────────────┬──────┬──────────────┐
│ symbol      ┆ factor_value ┆ rank ┆ reverse_rank │
│ ---         ┆ ---          ┆ ---  ┆ ---          │
│ str         ┆ f64          ┆ u32  ┆ u32          │
╞═════════════╪══════════════╪══════╪══════════════╡
│ BELUSDT     ┆ -0.778812    ┆ 0    ┆ 94           │
│ LDOUSDT     ┆ -0.777665    ┆ 1    ┆ 93           │
│ STGUSDT     ┆ -0.751445    ┆ 2    ┆ 92           │
│ FILUSDT     ┆ -0.710209    ┆ 3    ┆ 91           │
│ NEOUSDT     ┆ -0.688478    ┆ 4    ┆ 90           │
│ DOTUSDT     ┆ -0.58597     ┆ 5    ┆ 89           │
│ MASKUSDT    ┆ -0.577198    ┆ 6    ┆ 88           │
│ SANDUSDT    ┆ -0.566681    ┆ 7    ┆ 87           │
│ LITUSDT     ┆ -0.479664    ┆ 8    ┆ 86           │
│ NEARUSDT    ┆ -0.457603    ┆ 9    ┆ 85           │
│ …           ┆ …            ┆ …    ┆ …            │
│ IOTXUSDT    ┆ 0.377627     ┆ 85   ┆ 9            │
│ KNCUSDT     ┆ 0.379104     ┆ 86   ┆ 8            │
│ BATUSDT     ┆ 0.404933     ┆ 87   ┆ 7            │
│ CTSIUSDT    ┆ 0.43145      ┆ 88   ┆ 6            │
│ ZRXUSDT     ┆ 0.440502     ┆ 89   ┆ 5            │
│ STMXUSDT    ┆ 0.453291     ┆ 90   ┆ 4            │
│ DGBUSDT     ┆ 0.578817     ┆ 91   ┆ 3            │
│ 1000XECUSDT ┆ 0.579805     ┆ 92   ┆ 2            │
│ ONEUSDT     ┆ 0.58974      ┆ 93   ┆ 1            │
│ DARUSDT     ┆ 0.901574     ┆ 94   ┆ 0            │
└─────────────┴──────────────┴──────┴──────────────┘
2024-12-13 00:56:50,031 - WARNING - 2023-02-27T23:59:59.999=====cur_long_scale: 0.8 not match == long_value_ratio: 1.0
2024-12-13 00:56:50,031 - INFO - cur close time: 2023-02-27T23:59:59.999 == long_value_ratio: 1.0 == short_value_ratio: 1.0 --- 0.8
2024-12-13 00:56:50,031 - DEBUG - mean expected ret (mean factor): -0.0649326889173451
2024-12-13 00:56:50,037 - DEBUG - begin to update pos: =========
2024-12-13 00:56:50,037 - DEBUG - next_step_value: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ i64     ┆ i64    ┆ i64     ┆ f64     │
│ i64         ┆ i64         ┆ i64         ┆ i64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0           ┆ 0           ┆ 0           ┆ 0           ┆ … ┆ 0       ┆ 0      ┆ 0       ┆ 5000.0  │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:50,037 - DEBUG - all_open_price_when_open_pos: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ f64     ┆ f64    ┆ f64     ┆ f64     │
│ f64         ┆ f64         ┆ f64         ┆ f64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ null        ┆ null        ┆ 0.1614      ┆ null        ┆ … ┆ 0.03241 ┆ null   ┆ null    ┆ 0.2614  │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:50,040 - DEBUG - update position: 2023-02-27T23:59:59.999 === diff_trading_value: 257042.40697918797 == cash: 122042.6764553586 
2024-12-13 00:56:50,044 - INFO - pnl: 2023-02-27T23:59:59.999 122042.6764553586 === -0.283%
2024-12-13 00:56:50,047 - DEBUG - cur time: 2023-02-28T23:59:59.999 == next bar open time: 2023-03-01T00:00:00.000 == close pos time: 2023-03-06T00:00:00.000
2024-12-13 00:56:50,047 - INFO - pnl: 2023-02-28T23:59:59.999 123152.26459402361 === 0.909%
2024-12-13 00:56:50,047 - DEBUG - cur time: 2023-03-01T23:59:59.999 == next bar open time: 2023-03-02T00:00:00.000 == close pos time: 2023-03-07T00:00:00.000
2024-12-13 00:56:50,051 - INFO - pnl: 2023-03-01T23:59:59.999 123594.51740671635 === 0.359%
2024-12-13 00:56:50,051 - DEBUG - cur time: 2023-03-02T23:59:59.999 == next bar open time: 2023-03-03T00:00:00.000 == close pos time: 2023-03-08T00:00:00.000
2024-12-13 00:56:50,055 - INFO - pnl: 2023-03-02T23:59:59.999 124044.84229245488 === 0.364%
2024-12-13 00:56:50,058 - DEBUG - cur time: 2023-03-03T23:59:59.999 == next bar open time: 2023-03-04T00:00:00.000 == close pos time: 2023-03-09T00:00:00.000
2024-12-13 00:56:50,060 - INFO - pnl: 2023-03-03T23:59:59.999 123083.16408855356 === -0.775%
2024-12-13 00:56:50,061 - DEBUG - cur time: 2023-03-04T23:59:59.999 == next bar open time: 2023-03-05T00:00:00.000 == close pos time: 2023-03-10T00:00:00.000
2024-12-13 00:56:50,072 - DEBUG - close time 2023-03-04T23:59:59.999 == vol_threshold: 14366277.7
2024-12-13 00:56:50,072 - DEBUG - 2023-03-04T23:59:59.999 == all trade symbol 136 == remain 95 after VOL filter
2024-12-13 00:56:50,073 - DEBUG - sorted_long_factors: shape: (95, 4)
┌──────────────┬──────────────┬──────┬──────────────┐
│ symbol       ┆ factor_value ┆ rank ┆ reverse_rank │
│ ---          ┆ ---          ┆ ---  ┆ ---          │
│ str          ┆ f64          ┆ u32  ┆ u32          │
╞══════════════╪══════════════╪══════╪══════════════╡
│ EOSUSDT      ┆ -1.135648    ┆ 0    ┆ 94           │
│ 1000LUNCUSDT ┆ -0.853305    ┆ 1    ┆ 93           │
│ NEOUSDT      ┆ -0.769927    ┆ 2    ┆ 92           │
│ IMXUSDT      ┆ -0.69682     ┆ 3    ┆ 91           │
│ FILUSDT      ┆ -0.695878    ┆ 4    ┆ 90           │
│ XTZUSDT      ┆ -0.669125    ┆ 5    ┆ 89           │
│ OPUSDT       ┆ -0.622356    ┆ 6    ┆ 88           │
│ GMTUSDT      ┆ -0.585423    ┆ 7    ┆ 87           │
│ IOSTUSDT     ┆ -0.45258     ┆ 8    ┆ 86           │
│ STGUSDT      ┆ -0.442347    ┆ 9    ┆ 85           │
│ …            ┆ …            ┆ …    ┆ …            │
│ NKNUSDT      ┆ 0.343452     ┆ 85   ┆ 9            │
│ ZRXUSDT      ┆ 0.34738      ┆ 86   ┆ 8            │
│ COTIUSDT     ┆ 0.487961     ┆ 87   ┆ 7            │
│ SPELLUSDT    ┆ 0.525755     ┆ 88   ┆ 6            │
│ ARPAUSDT     ┆ 0.53342      ┆ 89   ┆ 5            │
│ SFPUSDT      ┆ 0.549242     ┆ 90   ┆ 4            │
│ CTSIUSDT     ┆ 0.629935     ┆ 91   ┆ 3            │
│ DGBUSDT      ┆ 0.774254     ┆ 92   ┆ 2            │
│ 1000XECUSDT  ┆ 0.774384     ┆ 93   ┆ 1            │
│ DARUSDT      ┆ 1.011266     ┆ 94   ┆ 0            │
└──────────────┴──────────────┴──────┴──────────────┘
2024-12-13 00:56:50,077 - WARNING - 2023-03-04T23:59:59.999=====cur_long_scale: 0.8 not match == long_value_ratio: 1.0
2024-12-13 00:56:50,077 - INFO - cur close time: 2023-03-04T23:59:59.999 == long_value_ratio: 1.0 == short_value_ratio: 1.0 --- 0.8
2024-12-13 00:56:50,077 - DEBUG - mean expected ret (mean factor): -0.06804814095583972
2024-12-13 00:56:50,081 - DEBUG - begin to update pos: =========
2024-12-13 00:56:50,085 - DEBUG - next_step_value: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ i64     ┆ i64    ┆ i64     ┆ f64     │
│ i64         ┆ i64         ┆ f64         ┆ i64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0           ┆ 0           ┆ -10000.0    ┆ 0           ┆ … ┆ 0       ┆ 0      ┆ 0       ┆ 5000.0  │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:50,085 - DEBUG - all_open_price_when_open_pos: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ f64     ┆ f64    ┆ f64     ┆ f64     │
│ f64         ┆ f64         ┆ f64         ┆ f64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ null        ┆ null        ┆ 0.1457      ┆ null        ┆ … ┆ 0.02737 ┆ null   ┆ null    ┆ 0.2402  │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:50,089 - DEBUG - update position: 2023-03-04T23:59:59.999 === diff_trading_value: 223489.7701377963 == cash: 123827.63034586649 
2024-12-13 00:56:50,089 - INFO - pnl: 2023-03-04T23:59:59.999 123827.63034586649 === 0.605%
2024-12-13 00:56:50,093 - DEBUG - cur time: 2023-03-05T23:59:59.999 == next bar open time: 2023-03-06T00:00:00.000 == close pos time: 2023-03-11T00:00:00.000
2024-12-13 00:56:50,097 - INFO - pnl: 2023-03-05T23:59:59.999 123157.71370565522 === -0.541%
2024-12-13 00:56:50,097 - DEBUG - cur time: 2023-03-06T23:59:59.999 == next bar open time: 2023-03-07T00:00:00.000 == close pos time: 2023-03-12T00:00:00.000
2024-12-13 00:56:50,097 - INFO - pnl: 2023-03-06T23:59:59.999 123506.21045267857 === 0.283%
2024-12-13 00:56:50,101 - DEBUG - cur time: 2023-03-07T23:59:59.999 == next bar open time: 2023-03-08T00:00:00.000 == close pos time: 2023-03-13T00:00:00.000
2024-12-13 00:56:50,105 - INFO - pnl: 2023-03-07T23:59:59.999 122862.45836377522 === -0.521%
2024-12-13 00:56:50,107 - DEBUG - cur time: 2023-03-08T23:59:59.999 == next bar open time: 2023-03-09T00:00:00.000 == close pos time: 2023-03-14T00:00:00.000
2024-12-13 00:56:50,107 - INFO - pnl: 2023-03-08T23:59:59.999 124097.41535901107 === 1.005%
2024-12-13 00:56:50,109 - DEBUG - cur time: 2023-03-09T23:59:59.999 == next bar open time: 2023-03-10T00:00:00.000 == close pos time: 2023-03-15T00:00:00.000
2024-12-13 00:56:50,121 - DEBUG - close time 2023-03-09T23:59:59.999 == vol_threshold: 22986462.7
2024-12-13 00:56:50,121 - DEBUG - 2023-03-09T23:59:59.999 == all trade symbol 136 == remain 95 after VOL filter
2024-12-13 00:56:50,121 - DEBUG - sorted_long_factors: shape: (95, 4)
┌──────────────┬──────────────┬──────┬──────────────┐
│ symbol       ┆ factor_value ┆ rank ┆ reverse_rank │
│ ---          ┆ ---          ┆ ---  ┆ ---          │
│ str          ┆ f64          ┆ u32  ┆ u32          │
╞══════════════╪══════════════╪══════╪══════════════╡
│ XRPUSDT      ┆ -1.097715    ┆ 0    ┆ 94           │
│ APTUSDT      ┆ -0.924931    ┆ 1    ┆ 93           │
│ KAVAUSDT     ┆ -0.90856     ┆ 2    ┆ 92           │
│ 1000LUNCUSDT ┆ -0.869926    ┆ 3    ┆ 91           │
│ ZRXUSDT      ┆ -0.819825    ┆ 4    ┆ 90           │
│ MASKUSDT     ┆ -0.796631    ┆ 5    ┆ 89           │
│ IMXUSDT      ┆ -0.779607    ┆ 6    ┆ 88           │
│ KLAYUSDT     ┆ -0.698137    ┆ 7    ┆ 87           │
│ EOSUSDT      ┆ -0.655595    ┆ 8    ┆ 86           │
│ 1000SHIBUSDT ┆ -0.572364    ┆ 9    ┆ 85           │
│ …            ┆ …            ┆ …    ┆ …            │
│ ATAUSDT      ┆ 0.384943     ┆ 85   ┆ 9            │
│ SPELLUSDT    ┆ 0.414181     ┆ 86   ┆ 8            │
│ CELOUSDT     ┆ 0.417901     ┆ 87   ┆ 7            │
│ NKNUSDT      ┆ 0.501238     ┆ 88   ┆ 6            │
│ DGBUSDT      ┆ 0.505418     ┆ 89   ┆ 5            │
│ OGNUSDT      ┆ 0.516654     ┆ 90   ┆ 4            │
│ ARPAUSDT     ┆ 0.658547     ┆ 91   ┆ 3            │
│ DARUSDT      ┆ 0.660154     ┆ 92   ┆ 2            │
│ 1000XECUSDT  ┆ 0.875069     ┆ 93   ┆ 1            │
│ CTSIUSDT     ┆ 0.991951     ┆ 94   ┆ 0            │
└──────────────┴──────────────┴──────┴──────────────┘
2024-12-13 00:56:50,127 - WARNING - 2023-03-09T23:59:59.999=====cur_long_scale: 0.8 not match == long_value_ratio: 1.0
2024-12-13 00:56:50,127 - INFO - cur close time: 2023-03-09T23:59:59.999 == long_value_ratio: 1.0 == short_value_ratio: 1.0 --- 0.8
2024-12-13 00:56:50,127 - DEBUG - mean expected ret (mean factor): -0.09497772755071833
2024-12-13 00:56:50,130 - DEBUG - begin to update pos: =========
2024-12-13 00:56:50,130 - DEBUG - next_step_value: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬────────────┬───┬─────────┬────────┬─────────┬──────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUS ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT  │
│ T           ┆ DT          ┆ T           ┆ DT         ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---      │
│ ---         ┆ ---         ┆ ---         ┆ ---        ┆   ┆ i64     ┆ i64    ┆ i64     ┆ f64      │
│ i64         ┆ i64         ┆ f64         ┆ i64        ┆   ┆         ┆        ┆         ┆          │
╞═════════════╪═════════════╪═════════════╪════════════╪═══╪═════════╪════════╪═════════╪══════════╡
│ 0           ┆ 0           ┆ -10000.0    ┆ 0          ┆ … ┆ 0       ┆ 0      ┆ 0       ┆ -10000.0 │
└─────────────┴─────────────┴─────────────┴────────────┴───┴─────────┴────────┴─────────┴──────────┘
2024-12-13 00:56:50,130 - DEBUG - all_open_price_when_open_pos: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ f64     ┆ f64    ┆ f64     ┆ f64     │
│ f64         ┆ f64         ┆ f64         ┆ f64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ null        ┆ null        ┆ 0.129       ┆ null        ┆ … ┆ 0.02256 ┆ null   ┆ null    ┆ 0.1991  │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:50,138 - DEBUG - update position: 2023-03-09T23:59:59.999 === diff_trading_value: 217417.81230331713 == cash: 121167.33213021322 
2024-12-13 00:56:50,138 - INFO - pnl: 2023-03-09T23:59:59.999 121167.33213021322 === -2.361%
2024-12-13 00:56:50,142 - DEBUG - cur time: 2023-03-10T23:59:59.999 == next bar open time: 2023-03-11T00:00:00.000 == close pos time: 2023-03-16T00:00:00.000
2024-12-13 00:56:50,142 - INFO - pnl: 2023-03-10T23:59:59.999 122468.27403390771 === 1.074%
2024-12-13 00:56:50,147 - DEBUG - cur time: 2023-03-11T23:59:59.999 == next bar open time: 2023-03-12T00:00:00.000 == close pos time: 2023-03-17T00:00:00.000
2024-12-13 00:56:50,147 - INFO - pnl: 2023-03-11T23:59:59.999 123054.43276448213 === 0.479%
2024-12-13 00:56:50,150 - DEBUG - cur time: 2023-03-12T23:59:59.999 == next bar open time: 2023-03-13T00:00:00.000 == close pos time: 2023-03-18T00:00:00.000
2024-12-13 00:56:50,150 - INFO - pnl: 2023-03-12T23:59:59.999 124534.50601214045 === 1.203%
2024-12-13 00:56:50,154 - DEBUG - cur time: 2023-03-13T23:59:59.999 == next bar open time: 2023-03-14T00:00:00.000 == close pos time: 2023-03-19T00:00:00.000
2024-12-13 00:56:50,154 - INFO - pnl: 2023-03-13T23:59:59.999 126320.73475846839 === 1.434%
2024-12-13 00:56:50,159 - DEBUG - cur time: 2023-03-14T23:59:59.999 == next bar open time: 2023-03-15T00:00:00.000 == close pos time: 2023-03-20T00:00:00.000
2024-12-13 00:56:50,167 - DEBUG - close time 2023-03-14T23:59:59.999 == vol_threshold: 32631972.71999998
2024-12-13 00:56:50,167 - DEBUG - 2023-03-14T23:59:59.999 == all trade symbol 135 == remain 94 after VOL filter
2024-12-13 00:56:50,169 - DEBUG - sorted_long_factors: shape: (94, 4)
┌──────────────┬──────────────┬──────┬──────────────┐
│ symbol       ┆ factor_value ┆ rank ┆ reverse_rank │
│ ---          ┆ ---          ┆ ---  ┆ ---          │
│ str          ┆ f64          ┆ u32  ┆ u32          │
╞══════════════╪══════════════╪══════╪══════════════╡
│ MASKUSDT     ┆ -0.978557    ┆ 0    ┆ 93           │
│ XRPUSDT      ┆ -0.977461    ┆ 1    ┆ 92           │
│ APTUSDT      ┆ -0.790957    ┆ 2    ┆ 91           │
│ 1000SHIBUSDT ┆ -0.748735    ┆ 3    ┆ 90           │
│ FILUSDT      ┆ -0.72302     ┆ 4    ┆ 89           │
│ XEMUSDT      ┆ -0.671762    ┆ 5    ┆ 88           │
│ GMTUSDT      ┆ -0.655117    ┆ 6    ┆ 87           │
│ ANKRUSDT     ┆ -0.619384    ┆ 7    ┆ 86           │
│ IMXUSDT      ┆ -0.609251    ┆ 8    ┆ 85           │
│ XLMUSDT      ┆ -0.60055     ┆ 9    ┆ 84           │
│ …            ┆ …            ┆ …    ┆ …            │
│ BELUSDT      ┆ 0.312548     ┆ 84   ┆ 9            │
│ OGNUSDT      ┆ 0.346898     ┆ 85   ┆ 8            │
│ SPELLUSDT    ┆ 0.354891     ┆ 86   ┆ 7            │
│ C98USDT      ┆ 0.511988     ┆ 87   ┆ 6            │
│ NKNUSDT      ┆ 0.551531     ┆ 88   ┆ 5            │
│ DGBUSDT      ┆ 0.618126     ┆ 89   ┆ 4            │
│ 1000XECUSDT  ┆ 0.682741     ┆ 90   ┆ 3            │
│ APEUSDT      ┆ 0.783545     ┆ 91   ┆ 2            │
│ CTSIUSDT     ┆ 0.939487     ┆ 92   ┆ 1            │
│ ARPAUSDT     ┆ 0.99158      ┆ 93   ┆ 0            │
└──────────────┴──────────────┴──────┴──────────────┘
2024-12-13 00:56:50,173 - WARNING - 2023-03-14T23:59:59.999=====cur_long_scale: 1.2 not match == long_value_ratio: 1.0
2024-12-13 00:56:50,173 - INFO - cur close time: 2023-03-14T23:59:59.999 == long_value_ratio: 1.0 == short_value_ratio: 1.0 --- 1.2
2024-12-13 00:56:50,173 - DEBUG - mean expected ret (mean factor): -0.13199992727987717
2024-12-13 00:56:50,177 - DEBUG - begin to update pos: =========
2024-12-13 00:56:50,177 - DEBUG - next_step_value: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ i64     ┆ i64    ┆ i64     ┆ i64     │
│ i64         ┆ i64         ┆ i64         ┆ i64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0           ┆ 0           ┆ 0           ┆ 0           ┆ … ┆ 0       ┆ 0      ┆ 0       ┆ 0       │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:50,177 - DEBUG - all_open_price_when_open_pos: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ f64     ┆ f64    ┆ f64     ┆ f64     │
│ f64         ┆ f64         ┆ f64         ┆ f64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ null        ┆ null        ┆ 0.133       ┆ null        ┆ … ┆ 0.02816 ┆ null   ┆ null    ┆ 0.2357  │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:50,187 - DEBUG - update position: 2023-03-14T23:59:59.999 === diff_trading_value: 206661.68428334565 == cash: 126692.99018508752 
2024-12-13 00:56:50,187 - INFO - pnl: 2023-03-14T23:59:59.999 126692.99018508752 === 0.295%
2024-12-13 00:56:50,192 - DEBUG - cur time: 2023-03-15T23:59:59.999 == next bar open time: 2023-03-16T00:00:00.000 == close pos time: 2023-03-21T00:00:00.000
2024-12-13 00:56:50,194 - INFO - pnl: 2023-03-15T23:59:59.999 124476.99201282821 === -1.749%
2024-12-13 00:56:50,194 - DEBUG - cur time: 2023-03-16T23:59:59.999 == next bar open time: 2023-03-17T00:00:00.000 == close pos time: 2023-03-22T00:00:00.000
2024-12-13 00:56:50,197 - INFO - pnl: 2023-03-16T23:59:59.999 124847.54889428068 === 0.298%
2024-12-13 00:56:50,201 - DEBUG - cur time: 2023-03-17T23:59:59.999 == next bar open time: 2023-03-18T00:00:00.000 == close pos time: 2023-03-23T00:00:00.000
2024-12-13 00:56:50,201 - INFO - pnl: 2023-03-17T23:59:59.999 122558.48514654399 === -1.833%
2024-12-13 00:56:50,205 - DEBUG - cur time: 2023-03-18T23:59:59.999 == next bar open time: 2023-03-19T00:00:00.000 == close pos time: 2023-03-24T00:00:00.000
2024-12-13 00:56:50,208 - INFO - pnl: 2023-03-18T23:59:59.999 118966.77098529448 === -2.931%
2024-12-13 00:56:50,210 - DEBUG - cur time: 2023-03-19T23:59:59.999 == next bar open time: 2023-03-20T00:00:00.000 == close pos time: 2023-03-25T00:00:00.000
2024-12-13 00:56:50,218 - DEBUG - close time 2023-03-19T23:59:59.999 == vol_threshold: 23537810.359999992
2024-12-13 00:56:50,222 - DEBUG - 2023-03-19T23:59:59.999 == all trade symbol 135 == remain 94 after VOL filter
2024-12-13 00:56:50,222 - DEBUG - sorted_long_factors: shape: (94, 4)
┌──────────────┬──────────────┬──────┬──────────────┐
│ symbol       ┆ factor_value ┆ rank ┆ reverse_rank │
│ ---          ┆ ---          ┆ ---  ┆ ---          │
│ str          ┆ f64          ┆ u32  ┆ u32          │
╞══════════════╪══════════════╪══════╪══════════════╡
│ MASKUSDT     ┆ -1.040267    ┆ 0    ┆ 93           │
│ 1000LUNCUSDT ┆ -0.964198    ┆ 1    ┆ 92           │
│ FILUSDT      ┆ -0.867476    ┆ 2    ┆ 91           │
│ GMTUSDT      ┆ -0.779454    ┆ 3    ┆ 90           │
│ SNXUSDT      ┆ -0.724111    ┆ 4    ┆ 89           │
│ GALAUSDT     ┆ -0.719113    ┆ 5    ┆ 88           │
│ API3USDT     ┆ -0.708525    ┆ 6    ┆ 87           │
│ XEMUSDT      ┆ -0.701685    ┆ 7    ┆ 86           │
│ GALUSDT      ┆ -0.693469    ┆ 8    ┆ 85           │
│ XRPUSDT      ┆ -0.634479    ┆ 9    ┆ 84           │
│ …            ┆ …            ┆ …    ┆ …            │
│ C98USDT      ┆ 0.344441     ┆ 84   ┆ 9            │
│ BAKEUSDT     ┆ 0.367766     ┆ 85   ┆ 8            │
│ REEFUSDT     ┆ 0.415301     ┆ 86   ┆ 7            │
│ OGNUSDT      ┆ 0.628566     ┆ 87   ┆ 6            │
│ SPELLUSDT    ┆ 0.631506     ┆ 88   ┆ 5            │
│ NKNUSDT      ┆ 0.731662     ┆ 89   ┆ 4            │
│ IOTXUSDT     ┆ 0.744036     ┆ 90   ┆ 3            │
│ 1000XECUSDT  ┆ 0.754946     ┆ 91   ┆ 2            │
│ CTSIUSDT     ┆ 0.804137     ┆ 92   ┆ 1            │
│ DGBUSDT      ┆ 0.838757     ┆ 93   ┆ 0            │
└──────────────┴──────────────┴──────┴──────────────┘
2024-12-13 00:56:50,227 - INFO - cur close time: 2023-03-19T23:59:59.999 == long_value_ratio: 1.0 == short_value_ratio: 1.0 --- 1.0
2024-12-13 00:56:50,231 - DEBUG - mean expected ret (mean factor): -0.07654575639385883
2024-12-13 00:56:50,235 - DEBUG - begin to update pos: =========
2024-12-13 00:56:50,235 - DEBUG - next_step_value: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ i64     ┆ i64    ┆ i64     ┆ i64     │
│ i64         ┆ i64         ┆ f64         ┆ i64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0           ┆ 0           ┆ -10000.0    ┆ 0           ┆ … ┆ 0       ┆ 0      ┆ 0       ┆ 0       │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:50,235 - DEBUG - all_open_price_when_open_pos: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ f64     ┆ f64    ┆ f64     ┆ f64     │
│ f64         ┆ f64         ┆ f64         ┆ f64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ null        ┆ null        ┆ 0.1346      ┆ null        ┆ … ┆ 0.02937 ┆ null   ┆ null    ┆ 0.2494  │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:50,241 - DEBUG - update position: 2023-03-19T23:59:59.999 === diff_trading_value: 195382.39024662905 == cash: 120789.74100245193 
2024-12-13 00:56:50,243 - INFO - pnl: 2023-03-19T23:59:59.999 120789.74100245193 === 1.532%
2024-12-13 00:56:50,243 - DEBUG - cur time: 2023-03-20T23:59:59.999 == next bar open time: 2023-03-21T00:00:00.000 == close pos time: 2023-03-26T00:00:00.000
2024-12-13 00:56:50,247 - INFO - pnl: 2023-03-20T23:59:59.999 121626.52914998934 === 0.693%
2024-12-13 00:56:50,250 - DEBUG - cur time: 2023-03-21T23:59:59.999 == next bar open time: 2023-03-22T00:00:00.000 == close pos time: 2023-03-27T00:00:00.000
2024-12-13 00:56:50,251 - INFO - pnl: 2023-03-21T23:59:59.999 122463.7755003424 === 0.688%
2024-12-13 00:56:50,251 - DEBUG - cur time: 2023-03-22T23:59:59.999 == next bar open time: 2023-03-23T00:00:00.000 == close pos time: 2023-03-28T00:00:00.000
2024-12-13 00:56:50,255 - INFO - pnl: 2023-03-22T23:59:59.999 122464.17477817462 === 0.000%
2024-12-13 00:56:50,258 - DEBUG - cur time: 2023-03-23T23:59:59.999 == next bar open time: 2023-03-24T00:00:00.000 == close pos time: 2023-03-29T00:00:00.000
2024-12-13 00:56:50,259 - INFO - pnl: 2023-03-23T23:59:59.999 123248.18756970395 === 0.640%
2024-12-13 00:56:50,261 - DEBUG - cur time: 2023-03-24T23:59:59.999 == next bar open time: 2023-03-25T00:00:00.000 == close pos time: 2023-03-30T00:00:00.000
2024-12-13 00:56:50,268 - DEBUG - close time 2023-03-24T23:59:59.999 == vol_threshold: 20804593.45
2024-12-13 00:56:50,272 - DEBUG - 2023-03-24T23:59:59.999 == all trade symbol 136 == remain 95 after VOL filter
2024-12-13 00:56:50,272 - DEBUG - sorted_long_factors: shape: (95, 4)
┌──────────────┬──────────────┬──────┬──────────────┐
│ symbol       ┆ factor_value ┆ rank ┆ reverse_rank │
│ ---          ┆ ---          ┆ ---  ┆ ---          │
│ str          ┆ f64          ┆ u32  ┆ u32          │
╞══════════════╪══════════════╪══════╪══════════════╡
│ APTUSDT      ┆ -1.169972    ┆ 0    ┆ 94           │
│ OMGUSDT      ┆ -0.96623     ┆ 1    ┆ 93           │
│ EOSUSDT      ┆ -0.937755    ┆ 2    ┆ 92           │
│ SNXUSDT      ┆ -0.824811    ┆ 3    ┆ 91           │
│ FETUSDT      ┆ -0.819361    ┆ 4    ┆ 90           │
│ FILUSDT      ┆ -0.800967    ┆ 5    ┆ 89           │
│ RLCUSDT      ┆ -0.729762    ┆ 6    ┆ 88           │
│ APEUSDT      ┆ -0.669221    ┆ 7    ┆ 87           │
│ 1000LUNCUSDT ┆ -0.635397    ┆ 8    ┆ 86           │
│ GMTUSDT      ┆ -0.621751    ┆ 9    ┆ 85           │
│ …            ┆ …            ┆ …    ┆ …            │
│ C98USDT      ┆ 0.565007     ┆ 85   ┆ 9            │
│ NKNUSDT      ┆ 0.573418     ┆ 86   ┆ 8            │
│ HOTUSDT      ┆ 0.599444     ┆ 87   ┆ 7            │
│ IOTXUSDT     ┆ 0.619047     ┆ 88   ┆ 6            │
│ REEFUSDT     ┆ 0.667954     ┆ 89   ┆ 5            │
│ SFPUSDT      ┆ 0.679213     ┆ 90   ┆ 4            │
│ OGNUSDT      ┆ 0.890379     ┆ 91   ┆ 3            │
│ 1000XECUSDT  ┆ 0.984101     ┆ 92   ┆ 2            │
│ DGBUSDT      ┆ 1.026725     ┆ 93   ┆ 1            │
│ SPELLUSDT    ┆ 1.403818     ┆ 94   ┆ 0            │
└──────────────┴──────────────┴──────┴──────────────┘
2024-12-13 00:56:50,277 - WARNING - 2023-03-24T23:59:59.999=====cur_long_scale: 0.8 not match == long_value_ratio: 1.0
2024-12-13 00:56:50,277 - INFO - cur close time: 2023-03-24T23:59:59.999 == long_value_ratio: 1.0 == short_value_ratio: 1.0 --- 0.8
2024-12-13 00:56:50,277 - DEBUG - mean expected ret (mean factor): -0.007849069409269493
2024-12-13 00:56:50,287 - DEBUG - begin to update pos: =========
2024-12-13 00:56:50,288 - DEBUG - next_step_value: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ i64     ┆ i64    ┆ i64     ┆ i64     │
│ i64         ┆ i64         ┆ f64         ┆ i64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0           ┆ 0           ┆ -10000.0    ┆ 0           ┆ … ┆ 0       ┆ 0      ┆ 0       ┆ 0       │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:50,288 - DEBUG - all_open_price_when_open_pos: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ f64     ┆ f64    ┆ f64     ┆ f64     │
│ f64         ┆ f64         ┆ f64         ┆ f64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ null        ┆ null        ┆ 0.1225      ┆ null        ┆ … ┆ 0.02707 ┆ null   ┆ null    ┆ 0.2291  │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:50,293 - DEBUG - update position: 2023-03-24T23:59:59.999 === diff_trading_value: 192669.53621379338 == cash: 123402.19355846956 
2024-12-13 00:56:50,293 - INFO - pnl: 2023-03-24T23:59:59.999 123402.19355846956 === 0.125%
2024-12-13 00:56:50,297 - DEBUG - cur time: 2023-03-25T23:59:59.999 == next bar open time: 2023-03-26T00:00:00.000 == close pos time: 2023-03-31T00:00:00.000
2024-12-13 00:56:50,297 - INFO - pnl: 2023-03-25T23:59:59.999 126068.0813202149 === 2.160%
2024-12-13 00:56:50,301 - DEBUG - cur time: 2023-03-26T23:59:59.999 == next bar open time: 2023-03-27T00:00:00.000 == close pos time: 2023-04-01T00:00:00.000
2024-12-13 00:56:50,305 - INFO - pnl: 2023-03-26T23:59:59.999 126039.14256744641 === -0.023%
2024-12-13 00:56:50,307 - DEBUG - cur time: 2023-03-27T23:59:59.999 == next bar open time: 2023-03-28T00:00:00.000 == close pos time: 2023-04-02T00:00:00.000
2024-12-13 00:56:50,309 - INFO - pnl: 2023-03-27T23:59:59.999 126422.4866760057 === 0.304%
2024-12-13 00:56:50,310 - DEBUG - cur time: 2023-03-28T23:59:59.999 == next bar open time: 2023-03-29T00:00:00.000 == close pos time: 2023-04-03T00:00:00.000
2024-12-13 00:56:50,313 - INFO - pnl: 2023-03-28T23:59:59.999 126147.34950900835 === -0.218%
2024-12-13 00:56:50,313 - DEBUG - cur time: 2023-03-29T23:59:59.999 == next bar open time: 2023-03-30T00:00:00.000 == close pos time: 2023-04-04T00:00:00.000
2024-12-13 00:56:50,325 - DEBUG - close time 2023-03-29T23:59:59.999 == vol_threshold: 24842032.69
2024-12-13 00:56:50,325 - DEBUG - 2023-03-29T23:59:59.999 == all trade symbol 138 == remain 96 after VOL filter
2024-12-13 00:56:50,327 - DEBUG - sorted_long_factors: shape: (96, 4)
┌─────────────┬──────────────┬──────┬──────────────┐
│ symbol      ┆ factor_value ┆ rank ┆ reverse_rank │
│ ---         ┆ ---          ┆ ---  ┆ ---          │
│ str         ┆ f64          ┆ u32  ┆ u32          │
╞═════════════╪══════════════╪══════╪══════════════╡
│ FILUSDT     ┆ -0.987401    ┆ 0    ┆ 95           │
│ XRPUSDT     ┆ -0.915314    ┆ 1    ┆ 94           │
│ IMXUSDT     ┆ -0.755337    ┆ 2    ┆ 93           │
│ MASKUSDT    ┆ -0.706434    ┆ 3    ┆ 92           │
│ SNXUSDT     ┆ -0.679914    ┆ 4    ┆ 91           │
│ OPUSDT      ┆ -0.593861    ┆ 5    ┆ 90           │
│ EOSUSDT     ┆ -0.574293    ┆ 6    ┆ 89           │
│ XLMUSDT     ┆ -0.567342    ┆ 7    ┆ 88           │
│ CRVUSDT     ┆ -0.552347    ┆ 8    ┆ 87           │
│ FETUSDT     ┆ -0.547182    ┆ 9    ┆ 86           │
│ …           ┆ …            ┆ …    ┆ …            │
│ BAKEUSDT    ┆ 0.566118     ┆ 86   ┆ 9            │
│ HOTUSDT     ┆ 0.637251     ┆ 87   ┆ 8            │
│ IOTXUSDT    ┆ 0.665599     ┆ 88   ┆ 7            │
│ CELRUSDT    ┆ 0.67924      ┆ 89   ┆ 6            │
│ DENTUSDT    ┆ 0.68996      ┆ 90   ┆ 5            │
│ REEFUSDT    ┆ 0.71876      ┆ 91   ┆ 4            │
│ OGNUSDT     ┆ 0.767133     ┆ 92   ┆ 3            │
│ 1000XECUSDT ┆ 0.818744     ┆ 93   ┆ 2            │
│ DGBUSDT     ┆ 0.881335     ┆ 94   ┆ 1            │
│ SPELLUSDT   ┆ 1.293966     ┆ 95   ┆ 0            │
└─────────────┴──────────────┴──────┴──────────────┘
2024-12-13 00:56:50,333 - INFO - cur close time: 2023-03-29T23:59:59.999 == long_value_ratio: 1.0 == short_value_ratio: 1.0 --- 1.0
2024-12-13 00:56:50,333 - DEBUG - mean expected ret (mean factor): 0.035269279887437305
2024-12-13 00:56:50,337 - DEBUG - begin to update pos: =========
2024-12-13 00:56:50,337 - DEBUG - next_step_value: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ i64     ┆ i64    ┆ i64     ┆ i64     │
│ i64         ┆ i64         ┆ i64         ┆ i64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0           ┆ 0           ┆ 0           ┆ 0           ┆ … ┆ 0       ┆ 0      ┆ 0       ┆ 0       │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:50,337 - DEBUG - all_open_price_when_open_pos: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ f64     ┆ f64    ┆ f64     ┆ f64     │
│ f64         ┆ f64         ┆ f64         ┆ f64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ null        ┆ null        ┆ 0.1242      ┆ null        ┆ … ┆ 0.02827 ┆ null   ┆ null    ┆ 0.2375  │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:50,341 - DEBUG - update position: 2023-03-29T23:59:59.999 === diff_trading_value: 192322.45136695943 == cash: 129788.582019118 
2024-12-13 00:56:50,345 - INFO - pnl: 2023-03-29T23:59:59.999 129788.582019118 === 2.886%
2024-12-13 00:56:50,347 - DEBUG - cur time: 2023-03-30T23:59:59.999 == next bar open time: 2023-03-31T00:00:00.000 == close pos time: 2023-04-05T00:00:00.000
2024-12-13 00:56:50,349 - INFO - pnl: 2023-03-30T23:59:59.999 130435.65617553014 === 0.499%
2024-12-13 00:56:50,353 - DEBUG - cur time: 2023-03-31T23:59:59.999 == next bar open time: 2023-04-01T00:00:00.000 == close pos time: 2023-04-06T00:00:00.000
2024-12-13 00:56:50,353 - INFO - pnl: 2023-03-31T23:59:59.999 133547.9988776027 === 2.386%
2024-12-13 00:56:50,353 - DEBUG - cur time: 2023-04-01T23:59:59.999 == next bar open time: 2023-04-02T00:00:00.000 == close pos time: 2023-04-07T00:00:00.000
2024-12-13 00:56:50,357 - INFO - pnl: 2023-04-01T23:59:59.999 138453.32101467956 === 3.673%
2024-12-13 00:56:50,357 - DEBUG - cur time: 2023-04-02T23:59:59.999 == next bar open time: 2023-04-03T00:00:00.000 == close pos time: 2023-04-08T00:00:00.000
2024-12-13 00:56:50,361 - INFO - pnl: 2023-04-02T23:59:59.999 136664.59084336602 === -1.292%
2024-12-13 00:56:50,361 - DEBUG - cur time: 2023-04-03T23:59:59.999 == next bar open time: 2023-04-04T00:00:00.000 == close pos time: 2023-04-09T00:00:00.000
2024-12-13 00:56:50,374 - DEBUG - close time 2023-04-03T23:59:59.999 == vol_threshold: 22476242.759999998
2024-12-13 00:56:50,374 - DEBUG - 2023-04-03T23:59:59.999 == all trade symbol 139 == remain 97 after VOL filter
2024-12-13 00:56:50,377 - DEBUG - sorted_long_factors: shape: (97, 4)
┌─────────────┬──────────────┬──────┬──────────────┐
│ symbol      ┆ factor_value ┆ rank ┆ reverse_rank │
│ ---         ┆ ---          ┆ ---  ┆ ---          │
│ str         ┆ f64          ┆ u32  ┆ u32          │
╞═════════════╪══════════════╪══════╪══════════════╡
│ APTUSDT     ┆ -1.00485     ┆ 0    ┆ 96           │
│ INJUSDT     ┆ -0.982061    ┆ 1    ┆ 95           │
│ RLCUSDT     ┆ -0.94958     ┆ 2    ┆ 94           │
│ OMGUSDT     ┆ -0.928101    ┆ 3    ┆ 93           │
│ MASKUSDT    ┆ -0.707933    ┆ 4    ┆ 92           │
│ SXPUSDT     ┆ -0.702683    ┆ 5    ┆ 91           │
│ MANAUSDT    ┆ -0.66967     ┆ 6    ┆ 90           │
│ ICXUSDT     ┆ -0.607864    ┆ 7    ┆ 89           │
│ MAGICUSDT   ┆ -0.601286    ┆ 8    ┆ 88           │
│ ZRXUSDT     ┆ -0.595668    ┆ 9    ┆ 87           │
│ …           ┆ …            ┆ …    ┆ …            │
│ ONEUSDT     ┆ 0.45776      ┆ 87   ┆ 9            │
│ REEFUSDT    ┆ 0.457891     ┆ 88   ┆ 8            │
│ DGBUSDT     ┆ 0.498268     ┆ 89   ┆ 7            │
│ STMXUSDT    ┆ 0.516648     ┆ 90   ┆ 6            │
│ FLMUSDT     ┆ 0.599416     ┆ 91   ┆ 5            │
│ IOTAUSDT    ┆ 0.612795     ┆ 92   ┆ 4            │
│ HOTUSDT     ┆ 0.640643     ┆ 93   ┆ 3            │
│ 1000XECUSDT ┆ 0.746389     ┆ 94   ┆ 2            │
│ BAKEUSDT    ┆ 0.827442     ┆ 95   ┆ 1            │
│ SPELLUSDT   ┆ 0.837507     ┆ 96   ┆ 0            │
└─────────────┴──────────────┴──────┴──────────────┘
2024-12-13 00:56:50,382 - INFO - cur close time: 2023-04-03T23:59:59.999 == long_value_ratio: 1.0 == short_value_ratio: 1.0 --- 1.0
2024-12-13 00:56:50,382 - DEBUG - mean expected ret (mean factor): -0.09318851935852672
2024-12-13 00:56:50,387 - DEBUG - begin to update pos: =========
2024-12-13 00:56:50,387 - DEBUG - next_step_value: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬────────────┬───┬─────────┬────────┬─────────┬──────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUS ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT  │
│ T           ┆ DT          ┆ T           ┆ DT         ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---      │
│ ---         ┆ ---         ┆ ---         ┆ ---        ┆   ┆ i64     ┆ i64    ┆ i64     ┆ f64      │
│ i64         ┆ i64         ┆ i64         ┆ i64        ┆   ┆         ┆        ┆         ┆          │
╞═════════════╪═════════════╪═════════════╪════════════╪═══╪═════════╪════════╪═════════╪══════════╡
│ 0           ┆ 0           ┆ 0           ┆ 0          ┆ … ┆ 0       ┆ 0      ┆ 0       ┆ -10000.0 │
└─────────────┴─────────────┴─────────────┴────────────┴───┴─────────┴────────┴─────────┴──────────┘
2024-12-13 00:56:50,387 - DEBUG - all_open_price_when_open_pos: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ f64     ┆ f64    ┆ f64     ┆ f64     │
│ f64         ┆ f64         ┆ f64         ┆ f64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ null        ┆ null        ┆ 0.1216      ┆ null        ┆ … ┆ 0.02952 ┆ null   ┆ null    ┆ 0.2914  │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:50,394 - DEBUG - update position: 2023-04-03T23:59:59.999 === diff_trading_value: 297621.75441291626 == cash: 141718.14619914428 
2024-12-13 00:56:50,394 - INFO - pnl: 2023-04-03T23:59:59.999 141718.14619914428 === 3.698%
2024-12-13 00:56:50,398 - DEBUG - cur time: 2023-04-04T23:59:59.999 == next bar open time: 2023-04-05T00:00:00.000 == close pos time: 2023-04-10T00:00:00.000
2024-12-13 00:56:50,399 - INFO - pnl: 2023-04-04T23:59:59.999 142285.14371749587 === 0.400%
2024-12-13 00:56:50,402 - DEBUG - cur time: 2023-04-05T23:59:59.999 == next bar open time: 2023-04-06T00:00:00.000 == close pos time: 2023-04-11T00:00:00.000
2024-12-13 00:56:50,404 - INFO - pnl: 2023-04-05T23:59:59.999 143730.50918816502 === 1.016%
2024-12-13 00:56:50,407 - DEBUG - cur time: 2023-04-06T23:59:59.999 == next bar open time: 2023-04-07T00:00:00.000 == close pos time: 2023-04-12T00:00:00.000
2024-12-13 00:56:50,409 - INFO - pnl: 2023-04-06T23:59:59.999 145947.45458521866 === 1.542%
2024-12-13 00:56:50,413 - DEBUG - cur time: 2023-04-07T23:59:59.999 == next bar open time: 2023-04-08T00:00:00.000 == close pos time: 2023-04-13T00:00:00.000
2024-12-13 00:56:50,414 - INFO - pnl: 2023-04-07T23:59:59.999 145871.67169638572 === -0.052%
2024-12-13 00:56:50,417 - DEBUG - cur time: 2023-04-08T23:59:59.999 == next bar open time: 2023-04-09T00:00:00.000 == close pos time: 2023-04-14T00:00:00.000
2024-12-13 00:56:50,428 - DEBUG - close time 2023-04-08T23:59:59.999 == vol_threshold: 9788275.0
2024-12-13 00:56:50,429 - DEBUG - 2023-04-08T23:59:59.999 == all trade symbol 141 == remain 98 after VOL filter
2024-12-13 00:56:50,431 - DEBUG - sorted_long_factors: shape: (98, 4)
┌──────────────┬──────────────┬──────┬──────────────┐
│ symbol       ┆ factor_value ┆ rank ┆ reverse_rank │
│ ---          ┆ ---          ┆ ---  ┆ ---          │
│ str          ┆ f64          ┆ u32  ┆ u32          │
╞══════════════╪══════════════╪══════╪══════════════╡
│ APTUSDT      ┆ -1.123097    ┆ 0    ┆ 97           │
│ MASKUSDT     ┆ -0.96778     ┆ 1    ┆ 96           │
│ FILUSDT      ┆ -0.919157    ┆ 2    ┆ 95           │
│ ANTUSDT      ┆ -0.8823      ┆ 3    ┆ 94           │
│ MAGICUSDT    ┆ -0.777352    ┆ 4    ┆ 93           │
│ XRPUSDT      ┆ -0.76488     ┆ 5    ┆ 92           │
│ ADAUSDT      ┆ -0.61013     ┆ 6    ┆ 91           │
│ 1INCHUSDT    ┆ -0.568206    ┆ 7    ┆ 90           │
│ 1000LUNCUSDT ┆ -0.55129     ┆ 8    ┆ 89           │
│ CHZUSDT      ┆ -0.535891    ┆ 9    ┆ 88           │
│ …            ┆ …            ┆ …    ┆ …            │
│ CTSIUSDT     ┆ 0.44553      ┆ 88   ┆ 9            │
│ ONEUSDT      ┆ 0.457694     ┆ 89   ┆ 8            │
│ RVNUSDT      ┆ 0.527591     ┆ 90   ┆ 7            │
│ STMXUSDT     ┆ 0.563148     ┆ 91   ┆ 6            │
│ WOOUSDT      ┆ 0.583124     ┆ 92   ┆ 5            │
│ DENTUSDT     ┆ 0.611885     ┆ 93   ┆ 4            │
│ IOTXUSDT     ┆ 0.66412      ┆ 94   ┆ 3            │
│ BLZUSDT      ┆ 0.757366     ┆ 95   ┆ 2            │
│ SKLUSDT      ┆ 0.907665     ┆ 96   ┆ 1            │
│ DGBUSDT      ┆ 0.923991     ┆ 97   ┆ 0            │
└──────────────┴──────────────┴──────┴──────────────┘
2024-12-13 00:56:50,437 - INFO - cur close time: 2023-04-08T23:59:59.999 == long_value_ratio: 1.0 == short_value_ratio: 1.0 --- 1.0
2024-12-13 00:56:50,437 - DEBUG - mean expected ret (mean factor): -0.10263616388679228
2024-12-13 00:56:50,444 - DEBUG - begin to update pos: =========
2024-12-13 00:56:50,444 - DEBUG - next_step_value: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ i64     ┆ i64    ┆ i64     ┆ i64     │
│ i64         ┆ i64         ┆ f64         ┆ i64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0           ┆ 0           ┆ -10000.0    ┆ 0           ┆ … ┆ 0       ┆ 0      ┆ 0       ┆ 0       │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:50,444 - DEBUG - all_open_price_when_open_pos: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ f64     ┆ f64    ┆ f64     ┆ f64     │
│ f64         ┆ f64         ┆ f64         ┆ f64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ null        ┆ null        ┆ 0.1267      ┆ null        ┆ … ┆ 0.02911 ┆ null   ┆ null    ┆ 0.2783  │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:50,455 - DEBUG - update position: 2023-04-08T23:59:59.999 === diff_trading_value: 209855.98941237165 == cash: 148639.40864236138 
2024-12-13 00:56:50,456 - INFO - pnl: 2023-04-08T23:59:59.999 148639.40864236138 === 1.897%
2024-12-13 00:56:50,458 - DEBUG - cur time: 2023-04-09T23:59:59.999 == next bar open time: 2023-04-10T00:00:00.000 == close pos time: 2023-04-15T00:00:00.000
2024-12-13 00:56:50,462 - INFO - pnl: 2023-04-09T23:59:59.999 149800.5149610787 === 0.781%
2024-12-13 00:56:50,465 - DEBUG - cur time: 2023-04-10T23:59:59.999 == next bar open time: 2023-04-11T00:00:00.000 == close pos time: 2023-04-16T00:00:00.000
2024-12-13 00:56:50,466 - INFO - pnl: 2023-04-10T23:59:59.999 150461.4697446066 === 0.441%
2024-12-13 00:56:50,471 - DEBUG - cur time: 2023-04-11T23:59:59.999 == next bar open time: 2023-04-12T00:00:00.000 == close pos time: 2023-04-17T00:00:00.000
2024-12-13 00:56:50,472 - INFO - pnl: 2023-04-11T23:59:59.999 149919.67330607833 === -0.360%
2024-12-13 00:56:50,475 - DEBUG - cur time: 2023-04-12T23:59:59.999 == next bar open time: 2023-04-13T00:00:00.000 == close pos time: 2023-04-18T00:00:00.000
2024-12-13 00:56:50,478 - INFO - pnl: 2023-04-12T23:59:59.999 151095.1649472558 === 0.784%
2024-12-13 00:56:50,481 - DEBUG - cur time: 2023-04-13T23:59:59.999 == next bar open time: 2023-04-14T00:00:00.000 == close pos time: 2023-04-19T00:00:00.000
2024-12-13 00:56:50,487 - DEBUG - close time 2023-04-13T23:59:59.999 == vol_threshold: 18116427.2
2024-12-13 00:56:50,487 - DEBUG - 2023-04-13T23:59:59.999 == all trade symbol 143 == remain 100 after VOL filter
2024-12-13 00:56:50,491 - DEBUG - sorted_long_factors: shape: (100, 4)
┌─────────────┬──────────────┬──────┬──────────────┐
│ symbol      ┆ factor_value ┆ rank ┆ reverse_rank │
│ ---         ┆ ---          ┆ ---  ┆ ---          │
│ str         ┆ f64          ┆ u32  ┆ u32          │
╞═════════════╪══════════════╪══════╪══════════════╡
│ APTUSDT     ┆ -1.073036    ┆ 0    ┆ 99           │
│ INJUSDT     ┆ -0.873116    ┆ 1    ┆ 98           │
│ RNDRUSDT    ┆ -0.84142     ┆ 2    ┆ 97           │
│ FTMUSDT     ┆ -0.77007     ┆ 3    ┆ 96           │
│ ICXUSDT     ┆ -0.765279    ┆ 4    ┆ 95           │
│ MASKUSDT    ┆ -0.715823    ┆ 5    ┆ 94           │
│ APEUSDT     ┆ -0.706995    ┆ 6    ┆ 93           │
│ DOTUSDT     ┆ -0.688358    ┆ 7    ┆ 92           │
│ SXPUSDT     ┆ -0.669713    ┆ 8    ┆ 91           │
│ ONTUSDT     ┆ -0.64932     ┆ 9    ┆ 90           │
│ …           ┆ …            ┆ …    ┆ …            │
│ DUSKUSDT    ┆ 0.402814     ┆ 90   ┆ 9            │
│ BAKEUSDT    ┆ 0.470201     ┆ 91   ┆ 8            │
│ OGNUSDT     ┆ 0.473658     ┆ 92   ┆ 7            │
│ ONEUSDT     ┆ 0.483903     ┆ 93   ┆ 6            │
│ ALPHAUSDT   ┆ 0.508289     ┆ 94   ┆ 5            │
│ REEFUSDT    ┆ 0.541911     ┆ 95   ┆ 4            │
│ 1000XECUSDT ┆ 0.687806     ┆ 96   ┆ 3            │
│ DGBUSDT     ┆ 0.917992     ┆ 97   ┆ 2            │
│ BLZUSDT     ┆ 0.954224     ┆ 98   ┆ 1            │
│ SKLUSDT     ┆ 0.964841     ┆ 99   ┆ 0            │
└─────────────┴──────────────┴──────┴──────────────┘
2024-12-13 00:56:50,497 - WARNING - 2023-04-13T23:59:59.999=====cur_long_scale: 1.2 not match == long_value_ratio: 1.0
2024-12-13 00:56:50,497 - INFO - cur close time: 2023-04-13T23:59:59.999 == long_value_ratio: 1.0 == short_value_ratio: 1.0 --- 1.2
2024-12-13 00:56:50,497 - DEBUG - mean expected ret (mean factor): -0.11590554364697954
2024-12-13 00:56:50,501 - DEBUG - begin to update pos: =========
2024-12-13 00:56:50,501 - DEBUG - next_step_value: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ i64     ┆ i64    ┆ i64     ┆ i64     │
│ i64         ┆ i64         ┆ i64         ┆ i64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0           ┆ 0           ┆ 0           ┆ 0           ┆ … ┆ 0       ┆ 0      ┆ 0       ┆ 0       │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:50,501 - DEBUG - all_open_price_when_open_pos: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ f64     ┆ f64    ┆ f64     ┆ f64     │
│ f64         ┆ f64         ┆ f64         ┆ f64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ null        ┆ null        ┆ 0.1268      ┆ null        ┆ … ┆ 0.02984 ┆ null   ┆ null    ┆ 0.2808  │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:50,507 - DEBUG - update position: 2023-04-13T23:59:59.999 === diff_trading_value: 232713.6735861468 == cash: 149326.4377498502 
2024-12-13 00:56:50,509 - INFO - pnl: 2023-04-13T23:59:59.999 149326.4377498502 === -1.171%
2024-12-13 00:56:50,509 - DEBUG - cur time: 2023-04-14T23:59:59.999 == next bar open time: 2023-04-15T00:00:00.000 == close pos time: 2023-04-20T00:00:00.000
2024-12-13 00:56:50,513 - INFO - pnl: 2023-04-14T23:59:59.999 143735.99321701788 === -3.744%
2024-12-13 00:56:50,517 - DEBUG - cur time: 2023-04-15T23:59:59.999 == next bar open time: 2023-04-16T00:00:00.000 == close pos time: 2023-04-21T00:00:00.000
2024-12-13 00:56:50,518 - INFO - pnl: 2023-04-15T23:59:59.999 146019.9229430772 === 1.589%
2024-12-13 00:56:50,518 - DEBUG - cur time: 2023-04-16T23:59:59.999 == next bar open time: 2023-04-17T00:00:00.000 == close pos time: 2023-04-22T00:00:00.000
2024-12-13 00:56:50,521 - INFO - pnl: 2023-04-16T23:59:59.999 147544.50649056077 === 1.044%
2024-12-13 00:56:50,524 - DEBUG - cur time: 2023-04-17T23:59:59.999 == next bar open time: 2023-04-18T00:00:00.000 == close pos time: 2023-04-23T00:00:00.000
2024-12-13 00:56:50,525 - INFO - pnl: 2023-04-17T23:59:59.999 146892.3426601888 === -0.442%
2024-12-13 00:56:50,530 - DEBUG - cur time: 2023-04-18T23:59:59.999 == next bar open time: 2023-04-19T00:00:00.000 == close pos time: 2023-04-24T00:00:00.000
2024-12-13 00:56:50,538 - DEBUG - close time 2023-04-18T23:59:59.999 == vol_threshold: 20741259.44
2024-12-13 00:56:50,538 - DEBUG - 2023-04-18T23:59:59.999 == all trade symbol 143 == remain 100 after VOL filter
2024-12-13 00:56:50,541 - DEBUG - sorted_long_factors: shape: (100, 4)
┌─────────────┬──────────────┬──────┬──────────────┐
│ symbol      ┆ factor_value ┆ rank ┆ reverse_rank │
│ ---         ┆ ---          ┆ ---  ┆ ---          │
│ str         ┆ f64          ┆ u32  ┆ u32          │
╞═════════════╪══════════════╪══════╪══════════════╡
│ RNDRUSDT    ┆ -0.785947    ┆ 0    ┆ 99           │
│ DYDXUSDT    ┆ -0.731112    ┆ 1    ┆ 98           │
│ NKNUSDT     ┆ -0.655755    ┆ 2    ┆ 97           │
│ UNFIUSDT    ┆ -0.649373    ┆ 3    ┆ 96           │
│ ICPUSDT     ┆ -0.64345     ┆ 4    ┆ 95           │
│ DOGEUSDT    ┆ -0.623686    ┆ 5    ┆ 94           │
│ SXPUSDT     ┆ -0.557831    ┆ 6    ┆ 93           │
│ LRCUSDT     ┆ -0.494534    ┆ 7    ┆ 92           │
│ FILUSDT     ┆ -0.48209     ┆ 8    ┆ 91           │
│ APEUSDT     ┆ -0.476594    ┆ 9    ┆ 90           │
│ …           ┆ …            ┆ …    ┆ …            │
│ JASMYUSDT   ┆ 0.363696     ┆ 90   ┆ 9            │
│ DENTUSDT    ┆ 0.425687     ┆ 91   ┆ 8            │
│ CTKUSDT     ┆ 0.441357     ┆ 92   ┆ 7            │
│ WOOUSDT     ┆ 0.479696     ┆ 93   ┆ 6            │
│ SKLUSDT     ┆ 0.519147     ┆ 94   ┆ 5            │
│ IOTXUSDT    ┆ 0.617695     ┆ 95   ┆ 4            │
│ ALPHAUSDT   ┆ 0.621577     ┆ 96   ┆ 3            │
│ DGBUSDT     ┆ 0.640011     ┆ 97   ┆ 2            │
│ 1000XECUSDT ┆ 0.650685     ┆ 98   ┆ 1            │
│ BLZUSDT     ┆ 0.730747     ┆ 99   ┆ 0            │
└─────────────┴──────────────┴──────┴──────────────┘
2024-12-13 00:56:50,547 - WARNING - 2023-04-18T23:59:59.999=====cur_long_scale: 1.2 not match == long_value_ratio: 1.0
2024-12-13 00:56:50,547 - INFO - cur close time: 2023-04-18T23:59:59.999 == long_value_ratio: 1.0 == short_value_ratio: 1.0 --- 1.2
2024-12-13 00:56:50,547 - DEBUG - mean expected ret (mean factor): -0.071993032328152
2024-12-13 00:56:50,551 - DEBUG - begin to update pos: =========
2024-12-13 00:56:50,551 - DEBUG - next_step_value: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ i64     ┆ i64    ┆ i64     ┆ i64     │
│ i64         ┆ i64         ┆ i64         ┆ i64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0           ┆ 0           ┆ 0           ┆ 0           ┆ … ┆ 0       ┆ 0      ┆ 0       ┆ 0       │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:50,551 - DEBUG - all_open_price_when_open_pos: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ f64     ┆ f64    ┆ f64     ┆ f64     │
│ f64         ┆ f64         ┆ f64         ┆ f64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ null        ┆ null        ┆ 0.127       ┆ null        ┆ … ┆ 0.0336  ┆ null   ┆ null    ┆ 0.3051  │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:50,558 - DEBUG - update position: 2023-04-18T23:59:59.999 === diff_trading_value: 232093.3042141007 == cash: 150870.783794786 
2024-12-13 00:56:50,560 - INFO - pnl: 2023-04-18T23:59:59.999 150870.783794786 === 2.708%
2024-12-13 00:56:50,560 - DEBUG - cur time: 2023-04-19T23:59:59.999 == next bar open time: 2023-04-20T00:00:00.000 == close pos time: 2023-04-25T00:00:00.000
2024-12-13 00:56:50,563 - INFO - pnl: 2023-04-19T23:59:59.999 150531.9667672121 === -0.225%
2024-12-13 00:56:50,566 - DEBUG - cur time: 2023-04-20T23:59:59.999 == next bar open time: 2023-04-21T00:00:00.000 == close pos time: 2023-04-26T00:00:00.000
2024-12-13 00:56:50,567 - INFO - pnl: 2023-04-20T23:59:59.999 149904.57019024712 === -0.417%
2024-12-13 00:56:50,567 - DEBUG - cur time: 2023-04-21T23:59:59.999 == next bar open time: 2023-04-22T00:00:00.000 == close pos time: 2023-04-27T00:00:00.000
2024-12-13 00:56:50,571 - INFO - pnl: 2023-04-21T23:59:59.999 151164.9460829173 === 0.841%
2024-12-13 00:56:50,572 - DEBUG - cur time: 2023-04-22T23:59:59.999 == next bar open time: 2023-04-23T00:00:00.000 == close pos time: 2023-04-28T00:00:00.000
2024-12-13 00:56:50,572 - INFO - pnl: 2023-04-22T23:59:59.999 149674.68885416692 === -0.986%
2024-12-13 00:56:50,577 - DEBUG - cur time: 2023-04-23T23:59:59.999 == next bar open time: 2023-04-24T00:00:00.000 == close pos time: 2023-04-29T00:00:00.000
2024-12-13 00:56:50,585 - DEBUG - close time 2023-04-23T23:59:59.999 == vol_threshold: 13756978.0
2024-12-13 00:56:50,585 - DEBUG - 2023-04-23T23:59:59.999 == all trade symbol 147 == remain 103 after VOL filter
2024-12-13 00:56:50,587 - DEBUG - sorted_long_factors: shape: (103, 4)
┌─────────────┬──────────────┬──────┬──────────────┐
│ symbol      ┆ factor_value ┆ rank ┆ reverse_rank │
│ ---         ┆ ---          ┆ ---  ┆ ---          │
│ str         ┆ f64          ┆ u32  ┆ u32          │
╞═════════════╪══════════════╪══════╪══════════════╡
│ APTUSDT     ┆ -0.825792    ┆ 0    ┆ 102          │
│ APEUSDT     ┆ -0.823976    ┆ 1    ┆ 101          │
│ HIGHUSDT    ┆ -0.737114    ┆ 2    ┆ 100          │
│ INJUSDT     ┆ -0.677243    ┆ 3    ┆ 99           │
│ NEARUSDT    ┆ -0.669317    ┆ 4    ┆ 98           │
│ BELUSDT     ┆ -0.660829    ┆ 5    ┆ 97           │
│ RNDRUSDT    ┆ -0.660687    ┆ 6    ┆ 96           │
│ STGUSDT     ┆ -0.650089    ┆ 7    ┆ 95           │
│ FILUSDT     ┆ -0.626616    ┆ 8    ┆ 94           │
│ AGIXUSDT    ┆ -0.620897    ┆ 9    ┆ 93           │
│ …           ┆ …            ┆ …    ┆ …            │
│ STORJUSDT   ┆ 0.446068     ┆ 93   ┆ 9            │
│ SFPUSDT     ┆ 0.471332     ┆ 94   ┆ 8            │
│ REEFUSDT    ┆ 0.476296     ┆ 95   ┆ 7            │
│ DGBUSDT     ┆ 0.48236      ┆ 96   ┆ 6            │
│ ALPHAUSDT   ┆ 0.487052     ┆ 97   ┆ 5            │
│ BLZUSDT     ┆ 0.500241     ┆ 98   ┆ 4            │
│ RVNUSDT     ┆ 0.502236     ┆ 99   ┆ 3            │
│ DENTUSDT    ┆ 0.548914     ┆ 100  ┆ 2            │
│ 1000XECUSDT ┆ 0.623952     ┆ 101  ┆ 1            │
│ BAKEUSDT    ┆ 0.790909     ┆ 102  ┆ 0            │
└─────────────┴──────────────┴──────┴──────────────┘
2024-12-13 00:56:50,593 - WARNING - 2023-04-23T23:59:59.999=====cur_long_scale: 0.8 not match == long_value_ratio: 1.0
2024-12-13 00:56:50,593 - INFO - cur close time: 2023-04-23T23:59:59.999 == long_value_ratio: 1.0 == short_value_ratio: 1.0 --- 0.8
2024-12-13 00:56:50,593 - DEBUG - mean expected ret (mean factor): -0.09059951510065867
2024-12-13 00:56:50,598 - DEBUG - begin to update pos: =========
2024-12-13 00:56:50,598 - DEBUG - next_step_value: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ i64     ┆ i64    ┆ i64     ┆ i64     │
│ i64         ┆ i64         ┆ i64         ┆ i64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0           ┆ 0           ┆ 0           ┆ 0           ┆ … ┆ 0       ┆ 0      ┆ 0       ┆ 0       │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:50,598 - DEBUG - all_open_price_when_open_pos: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ f64     ┆ f64    ┆ f64     ┆ f64     │
│ f64         ┆ f64         ┆ f64         ┆ f64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ null        ┆ null        ┆ 0.11        ┆ null        ┆ … ┆ 0.0322  ┆ null   ┆ null    ┆ 0.261   │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:50,605 - DEBUG - update position: 2023-04-23T23:59:59.999 === diff_trading_value: 223976.83122227975 == cash: 150510.04928498174 
2024-12-13 00:56:50,605 - INFO - pnl: 2023-04-23T23:59:59.999 150510.04928498174 === 0.558%
2024-12-13 00:56:50,607 - DEBUG - cur time: 2023-04-24T23:59:59.999 == next bar open time: 2023-04-25T00:00:00.000 == close pos time: 2023-04-30T00:00:00.000
2024-12-13 00:56:50,609 - INFO - pnl: 2023-04-24T23:59:59.999 151359.47665709918 === 0.564%
2024-12-13 00:56:50,609 - DEBUG - cur time: 2023-04-25T23:59:59.999 == next bar open time: 2023-04-26T00:00:00.000 == close pos time: 2023-05-01T00:00:00.000
2024-12-13 00:56:50,613 - INFO - pnl: 2023-04-25T23:59:59.999 147782.63688104725 === -2.363%
2024-12-13 00:56:50,613 - DEBUG - cur time: 2023-04-26T23:59:59.999 == next bar open time: 2023-04-27T00:00:00.000 == close pos time: 2023-05-02T00:00:00.000
2024-12-13 00:56:50,617 - INFO - pnl: 2023-04-26T23:59:59.999 144967.1119704716 === -1.905%
2024-12-13 00:56:50,617 - DEBUG - cur time: 2023-04-27T23:59:59.999 == next bar open time: 2023-04-28T00:00:00.000 == close pos time: 2023-05-03T00:00:00.000
2024-12-13 00:56:50,621 - INFO - pnl: 2023-04-27T23:59:59.999 143137.21934789672 === -1.262%
2024-12-13 00:56:50,622 - DEBUG - cur time: 2023-04-28T23:59:59.999 == next bar open time: 2023-04-29T00:00:00.000 == close pos time: 2023-05-04T00:00:00.000
2024-12-13 00:56:50,633 - DEBUG - close time 2023-04-28T23:59:59.999 == vol_threshold: 16419197.9
2024-12-13 00:56:50,633 - DEBUG - 2023-04-28T23:59:59.999 == all trade symbol 151 == remain 105 after VOL filter
2024-12-13 00:56:50,633 - DEBUG - sorted_long_factors: shape: (105, 4)
┌───────────┬──────────────┬──────┬──────────────┐
│ symbol    ┆ factor_value ┆ rank ┆ reverse_rank │
│ ---       ┆ ---          ┆ ---  ┆ ---          │
│ str       ┆ f64          ┆ u32  ┆ u32          │
╞═══════════╪══════════════╪══════╪══════════════╡
│ RNDRUSDT  ┆ -1.208096    ┆ 0    ┆ 104          │
│ FILUSDT   ┆ -0.980279    ┆ 1    ┆ 103          │
│ CFXUSDT   ┆ -0.905002    ┆ 2    ┆ 102          │
│ ICPUSDT   ┆ -0.821318    ┆ 3    ┆ 101          │
│ CTSIUSDT  ┆ -0.766556    ┆ 4    ┆ 100          │
│ DYDXUSDT  ┆ -0.732293    ┆ 5    ┆ 99           │
│ OPUSDT    ┆ -0.703974    ┆ 6    ┆ 98           │
│ HOOKUSDT  ┆ -0.692967    ┆ 7    ┆ 97           │
│ APTUSDT   ┆ -0.678853    ┆ 8    ┆ 96           │
│ DOGEUSDT  ┆ -0.607398    ┆ 9    ┆ 95           │
│ …         ┆ …            ┆ …    ┆ …            │
│ ONEUSDT   ┆ 0.457108     ┆ 95   ┆ 9            │
│ OGNUSDT   ┆ 0.473147     ┆ 96   ┆ 8            │
│ DENTUSDT  ┆ 0.480869     ┆ 97   ┆ 7            │
│ XEMUSDT   ┆ 0.530348     ┆ 98   ┆ 6            │
│ IOTXUSDT  ┆ 0.541581     ┆ 99   ┆ 5            │
│ DARUSDT   ┆ 0.585778     ┆ 100  ┆ 4            │
│ SPELLUSDT ┆ 0.608362     ┆ 101  ┆ 3            │
│ DGBUSDT   ┆ 0.679442     ┆ 102  ┆ 2            │
│ OMGUSDT   ┆ 0.79189      ┆ 103  ┆ 1            │
│ BLZUSDT   ┆ 0.810808     ┆ 104  ┆ 0            │
└───────────┴──────────────┴──────┴──────────────┘
2024-12-13 00:56:50,637 - WARNING - 2023-04-28T23:59:59.999=====cur_long_scale: 1.2 not match == long_value_ratio: 1.0
2024-12-13 00:56:50,637 - INFO - cur close time: 2023-04-28T23:59:59.999 == long_value_ratio: 1.0 == short_value_ratio: 1.0 --- 1.2
2024-12-13 00:56:50,637 - DEBUG - mean expected ret (mean factor): -0.10126138927900294
2024-12-13 00:56:50,645 - DEBUG - begin to update pos: =========
2024-12-13 00:56:50,645 - DEBUG - next_step_value: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ i64     ┆ i64    ┆ i64     ┆ i64     │
│ i64         ┆ i64         ┆ i64         ┆ i64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0           ┆ 0           ┆ 0           ┆ 0           ┆ … ┆ 0       ┆ 0      ┆ 0       ┆ 0       │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:50,645 - DEBUG - all_open_price_when_open_pos: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ f64     ┆ f64    ┆ f64     ┆ f64     │
│ f64         ┆ f64         ┆ f64         ┆ f64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ null        ┆ null        ┆ 0.1117      ┆ null        ┆ … ┆ 0.02884 ┆ null   ┆ null    ┆ 0.2623  │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:50,649 - DEBUG - update position: 2023-04-28T23:59:59.999 === diff_trading_value: 240743.42427057744 == cash: 143432.40939069615 
2024-12-13 00:56:50,649 - INFO - pnl: 2023-04-28T23:59:59.999 143432.40939069615 === 0.206%
2024-12-13 00:56:50,653 - DEBUG - cur time: 2023-04-29T23:59:59.999 == next bar open time: 2023-04-30T00:00:00.000 == close pos time: 2023-05-05T00:00:00.000
2024-12-13 00:56:50,653 - INFO - pnl: 2023-04-29T23:59:59.999 144165.0396433518 === 0.511%
2024-12-13 00:56:50,657 - DEBUG - cur time: 2023-04-30T23:59:59.999 == next bar open time: 2023-05-01T00:00:00.000 == close pos time: 2023-05-06T00:00:00.000
2024-12-13 00:56:50,657 - INFO - pnl: 2023-04-30T23:59:59.999 142458.80788129926 === -1.184%
2024-12-13 00:56:50,661 - DEBUG - cur time: 2023-05-01T23:59:59.999 == next bar open time: 2023-05-02T00:00:00.000 == close pos time: 2023-05-07T00:00:00.000
2024-12-13 00:56:50,661 - INFO - pnl: 2023-05-01T23:59:59.999 145066.0729948018 === 1.830%
2024-12-13 00:56:50,665 - DEBUG - cur time: 2023-05-02T23:59:59.999 == next bar open time: 2023-05-03T00:00:00.000 == close pos time: 2023-05-08T00:00:00.000
2024-12-13 00:56:50,667 - INFO - pnl: 2023-05-02T23:59:59.999 146795.62522719818 === 1.192%
2024-12-13 00:56:50,669 - DEBUG - cur time: 2023-05-03T23:59:59.999 == next bar open time: 2023-05-04T00:00:00.000 == close pos time: 2023-05-09T00:00:00.000
2024-12-13 00:56:50,677 - DEBUG - close time 2023-05-03T23:59:59.999 == vol_threshold: 20220414.720000003
2024-12-13 00:56:50,677 - DEBUG - 2023-05-03T23:59:59.999 == all trade symbol 153 == remain 107 after VOL filter
2024-12-13 00:56:50,683 - DEBUG - sorted_long_factors: shape: (107, 4)
┌─────────────┬──────────────┬──────┬──────────────┐
│ symbol      ┆ factor_value ┆ rank ┆ reverse_rank │
│ ---         ┆ ---          ┆ ---  ┆ ---          │
│ str         ┆ f64          ┆ u32  ┆ u32          │
╞═════════════╪══════════════╪══════╪══════════════╡
│ MASKUSDT    ┆ -0.868303    ┆ 0    ┆ 106          │
│ HOOKUSDT    ┆ -0.853772    ┆ 1    ┆ 105          │
│ APTUSDT     ┆ -0.840522    ┆ 2    ┆ 104          │
│ BNXUSDT     ┆ -0.820682    ┆ 3    ┆ 103          │
│ MAGICUSDT   ┆ -0.780168    ┆ 4    ┆ 102          │
│ INJUSDT     ┆ -0.685248    ┆ 5    ┆ 101          │
│ DOTUSDT     ┆ -0.649164    ┆ 6    ┆ 100          │
│ SNXUSDT     ┆ -0.644094    ┆ 7    ┆ 99           │
│ OPUSDT      ┆ -0.628316    ┆ 8    ┆ 98           │
│ STXUSDT     ┆ -0.58696     ┆ 9    ┆ 97           │
│ …           ┆ …            ┆ …    ┆ …            │
│ DENTUSDT    ┆ 0.387325     ┆ 97   ┆ 9            │
│ VETUSDT     ┆ 0.412167     ┆ 98   ┆ 8            │
│ 1000XECUSDT ┆ 0.475276     ┆ 99   ┆ 7            │
│ OGNUSDT     ┆ 0.48966      ┆ 100  ┆ 6            │
│ IOTXUSDT    ┆ 0.548026     ┆ 101  ┆ 5            │
│ BLZUSDT     ┆ 0.571425     ┆ 102  ┆ 4            │
│ CKBUSDT     ┆ 0.596807     ┆ 103  ┆ 3            │
│ BAKEUSDT    ┆ 0.633982     ┆ 104  ┆ 2            │
│ SPELLUSDT   ┆ 0.645332     ┆ 105  ┆ 1            │
│ DGBUSDT     ┆ 0.689588     ┆ 106  ┆ 0            │
└─────────────┴──────────────┴──────┴──────────────┘
2024-12-13 00:56:50,687 - WARNING - 2023-05-03T23:59:59.999=====cur_long_scale: 0.8 not match == long_value_ratio: 1.0
2024-12-13 00:56:50,687 - INFO - cur close time: 2023-05-03T23:59:59.999 == long_value_ratio: 1.0 == short_value_ratio: 1.0 --- 0.8
2024-12-13 00:56:50,687 - DEBUG - mean expected ret (mean factor): -0.10705504439915679
2024-12-13 00:56:50,690 - DEBUG - begin to update pos: =========
2024-12-13 00:56:50,690 - DEBUG - next_step_value: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ i64     ┆ i64    ┆ i64     ┆ i64     │
│ i64         ┆ i64         ┆ i64         ┆ i64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0           ┆ 0           ┆ 0           ┆ 0           ┆ … ┆ 0       ┆ 0      ┆ 0       ┆ 0       │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:50,690 - DEBUG - all_open_price_when_open_pos: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ f64     ┆ f64    ┆ f64     ┆ f64     │
│ f64         ┆ f64         ┆ f64         ┆ f64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ null        ┆ null        ┆ 0.106       ┆ null        ┆ … ┆ 0.02749 ┆ null   ┆ null    ┆ 0.2513  │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:50,699 - DEBUG - update position: 2023-05-03T23:59:59.999 === diff_trading_value: 210876.93990473912 == cash: 144415.6923778678 
2024-12-13 00:56:50,699 - INFO - pnl: 2023-05-03T23:59:59.999 144415.6923778678 === -1.621%
2024-12-13 00:56:50,703 - DEBUG - cur time: 2023-05-04T23:59:59.999 == next bar open time: 2023-05-05T00:00:00.000 == close pos time: 2023-05-10T00:00:00.000
2024-12-13 00:56:50,703 - INFO - pnl: 2023-05-04T23:59:59.999 146049.0073752649 === 1.131%
2024-12-13 00:56:50,707 - DEBUG - cur time: 2023-05-05T23:59:59.999 == next bar open time: 2023-05-06T00:00:00.000 == close pos time: 2023-05-11T00:00:00.000
2024-12-13 00:56:50,707 - INFO - pnl: 2023-05-05T23:59:59.999 145454.34842095227 === -0.407%
2024-12-13 00:56:50,711 - DEBUG - cur time: 2023-05-06T23:59:59.999 == next bar open time: 2023-05-07T00:00:00.000 == close pos time: 2023-05-12T00:00:00.000
2024-12-13 00:56:50,711 - INFO - pnl: 2023-05-06T23:59:59.999 148067.0081826561 === 1.796%
2024-12-13 00:56:50,715 - DEBUG - cur time: 2023-05-07T23:59:59.999 == next bar open time: 2023-05-08T00:00:00.000 == close pos time: 2023-05-13T00:00:00.000
2024-12-13 00:56:50,716 - INFO - pnl: 2023-05-07T23:59:59.999 146695.8286973785 === -0.926%
2024-12-13 00:56:50,717 - DEBUG - cur time: 2023-05-08T23:59:59.999 == next bar open time: 2023-05-09T00:00:00.000 == close pos time: 2023-05-14T00:00:00.000
2024-12-13 00:56:50,727 - DEBUG - close time 2023-05-08T23:59:59.999 == vol_threshold: 30013660.64
2024-12-13 00:56:50,728 - DEBUG - 2023-05-08T23:59:59.999 == all trade symbol 153 == remain 107 after VOL filter
2024-12-13 00:56:50,728 - DEBUG - sorted_long_factors: shape: (107, 4)
┌───────────┬──────────────┬──────┬──────────────┐
│ symbol    ┆ factor_value ┆ rank ┆ reverse_rank │
│ ---       ┆ ---          ┆ ---  ┆ ---          │
│ str       ┆ f64          ┆ u32  ┆ u32          │
╞═══════════╪══════════════╪══════╪══════════════╡
│ STXUSDT   ┆ -1.192537    ┆ 0    ┆ 106          │
│ RNDRUSDT  ┆ -1.053364    ┆ 1    ┆ 105          │
│ ALPHAUSDT ┆ -0.894514    ┆ 2    ┆ 104          │
│ INJUSDT   ┆ -0.891566    ┆ 3    ┆ 103          │
│ STMXUSDT  ┆ -0.874046    ┆ 4    ┆ 102          │
│ 1INCHUSDT ┆ -0.828684    ┆ 5    ┆ 101          │
│ APTUSDT   ┆ -0.7937      ┆ 6    ┆ 100          │
│ RLCUSDT   ┆ -0.792592    ┆ 7    ┆ 99           │
│ BNXUSDT   ┆ -0.741641    ┆ 8    ┆ 98           │
│ OMGUSDT   ┆ -0.709207    ┆ 9    ┆ 97           │
│ …         ┆ …            ┆ …    ┆ …            │
│ DGBUSDT   ┆ 0.369483     ┆ 97   ┆ 9            │
│ STORJUSDT ┆ 0.375011     ┆ 98   ┆ 8            │
│ BATUSDT   ┆ 0.376716     ┆ 99   ┆ 7            │
│ ONEUSDT   ┆ 0.383253     ┆ 100  ┆ 6            │
│ SPELLUSDT ┆ 0.403671     ┆ 101  ┆ 5            │
│ ATAUSDT   ┆ 0.404497     ┆ 102  ┆ 4            │
│ BLZUSDT   ┆ 0.512928     ┆ 103  ┆ 3            │
│ OGNUSDT   ┆ 0.546125     ┆ 104  ┆ 2            │
│ SKLUSDT   ┆ 0.56177      ┆ 105  ┆ 1            │
│ BAKEUSDT  ┆ 0.74747      ┆ 106  ┆ 0            │
└───────────┴──────────────┴──────┴──────────────┘
2024-12-13 00:56:50,736 - WARNING - 2023-05-08T23:59:59.999=====cur_long_scale: 0.8 not match == long_value_ratio: 1.0
2024-12-13 00:56:50,736 - INFO - cur close time: 2023-05-08T23:59:59.999 == long_value_ratio: 1.0 == short_value_ratio: 1.0 --- 0.8
2024-12-13 00:56:50,736 - DEBUG - mean expected ret (mean factor): -0.1581887752795107
2024-12-13 00:56:50,740 - DEBUG - begin to update pos: =========
2024-12-13 00:56:50,740 - DEBUG - next_step_value: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ i64     ┆ i64    ┆ i64     ┆ f64     │
│ i64         ┆ i64         ┆ i64         ┆ i64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0           ┆ 0           ┆ 0           ┆ 0           ┆ … ┆ 0       ┆ 0      ┆ 0       ┆ 5000.0  │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:50,740 - DEBUG - all_open_price_when_open_pos: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ f64     ┆ f64    ┆ f64     ┆ f64     │
│ f64         ┆ f64         ┆ f64         ┆ f64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ null        ┆ null        ┆ 0.0843      ┆ null        ┆ … ┆ 0.02381 ┆ null   ┆ null    ┆ 0.2149  │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:50,745 - DEBUG - update position: 2023-05-08T23:59:59.999 === diff_trading_value: 225529.0948253998 == cash: 147625.71778744372 
2024-12-13 00:56:50,747 - INFO - pnl: 2023-05-08T23:59:59.999 147625.71778744372 === 0.634%
2024-12-13 00:56:50,751 - DEBUG - cur time: 2023-05-09T23:59:59.999 == next bar open time: 2023-05-10T00:00:00.000 == close pos time: 2023-05-15T00:00:00.000
2024-12-13 00:56:50,753 - INFO - pnl: 2023-05-09T23:59:59.999 150104.46842208857 === 1.679%
2024-12-13 00:56:50,753 - DEBUG - cur time: 2023-05-10T23:59:59.999 == next bar open time: 2023-05-11T00:00:00.000 == close pos time: 2023-05-16T00:00:00.000
2024-12-13 00:56:50,757 - INFO - pnl: 2023-05-10T23:59:59.999 150533.62612106156 === 0.286%
2024-12-13 00:56:50,757 - DEBUG - cur time: 2023-05-11T23:59:59.999 == next bar open time: 2023-05-12T00:00:00.000 == close pos time: 2023-05-17T00:00:00.000
2024-12-13 00:56:50,761 - INFO - pnl: 2023-05-11T23:59:59.999 151578.88133747727 === 0.694%
2024-12-13 00:56:50,761 - DEBUG - cur time: 2023-05-12T23:59:59.999 == next bar open time: 2023-05-13T00:00:00.000 == close pos time: 2023-05-18T00:00:00.000
2024-12-13 00:56:50,765 - INFO - pnl: 2023-05-12T23:59:59.999 151610.99909681588 === 0.021%
2024-12-13 00:56:50,767 - DEBUG - cur time: 2023-05-13T23:59:59.999 == next bar open time: 2023-05-14T00:00:00.000 == close pos time: 2023-05-19T00:00:00.000
2024-12-13 00:56:50,777 - DEBUG - close time 2023-05-13T23:59:59.999 == vol_threshold: 12106863.9
2024-12-13 00:56:50,777 - DEBUG - 2023-05-13T23:59:59.999 == all trade symbol 156 == remain 109 after VOL filter
2024-12-13 00:56:50,777 - DEBUG - sorted_long_factors: shape: (109, 4)
┌───────────┬──────────────┬──────┬──────────────┐
│ symbol    ┆ factor_value ┆ rank ┆ reverse_rank │
│ ---       ┆ ---          ┆ ---  ┆ ---          │
│ str       ┆ f64          ┆ u32  ┆ u32          │
╞═══════════╪══════════════╪══════╪══════════════╡
│ MTLUSDT   ┆ -1.343536    ┆ 0    ┆ 108          │
│ BNXUSDT   ┆ -1.14923     ┆ 1    ┆ 107          │
│ RNDRUSDT  ┆ -1.049897    ┆ 2    ┆ 106          │
│ BELUSDT   ┆ -0.904335    ┆ 3    ┆ 105          │
│ KAVAUSDT  ┆ -0.900417    ┆ 4    ┆ 104          │
│ RLCUSDT   ┆ -0.889163    ┆ 5    ┆ 103          │
│ STXUSDT   ┆ -0.762588    ┆ 6    ┆ 102          │
│ ARPAUSDT  ┆ -0.721783    ┆ 7    ┆ 101          │
│ CTSIUSDT  ┆ -0.721759    ┆ 8    ┆ 100          │
│ JASMYUSDT ┆ -0.700014    ┆ 9    ┆ 99           │
│ …         ┆ …            ┆ …    ┆ …            │
│ DUSKUSDT  ┆ 0.428358     ┆ 99   ┆ 9            │
│ OCEANUSDT ┆ 0.434052     ┆ 100  ┆ 8            │
│ SKLUSDT   ┆ 0.440394     ┆ 101  ┆ 7            │
│ RSRUSDT   ┆ 0.454123     ┆ 102  ┆ 6            │
│ OGNUSDT   ┆ 0.461035     ┆ 103  ┆ 5            │
│ ATAUSDT   ┆ 0.473573     ┆ 104  ┆ 4            │
│ DGBUSDT   ┆ 0.490518     ┆ 105  ┆ 3            │
│ DARUSDT   ┆ 0.67322      ┆ 106  ┆ 2            │
│ BAKEUSDT  ┆ 0.687894     ┆ 107  ┆ 1            │
│ BLZUSDT   ┆ 0.698488     ┆ 108  ┆ 0            │
└───────────┴──────────────┴──────┴──────────────┘
2024-12-13 00:56:50,785 - WARNING - 2023-05-13T23:59:59.999=====cur_long_scale: 0.8 not match == long_value_ratio: 1.0
2024-12-13 00:56:50,785 - INFO - cur close time: 2023-05-13T23:59:59.999 == long_value_ratio: 1.0 == short_value_ratio: 1.0 --- 0.8
2024-12-13 00:56:50,785 - DEBUG - mean expected ret (mean factor): -0.12591205658451565
2024-12-13 00:56:50,789 - DEBUG - begin to update pos: =========
2024-12-13 00:56:50,789 - DEBUG - next_step_value: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ i64     ┆ i64    ┆ i64     ┆ i64     │
│ i64         ┆ i64         ┆ i64         ┆ i64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0           ┆ 0           ┆ 0           ┆ 0           ┆ … ┆ 0       ┆ 0      ┆ 0       ┆ 0       │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:50,789 - DEBUG - all_open_price_when_open_pos: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ f64     ┆ f64    ┆ f64     ┆ f64     │
│ f64         ┆ f64         ┆ f64         ┆ f64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ null        ┆ null        ┆ 0.0885      ┆ null        ┆ … ┆ 0.02355 ┆ null   ┆ null    ┆ 0.2168  │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:50,794 - DEBUG - update position: 2023-05-13T23:59:59.999 === diff_trading_value: 211900.35514334662 == cash: 150744.70720413123 
2024-12-13 00:56:50,794 - INFO - pnl: 2023-05-13T23:59:59.999 150744.70720413123 === -0.571%
2024-12-13 00:56:50,798 - DEBUG - cur time: 2023-05-14T23:59:59.999 == next bar open time: 2023-05-15T00:00:00.000 == close pos time: 2023-05-20T00:00:00.000
2024-12-13 00:56:50,798 - INFO - pnl: 2023-05-14T23:59:59.999 151364.48141067638 === 0.411%
2024-12-13 00:56:50,802 - DEBUG - cur time: 2023-05-15T23:59:59.999 == next bar open time: 2023-05-16T00:00:00.000 == close pos time: 2023-05-21T00:00:00.000
2024-12-13 00:56:50,802 - INFO - pnl: 2023-05-15T23:59:59.999 153351.93709032773 === 1.313%
2024-12-13 00:56:50,806 - DEBUG - cur time: 2023-05-16T23:59:59.999 == next bar open time: 2023-05-17T00:00:00.000 == close pos time: 2023-05-22T00:00:00.000
2024-12-13 00:56:50,807 - INFO - pnl: 2023-05-16T23:59:59.999 153971.30652292786 === 0.404%
2024-12-13 00:56:50,810 - DEBUG - cur time: 2023-05-17T23:59:59.999 == next bar open time: 2023-05-18T00:00:00.000 == close pos time: 2023-05-23T00:00:00.000
2024-12-13 00:56:50,811 - INFO - pnl: 2023-05-17T23:59:59.999 150064.54658192967 === -2.537%
2024-12-13 00:56:50,814 - DEBUG - cur time: 2023-05-18T23:59:59.999 == next bar open time: 2023-05-19T00:00:00.000 == close pos time: 2023-05-24T00:00:00.000
2024-12-13 00:56:50,821 - DEBUG - close time 2023-05-18T23:59:59.999 == vol_threshold: 22683633.98
2024-12-13 00:56:50,821 - DEBUG - 2023-05-18T23:59:59.999 == all trade symbol 157 == remain 110 after VOL filter
2024-12-13 00:56:50,821 - DEBUG - sorted_long_factors: shape: (110, 4)
┌───────────┬──────────────┬──────┬──────────────┐
│ symbol    ┆ factor_value ┆ rank ┆ reverse_rank │
│ ---       ┆ ---          ┆ ---  ┆ ---          │
│ str       ┆ f64          ┆ u32  ┆ u32          │
╞═══════════╪══════════════╪══════╪══════════════╡
│ RNDRUSDT  ┆ -1.17517     ┆ 0    ┆ 109          │
│ STXUSDT   ┆ -1.087873    ┆ 1    ┆ 108          │
│ MASKUSDT  ┆ -0.908925    ┆ 2    ┆ 107          │
│ XRPUSDT   ┆ -0.888211    ┆ 3    ┆ 106          │
│ MTLUSDT   ┆ -0.853171    ┆ 4    ┆ 105          │
│ AXSUSDT   ┆ -0.718084    ┆ 5    ┆ 104          │
│ MAGICUSDT ┆ -0.664608    ┆ 6    ┆ 103          │
│ BNXUSDT   ┆ -0.646828    ┆ 7    ┆ 102          │
│ SNXUSDT   ┆ -0.592256    ┆ 8    ┆ 101          │
│ LDOUSDT   ┆ -0.58704     ┆ 9    ┆ 100          │
│ …         ┆ …            ┆ …    ┆ …            │
│ SPELLUSDT ┆ 0.537642     ┆ 100  ┆ 9            │
│ DUSKUSDT  ┆ 0.547369     ┆ 101  ┆ 8            │
│ KAVAUSDT  ┆ 0.549919     ┆ 102  ┆ 7            │
│ ANKRUSDT  ┆ 0.577644     ┆ 103  ┆ 6            │
│ SKLUSDT   ┆ 0.583144     ┆ 104  ┆ 5            │
│ BLZUSDT   ┆ 0.608287     ┆ 105  ┆ 4            │
│ KLAYUSDT  ┆ 0.719759     ┆ 106  ┆ 3            │
│ BAKEUSDT  ┆ 0.777197     ┆ 107  ┆ 2            │
│ ATAUSDT   ┆ 0.832834     ┆ 108  ┆ 1            │
│ DARUSDT   ┆ 0.84132      ┆ 109  ┆ 0            │
└───────────┴──────────────┴──────┴──────────────┘
2024-12-13 00:56:50,829 - WARNING - 2023-05-18T23:59:59.999=====cur_long_scale: 1.2 not match == long_value_ratio: 1.0
2024-12-13 00:56:50,829 - INFO - cur close time: 2023-05-18T23:59:59.999 == long_value_ratio: 1.0 == short_value_ratio: 1.0 --- 1.2
2024-12-13 00:56:50,829 - DEBUG - mean expected ret (mean factor): -0.12732071175771512
2024-12-13 00:56:50,833 - DEBUG - begin to update pos: =========
2024-12-13 00:56:50,833 - DEBUG - next_step_value: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ i64     ┆ i64    ┆ i64     ┆ i64     │
│ i64         ┆ i64         ┆ i64         ┆ i64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0           ┆ 0           ┆ 0           ┆ 0           ┆ … ┆ 0       ┆ 0      ┆ 0       ┆ 0       │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:50,833 - DEBUG - all_open_price_when_open_pos: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ f64     ┆ f64    ┆ f64     ┆ f64     │
│ f64         ┆ f64         ┆ f64         ┆ f64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ null        ┆ null        ┆ 0.0906      ┆ null        ┆ … ┆ 0.02396 ┆ null   ┆ null    ┆ 0.2284  │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:50,837 - DEBUG - update position: 2023-05-18T23:59:59.999 === diff_trading_value: 221520.69764719612 == cash: 149682.7932665583 
2024-12-13 00:56:50,841 - INFO - pnl: 2023-05-18T23:59:59.999 149682.7932665583 === -0.254%
2024-12-13 00:56:50,841 - DEBUG - cur time: 2023-05-19T23:59:59.999 == next bar open time: 2023-05-20T00:00:00.000 == close pos time: 2023-05-25T00:00:00.000
2024-12-13 00:56:50,845 - INFO - pnl: 2023-05-19T23:59:59.999 151128.51800823226 === 0.966%
2024-12-13 00:56:50,847 - DEBUG - cur time: 2023-05-20T23:59:59.999 == next bar open time: 2023-05-21T00:00:00.000 == close pos time: 2023-05-26T00:00:00.000
2024-12-13 00:56:50,849 - INFO - pnl: 2023-05-20T23:59:59.999 150870.3340198396 === -0.171%
2024-12-13 00:56:50,849 - DEBUG - cur time: 2023-05-21T23:59:59.999 == next bar open time: 2023-05-22T00:00:00.000 == close pos time: 2023-05-27T00:00:00.000
2024-12-13 00:56:50,849 - INFO - pnl: 2023-05-21T23:59:59.999 150472.13324985528 === -0.264%
2024-12-13 00:56:50,853 - DEBUG - cur time: 2023-05-22T23:59:59.999 == next bar open time: 2023-05-23T00:00:00.000 == close pos time: 2023-05-28T00:00:00.000
2024-12-13 00:56:50,853 - INFO - pnl: 2023-05-22T23:59:59.999 151063.23360652055 === 0.393%
2024-12-13 00:56:50,857 - DEBUG - cur time: 2023-05-23T23:59:59.999 == next bar open time: 2023-05-24T00:00:00.000 == close pos time: 2023-05-29T00:00:00.000
2024-12-13 00:56:50,869 - DEBUG - close time 2023-05-23T23:59:59.999 == vol_threshold: 15973558.64
2024-12-13 00:56:50,869 - DEBUG - 2023-05-23T23:59:59.999 == all trade symbol 157 == remain 110 after VOL filter
2024-12-13 00:56:50,869 - DEBUG - sorted_long_factors: shape: (110, 4)
┌───────────┬──────────────┬──────┬──────────────┐
│ symbol    ┆ factor_value ┆ rank ┆ reverse_rank │
│ ---       ┆ ---          ┆ ---  ┆ ---          │
│ str       ┆ f64          ┆ u32  ┆ u32          │
╞═══════════╪══════════════╪══════╪══════════════╡
│ RNDRUSDT  ┆ -0.906553    ┆ 0    ┆ 109          │
│ TOMOUSDT  ┆ -0.886798    ┆ 1    ┆ 108          │
│ KAVAUSDT  ┆ -0.795773    ┆ 2    ┆ 107          │
│ RLCUSDT   ┆ -0.788899    ┆ 3    ┆ 106          │
│ PHBUSDT   ┆ -0.744393    ┆ 4    ┆ 105          │
│ ARPAUSDT  ┆ -0.73146     ┆ 5    ┆ 104          │
│ FILUSDT   ┆ -0.716076    ┆ 6    ┆ 103          │
│ BELUSDT   ┆ -0.655541    ┆ 7    ┆ 102          │
│ LDOUSDT   ┆ -0.644267    ┆ 8    ┆ 101          │
│ DYDXUSDT  ┆ -0.642464    ┆ 9    ┆ 100          │
│ …         ┆ …            ┆ …    ┆ …            │
│ NKNUSDT   ┆ 0.481397     ┆ 100  ┆ 9            │
│ SFPUSDT   ┆ 0.487842     ┆ 101  ┆ 8            │
│ ONEUSDT   ┆ 0.49168      ┆ 102  ┆ 7            │
│ CHRUSDT   ┆ 0.499955     ┆ 103  ┆ 6            │
│ IOTXUSDT  ┆ 0.675136     ┆ 104  ┆ 5            │
│ BAKEUSDT  ┆ 0.738299     ┆ 105  ┆ 4            │
│ SPELLUSDT ┆ 0.74473      ┆ 106  ┆ 3            │
│ BLZUSDT   ┆ 0.858198     ┆ 107  ┆ 2            │
│ SKLUSDT   ┆ 0.941841     ┆ 108  ┆ 1            │
│ ATAUSDT   ┆ 1.049841     ┆ 109  ┆ 0            │
└───────────┴──────────────┴──────┴──────────────┘
2024-12-13 00:56:50,877 - WARNING - 2023-05-23T23:59:59.999=====cur_long_scale: 1.2 not match == long_value_ratio: 1.0
2024-12-13 00:56:50,877 - INFO - cur close time: 2023-05-23T23:59:59.999 == long_value_ratio: 1.0 == short_value_ratio: 1.0 --- 1.2
2024-12-13 00:56:50,877 - DEBUG - mean expected ret (mean factor): -0.10915500392431106
2024-12-13 00:56:50,881 - DEBUG - begin to update pos: =========
2024-12-13 00:56:50,881 - DEBUG - next_step_value: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ i64     ┆ i64    ┆ i64     ┆ f64     │
│ i64         ┆ i64         ┆ i64         ┆ i64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0           ┆ 0           ┆ 0           ┆ 0           ┆ … ┆ 0       ┆ 0      ┆ 0       ┆ 5000.0  │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:50,881 - DEBUG - all_open_price_when_open_pos: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ f64     ┆ f64    ┆ f64     ┆ f64     │
│ f64         ┆ f64         ┆ f64         ┆ f64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ null        ┆ null        ┆ 0.0902      ┆ null        ┆ … ┆ 0.02361 ┆ null   ┆ null    ┆ 0.2268  │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:50,887 - DEBUG - update position: 2023-05-23T23:59:59.999 === diff_trading_value: 223690.8496057235 == cash: 150682.39250038526 
2024-12-13 00:56:50,889 - INFO - pnl: 2023-05-23T23:59:59.999 150682.39250038526 === -0.252%
2024-12-13 00:56:50,891 - DEBUG - cur time: 2023-05-24T23:59:59.999 == next bar open time: 2023-05-25T00:00:00.000 == close pos time: 2023-05-30T00:00:00.000
2024-12-13 00:56:50,893 - INFO - pnl: 2023-05-24T23:59:59.999 142695.7634745231 === -5.300%
2024-12-13 00:56:50,894 - DEBUG - cur time: 2023-05-25T23:59:59.999 == next bar open time: 2023-05-26T00:00:00.000 == close pos time: 2023-05-31T00:00:00.000
2024-12-13 00:56:50,897 - INFO - pnl: 2023-05-25T23:59:59.999 142459.21078087392 === -0.166%
2024-12-13 00:56:50,898 - DEBUG - cur time: 2023-05-26T23:59:59.999 == next bar open time: 2023-05-27T00:00:00.000 == close pos time: 2023-06-01T00:00:00.000
2024-12-13 00:56:50,898 - INFO - pnl: 2023-05-26T23:59:59.999 143637.97475080623 === 0.827%
2024-12-13 00:56:50,902 - DEBUG - cur time: 2023-05-27T23:59:59.999 == next bar open time: 2023-05-28T00:00:00.000 == close pos time: 2023-06-02T00:00:00.000
2024-12-13 00:56:50,902 - INFO - pnl: 2023-05-27T23:59:59.999 146043.33693052828 === 1.675%
2024-12-13 00:56:50,906 - DEBUG - cur time: 2023-05-28T23:59:59.999 == next bar open time: 2023-05-29T00:00:00.000 == close pos time: 2023-06-03T00:00:00.000
2024-12-13 00:56:50,914 - DEBUG - close time 2023-05-28T23:59:59.999 == vol_threshold: 15497451.848
2024-12-13 00:56:50,914 - DEBUG - 2023-05-28T23:59:59.999 == all trade symbol 159 == remain 111 after VOL filter
2024-12-13 00:56:50,914 - DEBUG - sorted_long_factors: shape: (111, 4)
┌───────────┬──────────────┬──────┬──────────────┐
│ symbol    ┆ factor_value ┆ rank ┆ reverse_rank │
│ ---       ┆ ---          ┆ ---  ┆ ---          │
│ str       ┆ f64          ┆ u32  ┆ u32          │
╞═══════════╪══════════════╪══════╪══════════════╡
│ KAVAUSDT  ┆ -0.910805    ┆ 0    ┆ 110          │
│ AGIXUSDT  ┆ -0.866924    ┆ 1    ┆ 109          │
│ IDUSDT    ┆ -0.840326    ┆ 2    ┆ 108          │
│ RLCUSDT   ┆ -0.826392    ┆ 3    ┆ 107          │
│ PHBUSDT   ┆ -0.816265    ┆ 4    ┆ 106          │
│ FETUSDT   ┆ -0.77542     ┆ 5    ┆ 105          │
│ MATICUSDT ┆ -0.752296    ┆ 6    ┆ 104          │
│ CTSIUSDT  ┆ -0.741792    ┆ 7    ┆ 103          │
│ TOMOUSDT  ┆ -0.732612    ┆ 8    ┆ 102          │
│ INJUSDT   ┆ -0.71138     ┆ 9    ┆ 101          │
│ …         ┆ …            ┆ …    ┆ …            │
│ ONEUSDT   ┆ 0.468964     ┆ 101  ┆ 9            │
│ DUSKUSDT  ┆ 0.502308     ┆ 102  ┆ 8            │
│ BLZUSDT   ┆ 0.507367     ┆ 103  ┆ 7            │
│ ASTRUSDT  ┆ 0.529074     ┆ 104  ┆ 6            │
│ ATAUSDT   ┆ 0.554832     ┆ 105  ┆ 5            │
│ IOTXUSDT  ┆ 0.55506      ┆ 106  ┆ 4            │
│ BAKEUSDT  ┆ 0.576382     ┆ 107  ┆ 3            │
│ SKLUSDT   ┆ 0.65475      ┆ 108  ┆ 2            │
│ RVNUSDT   ┆ 0.660262     ┆ 109  ┆ 1            │
│ SPELLUSDT ┆ 0.707692     ┆ 110  ┆ 0            │
└───────────┴──────────────┴──────┴──────────────┘
2024-12-13 00:56:50,918 - WARNING - 2023-05-28T23:59:59.999=====cur_long_scale: 1.2 not match == long_value_ratio: 1.0
2024-12-13 00:56:50,918 - INFO - cur close time: 2023-05-28T23:59:59.999 == long_value_ratio: 1.0 == short_value_ratio: 1.0 --- 1.2
2024-12-13 00:56:50,918 - DEBUG - mean expected ret (mean factor): -0.1549042881020969
2024-12-13 00:56:50,922 - DEBUG - begin to update pos: =========
2024-12-13 00:56:50,922 - DEBUG - next_step_value: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ i64     ┆ i64    ┆ i64     ┆ f64     │
│ i64         ┆ i64         ┆ i64         ┆ i64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0           ┆ 0           ┆ 0           ┆ 0           ┆ … ┆ 0       ┆ 0      ┆ 0       ┆ 5000.0  │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:50,922 - DEBUG - all_open_price_when_open_pos: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ f64     ┆ f64    ┆ f64     ┆ f64     │
│ f64         ┆ f64         ┆ f64         ┆ f64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ null        ┆ null        ┆ 0.0881      ┆ null        ┆ … ┆ 0.02368 ┆ null   ┆ null    ┆ 0.227   │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:50,931 - DEBUG - update position: 2023-05-28T23:59:59.999 === diff_trading_value: 190497.38494928146 == cash: 143477.62278003118 
2024-12-13 00:56:50,931 - INFO - pnl: 2023-05-28T23:59:59.999 143477.62278003118 === -1.757%
2024-12-13 00:56:50,935 - DEBUG - cur time: 2023-05-29T23:59:59.999 == next bar open time: 2023-05-30T00:00:00.000 == close pos time: 2023-06-04T00:00:00.000
2024-12-13 00:56:50,937 - INFO - pnl: 2023-05-29T23:59:59.999 144366.7655026931 === 0.620%
2024-12-13 00:56:50,939 - DEBUG - cur time: 2023-05-30T23:59:59.999 == next bar open time: 2023-05-31T00:00:00.000 == close pos time: 2023-06-05T00:00:00.000
2024-12-13 00:56:50,939 - INFO - pnl: 2023-05-30T23:59:59.999 143298.72074799173 === -0.740%
2024-12-13 00:56:50,943 - DEBUG - cur time: 2023-05-31T23:59:59.999 == next bar open time: 2023-06-01T00:00:00.000 == close pos time: 2023-06-06T00:00:00.000
2024-12-13 00:56:50,943 - INFO - pnl: 2023-05-31T23:59:59.999 144886.31518084015 === 1.108%
2024-12-13 00:56:50,947 - DEBUG - cur time: 2023-06-01T23:59:59.999 == next bar open time: 2023-06-02T00:00:00.000 == close pos time: 2023-06-07T00:00:00.000
2024-12-13 00:56:50,947 - INFO - pnl: 2023-06-01T23:59:59.999 146180.17023120707 === 0.893%
2024-12-13 00:56:50,950 - DEBUG - cur time: 2023-06-02T23:59:59.999 == next bar open time: 2023-06-03T00:00:00.000 == close pos time: 2023-06-08T00:00:00.000
2024-12-13 00:56:50,960 - DEBUG - close time 2023-06-02T23:59:59.999 == vol_threshold: 15174336.120000001
2024-12-13 00:56:50,960 - DEBUG - 2023-06-02T23:59:59.999 == all trade symbol 163 == remain 114 after VOL filter
2024-12-13 00:56:50,960 - DEBUG - sorted_long_factors: shape: (114, 4)
┌─────────────┬──────────────┬──────┬──────────────┐
│ symbol      ┆ factor_value ┆ rank ┆ reverse_rank │
│ ---         ┆ ---          ┆ ---  ┆ ---          │
│ str         ┆ f64          ┆ u32  ┆ u32          │
╞═════════════╪══════════════╪══════╪══════════════╡
│ WAVESUSDT   ┆ -1.093971    ┆ 0    ┆ 113          │
│ INJUSDT     ┆ -1.002521    ┆ 1    ┆ 112          │
│ FILUSDT     ┆ -1.00002     ┆ 2    ┆ 111          │
│ RNDRUSDT    ┆ -0.992426    ┆ 3    ┆ 110          │
│ APTUSDT     ┆ -0.921704    ┆ 4    ┆ 109          │
│ JOEUSDT     ┆ -0.877036    ┆ 5    ┆ 108          │
│ LITUSDT     ┆ -0.8323      ┆ 6    ┆ 107          │
│ ARPAUSDT    ┆ -0.812057    ┆ 7    ┆ 106          │
│ SXPUSDT     ┆ -0.751667    ┆ 8    ┆ 105          │
│ HIGHUSDT    ┆ -0.738829    ┆ 9    ┆ 104          │
│ …           ┆ …            ┆ …    ┆ …            │
│ SFPUSDT     ┆ 0.50917      ┆ 104  ┆ 9            │
│ OGNUSDT     ┆ 0.554376     ┆ 105  ┆ 8            │
│ RVNUSDT     ┆ 0.558751     ┆ 106  ┆ 7            │
│ ONEUSDT     ┆ 0.624071     ┆ 107  ┆ 6            │
│ LRCUSDT     ┆ 0.628513     ┆ 108  ┆ 5            │
│ BAKEUSDT    ┆ 0.683673     ┆ 109  ┆ 4            │
│ 1INCHUSDT   ┆ 0.692102     ┆ 110  ┆ 3            │
│ DARUSDT     ┆ 0.749385     ┆ 111  ┆ 2            │
│ SPELLUSDT   ┆ 0.764977     ┆ 112  ┆ 1            │
│ 1000XECUSDT ┆ 0.83756      ┆ 113  ┆ 0            │
└─────────────┴──────────────┴──────┴──────────────┘
2024-12-13 00:56:50,967 - WARNING - 2023-06-02T23:59:59.999=====cur_long_scale: 0.8 not match == long_value_ratio: 1.0
2024-12-13 00:56:50,967 - INFO - cur close time: 2023-06-02T23:59:59.999 == long_value_ratio: 1.0 == short_value_ratio: 1.0 --- 0.8
2024-12-13 00:56:50,967 - DEBUG - mean expected ret (mean factor): -0.14162261197569
2024-12-13 00:56:50,973 - DEBUG - begin to update pos: =========
2024-12-13 00:56:50,973 - DEBUG - next_step_value: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ i64     ┆ i64    ┆ i64     ┆ i64     │
│ i64         ┆ i64         ┆ i64         ┆ i64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0           ┆ 0           ┆ 0           ┆ 0           ┆ … ┆ 0       ┆ 0      ┆ 0       ┆ 0       │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:50,973 - DEBUG - all_open_price_when_open_pos: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ f64     ┆ f64    ┆ f64     ┆ f64     │
│ f64         ┆ f64         ┆ f64         ┆ f64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ null        ┆ null        ┆ 0.085       ┆ null        ┆ … ┆ 0.02335 ┆ null   ┆ null    ┆ 0.2208  │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:50,980 - DEBUG - update position: 2023-06-02T23:59:59.999 === diff_trading_value: 268821.8651019901 == cash: 145044.52605274713 
2024-12-13 00:56:50,980 - INFO - pnl: 2023-06-02T23:59:59.999 145044.52605274713 === -0.777%
2024-12-13 00:56:50,985 - DEBUG - cur time: 2023-06-03T23:59:59.999 == next bar open time: 2023-06-04T00:00:00.000 == close pos time: 2023-06-09T00:00:00.000
2024-12-13 00:56:50,987 - INFO - pnl: 2023-06-03T23:59:59.999 144889.2814402675 === -0.107%
2024-12-13 00:56:50,989 - DEBUG - cur time: 2023-06-04T23:59:59.999 == next bar open time: 2023-06-05T00:00:00.000 == close pos time: 2023-06-10T00:00:00.000
2024-12-13 00:56:50,991 - INFO - pnl: 2023-06-04T23:59:59.999 145315.7064794527 === 0.294%
2024-12-13 00:56:50,994 - DEBUG - cur time: 2023-06-05T23:59:59.999 == next bar open time: 2023-06-06T00:00:00.000 == close pos time: 2023-06-11T00:00:00.000
2024-12-13 00:56:50,997 - INFO - pnl: 2023-06-05T23:59:59.999 147967.75829439756 === 1.825%
2024-12-13 00:56:50,998 - DEBUG - cur time: 2023-06-06T23:59:59.999 == next bar open time: 2023-06-07T00:00:00.000 == close pos time: 2023-06-12T00:00:00.000
2024-12-13 00:56:50,998 - INFO - pnl: 2023-06-06T23:59:59.999 147127.82542686316 === -0.568%
2024-12-13 00:56:51,002 - DEBUG - cur time: 2023-06-07T23:59:59.999 == next bar open time: 2023-06-08T00:00:00.000 == close pos time: 2023-06-13T00:00:00.000
2024-12-13 00:56:51,010 - DEBUG - close time 2023-06-07T23:59:59.999 == vol_threshold: 22964409.700000007
2024-12-13 00:56:51,014 - DEBUG - 2023-06-07T23:59:59.999 == all trade symbol 163 == remain 114 after VOL filter
2024-12-13 00:56:51,014 - DEBUG - sorted_long_factors: shape: (114, 4)
┌─────────────┬──────────────┬──────┬──────────────┐
│ symbol      ┆ factor_value ┆ rank ┆ reverse_rank │
│ ---         ┆ ---          ┆ ---  ┆ ---          │
│ str         ┆ f64          ┆ u32  ┆ u32          │
╞═════════════╪══════════════╪══════╪══════════════╡
│ MTLUSDT     ┆ -1.279914    ┆ 0    ┆ 113          │
│ STXUSDT     ┆ -1.005126    ┆ 1    ┆ 112          │
│ AGIXUSDT    ┆ -0.959313    ┆ 2    ┆ 111          │
│ PHBUSDT     ┆ -0.918699    ┆ 3    ┆ 110          │
│ KAVAUSDT    ┆ -0.914452    ┆ 4    ┆ 109          │
│ BELUSDT     ┆ -0.880959    ┆ 5    ┆ 108          │
│ TOMOUSDT    ┆ -0.848488    ┆ 6    ┆ 107          │
│ FETUSDT     ┆ -0.82255     ┆ 7    ┆ 106          │
│ ARPAUSDT    ┆ -0.771701    ┆ 8    ┆ 105          │
│ MASKUSDT    ┆ -0.743089    ┆ 9    ┆ 104          │
│ …           ┆ …            ┆ …    ┆ …            │
│ ZRXUSDT     ┆ 0.305272     ┆ 104  ┆ 9            │
│ RVNUSDT     ┆ 0.33021      ┆ 105  ┆ 8            │
│ SPELLUSDT   ┆ 0.357733     ┆ 106  ┆ 7            │
│ OGNUSDT     ┆ 0.358412     ┆ 107  ┆ 6            │
│ SKLUSDT     ┆ 0.459654     ┆ 108  ┆ 5            │
│ LRCUSDT     ┆ 0.52299      ┆ 109  ┆ 4            │
│ ATAUSDT     ┆ 0.566678     ┆ 110  ┆ 3            │
│ 1000XECUSDT ┆ 0.5798       ┆ 111  ┆ 2            │
│ BAKEUSDT    ┆ 0.60916      ┆ 112  ┆ 1            │
│ TLMUSDT     ┆ 0.689875     ┆ 113  ┆ 0            │
└─────────────┴──────────────┴──────┴──────────────┘
2024-12-13 00:56:51,018 - WARNING - 2023-06-07T23:59:59.999=====cur_long_scale: 0.8 not match == long_value_ratio: 1.0
2024-12-13 00:56:51,018 - INFO - cur close time: 2023-06-07T23:59:59.999 == long_value_ratio: 1.0 == short_value_ratio: 1.0 --- 0.8
2024-12-13 00:56:51,018 - DEBUG - mean expected ret (mean factor): -0.18996336227133936
2024-12-13 00:56:51,022 - DEBUG - begin to update pos: =========
2024-12-13 00:56:51,022 - DEBUG - next_step_value: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ i64     ┆ i64    ┆ i64     ┆ f64     │
│ i64         ┆ i64         ┆ i64         ┆ i64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0           ┆ 0           ┆ 0           ┆ 0           ┆ … ┆ 0       ┆ 0      ┆ 0       ┆ 5000.0  │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:51,027 - DEBUG - all_open_price_when_open_pos: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ f64     ┆ f64    ┆ f64     ┆ f64     │
│ f64         ┆ f64         ┆ f64         ┆ f64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ null        ┆ null        ┆ 0.09357     ┆ null        ┆ … ┆ 0.02087 ┆ null   ┆ null    ┆ 0.1986  │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:51,031 - DEBUG - update position: 2023-06-07T23:59:59.999 === diff_trading_value: 262776.63079380186 == cash: 148277.9220687796 
2024-12-13 00:56:51,031 - INFO - pnl: 2023-06-07T23:59:59.999 148277.9220687796 === 0.782%
2024-12-13 00:56:51,037 - DEBUG - cur time: 2023-06-08T23:59:59.999 == next bar open time: 2023-06-09T00:00:00.000 == close pos time: 2023-06-14T00:00:00.000
2024-12-13 00:56:51,037 - INFO - pnl: 2023-06-08T23:59:59.999 148528.04420654624 === 0.169%
2024-12-13 00:56:51,039 - DEBUG - cur time: 2023-06-09T23:59:59.999 == next bar open time: 2023-06-10T00:00:00.000 == close pos time: 2023-06-15T00:00:00.000
2024-12-13 00:56:51,039 - INFO - pnl: 2023-06-09T23:59:59.999 148220.25029520827 === -0.207%
2024-12-13 00:56:51,043 - DEBUG - cur time: 2023-06-10T23:59:59.999 == next bar open time: 2023-06-11T00:00:00.000 == close pos time: 2023-06-16T00:00:00.000
2024-12-13 00:56:51,043 - INFO - pnl: 2023-06-10T23:59:59.999 146885.58788088404 === -0.900%
2024-12-13 00:56:51,047 - DEBUG - cur time: 2023-06-11T23:59:59.999 == next bar open time: 2023-06-12T00:00:00.000 == close pos time: 2023-06-17T00:00:00.000
2024-12-13 00:56:51,047 - INFO - pnl: 2023-06-11T23:59:59.999 146127.2476518071 === -0.516%
2024-12-13 00:56:51,051 - DEBUG - cur time: 2023-06-12T23:59:59.999 == next bar open time: 2023-06-13T00:00:00.000 == close pos time: 2023-06-18T00:00:00.000
2024-12-13 00:56:51,062 - DEBUG - close time 2023-06-12T23:59:59.999 == vol_threshold: 28141763.339999977
2024-12-13 00:56:51,062 - DEBUG - 2023-06-12T23:59:59.999 == all trade symbol 165 == remain 115 after VOL filter
2024-12-13 00:56:51,063 - DEBUG - sorted_long_factors: shape: (115, 4)
┌─────────────┬──────────────┬──────┬──────────────┐
│ symbol      ┆ factor_value ┆ rank ┆ reverse_rank │
│ ---         ┆ ---          ┆ ---  ┆ ---          │
│ str         ┆ f64          ┆ u32  ┆ u32          │
╞═════════════╪══════════════╪══════╪══════════════╡
│ MTLUSDT     ┆ -1.274017    ┆ 0    ┆ 114          │
│ TOMOUSDT    ┆ -1.181112    ┆ 1    ┆ 113          │
│ AMBUSDT     ┆ -0.999917    ┆ 2    ┆ 112          │
│ KAVAUSDT    ┆ -0.871575    ┆ 3    ┆ 111          │
│ HIGHUSDT    ┆ -0.816966    ┆ 4    ┆ 110          │
│ LEVERUSDT   ┆ -0.803732    ┆ 5    ┆ 109          │
│ XRPUSDT     ┆ -0.797264    ┆ 6    ┆ 108          │
│ SXPUSDT     ┆ -0.771315    ┆ 7    ┆ 107          │
│ JOEUSDT     ┆ -0.750265    ┆ 8    ┆ 106          │
│ RNDRUSDT    ┆ -0.74683     ┆ 9    ┆ 105          │
│ …           ┆ …            ┆ …    ┆ …            │
│ SPELLUSDT   ┆ 0.360526     ┆ 105  ┆ 9            │
│ BNXUSDT     ┆ 0.392806     ┆ 106  ┆ 8            │
│ BATUSDT     ┆ 0.402756     ┆ 107  ┆ 7            │
│ FLMUSDT     ┆ 0.422648     ┆ 108  ┆ 6            │
│ RUNEUSDT    ┆ 0.467334     ┆ 109  ┆ 5            │
│ RVNUSDT     ┆ 0.506343     ┆ 110  ┆ 4            │
│ GALUSDT     ┆ 0.561182     ┆ 111  ┆ 3            │
│ 1000XECUSDT ┆ 0.607874     ┆ 112  ┆ 2            │
│ TLMUSDT     ┆ 0.728719     ┆ 113  ┆ 1            │
│ ATAUSDT     ┆ 0.778606     ┆ 114  ┆ 0            │
└─────────────┴──────────────┴──────┴──────────────┘
2024-12-13 00:56:51,067 - WARNING - 2023-06-12T23:59:59.999=====cur_long_scale: 0.8 not match == long_value_ratio: 1.0
2024-12-13 00:56:51,067 - INFO - cur close time: 2023-06-12T23:59:59.999 == long_value_ratio: 1.0 == short_value_ratio: 1.0 --- 0.8
2024-12-13 00:56:51,067 - DEBUG - mean expected ret (mean factor): -0.19065158933208412
2024-12-13 00:56:51,075 - DEBUG - begin to update pos: =========
2024-12-13 00:56:51,075 - DEBUG - next_step_value: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ i64     ┆ i64    ┆ i64     ┆ i64     │
│ i64         ┆ i64         ┆ i64         ┆ i64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0           ┆ 0           ┆ 0           ┆ 0           ┆ … ┆ 0       ┆ 0      ┆ 0       ┆ 0       │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:51,075 - DEBUG - all_open_price_when_open_pos: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ f64     ┆ f64    ┆ f64     ┆ f64     │
│ f64         ┆ f64         ┆ f64         ┆ f64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ null        ┆ null        ┆ 0.08876     ┆ null        ┆ … ┆ 0.01739 ┆ null   ┆ null    ┆ 0.1719  │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:51,083 - DEBUG - update position: 2023-06-12T23:59:59.999 === diff_trading_value: 217936.33318449254 == cash: 143708.0589485559 
2024-12-13 00:56:51,083 - INFO - pnl: 2023-06-12T23:59:59.999 143708.0589485559 === -1.656%
2024-12-13 00:56:51,087 - DEBUG - cur time: 2023-06-13T23:59:59.999 == next bar open time: 2023-06-14T00:00:00.000 == close pos time: 2023-06-19T00:00:00.000
2024-12-13 00:56:51,087 - INFO - pnl: 2023-06-13T23:59:59.999 144519.75940774882 === 0.565%
2024-12-13 00:56:51,091 - DEBUG - cur time: 2023-06-14T23:59:59.999 == next bar open time: 2023-06-15T00:00:00.000 == close pos time: 2023-06-20T00:00:00.000
2024-12-13 00:56:51,093 - INFO - pnl: 2023-06-14T23:59:59.999 145137.05823848193 === 0.427%
2024-12-13 00:56:51,097 - DEBUG - cur time: 2023-06-15T23:59:59.999 == next bar open time: 2023-06-16T00:00:00.000 == close pos time: 2023-06-21T00:00:00.000
2024-12-13 00:56:51,098 - INFO - pnl: 2023-06-15T23:59:59.999 144588.55200856406 === -0.378%
2024-12-13 00:56:51,102 - DEBUG - cur time: 2023-06-16T23:59:59.999 == next bar open time: 2023-06-17T00:00:00.000 == close pos time: 2023-06-22T00:00:00.000
2024-12-13 00:56:51,102 - INFO - pnl: 2023-06-16T23:59:59.999 144376.24424525237 === -0.147%
2024-12-13 00:56:51,107 - DEBUG - cur time: 2023-06-17T23:59:59.999 == next bar open time: 2023-06-18T00:00:00.000 == close pos time: 2023-06-23T00:00:00.000
2024-12-13 00:56:51,115 - DEBUG - close time 2023-06-17T23:59:59.999 == vol_threshold: 17697568.450000003
2024-12-13 00:56:51,117 - DEBUG - 2023-06-17T23:59:59.999 == all trade symbol 166 == remain 116 after VOL filter
2024-12-13 00:56:51,119 - DEBUG - sorted_long_factors: shape: (116, 4)
┌─────────────┬──────────────┬──────┬──────────────┐
│ symbol      ┆ factor_value ┆ rank ┆ reverse_rank │
│ ---         ┆ ---          ┆ ---  ┆ ---          │
│ str         ┆ f64          ┆ u32  ┆ u32          │
╞═════════════╪══════════════╪══════╪══════════════╡
│ MASKUSDT    ┆ -1.154277    ┆ 0    ┆ 115          │
│ STORJUSDT   ┆ -1.075698    ┆ 1    ┆ 114          │
│ KAVAUSDT    ┆ -1.066791    ┆ 2    ┆ 113          │
│ RNDRUSDT    ┆ -1.004894    ┆ 3    ┆ 112          │
│ STXUSDT     ┆ -0.963077    ┆ 4    ┆ 111          │
│ LDOUSDT     ┆ -0.799487    ┆ 5    ┆ 110          │
│ ANTUSDT     ┆ -0.794512    ┆ 6    ┆ 109          │
│ SANDUSDT    ┆ -0.751133    ┆ 7    ┆ 108          │
│ IMXUSDT     ┆ -0.733164    ┆ 8    ┆ 107          │
│ ARBUSDT     ┆ -0.701886    ┆ 9    ┆ 106          │
│ …           ┆ …            ┆ …    ┆ …            │
│ CRVUSDT     ┆ 0.538211     ┆ 106  ┆ 9            │
│ RVNUSDT     ┆ 0.569771     ┆ 107  ┆ 8            │
│ 1000XECUSDT ┆ 0.579052     ┆ 108  ┆ 7            │
│ BANDUSDT    ┆ 0.612127     ┆ 109  ┆ 6            │
│ TLMUSDT     ┆ 0.664594     ┆ 110  ┆ 5            │
│ FLMUSDT     ┆ 0.703425     ┆ 111  ┆ 4            │
│ REEFUSDT    ┆ 0.706437     ┆ 112  ┆ 3            │
│ DGBUSDT     ┆ 0.732836     ┆ 113  ┆ 2            │
│ SPELLUSDT   ┆ 0.743577     ┆ 114  ┆ 1            │
│ ATAUSDT     ┆ 1.19602      ┆ 115  ┆ 0            │
└─────────────┴──────────────┴──────┴──────────────┘
2024-12-13 00:56:51,123 - WARNING - 2023-06-17T23:59:59.999=====cur_long_scale: 1.2 not match == long_value_ratio: 1.0
2024-12-13 00:56:51,123 - INFO - cur close time: 2023-06-17T23:59:59.999 == long_value_ratio: 1.0 == short_value_ratio: 1.0 --- 1.2
2024-12-13 00:56:51,123 - DEBUG - mean expected ret (mean factor): -0.12731894414417302
2024-12-13 00:56:51,128 - DEBUG - begin to update pos: =========
2024-12-13 00:56:51,128 - DEBUG - next_step_value: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ i64     ┆ i64    ┆ i64     ┆ i64     │
│ i64         ┆ i64         ┆ i64         ┆ i64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0           ┆ 0           ┆ 0           ┆ 0           ┆ … ┆ 0       ┆ 0      ┆ 0       ┆ 0       │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:51,131 - DEBUG - all_open_price_when_open_pos: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ f64     ┆ f64    ┆ f64     ┆ f64     │
│ f64         ┆ f64         ┆ f64         ┆ f64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ null        ┆ null        ┆ 0.09093     ┆ null        ┆ … ┆ 0.01762 ┆ null   ┆ null    ┆ 0.1779  │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:51,137 - DEBUG - update position: 2023-06-17T23:59:59.999 === diff_trading_value: 275044.2530826399 == cash: 146006.62715236028 
2024-12-13 00:56:51,137 - INFO - pnl: 2023-06-17T23:59:59.999 146006.62715236028 === 1.129%
2024-12-13 00:56:51,141 - DEBUG - cur time: 2023-06-18T23:59:59.999 == next bar open time: 2023-06-19T00:00:00.000 == close pos time: 2023-06-24T00:00:00.000
2024-12-13 00:56:51,141 - INFO - pnl: 2023-06-18T23:59:59.999 145683.85868390804 === -0.221%
2024-12-13 00:56:51,145 - DEBUG - cur time: 2023-06-19T23:59:59.999 == next bar open time: 2023-06-20T00:00:00.000 == close pos time: 2023-06-25T00:00:00.000
2024-12-13 00:56:51,147 - INFO - pnl: 2023-06-19T23:59:59.999 144217.70548134396 === -1.006%
2024-12-13 00:56:51,149 - DEBUG - cur time: 2023-06-20T23:59:59.999 == next bar open time: 2023-06-21T00:00:00.000 == close pos time: 2023-06-26T00:00:00.000
2024-12-13 00:56:51,149 - INFO - pnl: 2023-06-20T23:59:59.999 141728.67580651978 === -1.726%
2024-12-13 00:56:51,153 - DEBUG - cur time: 2023-06-21T23:59:59.999 == next bar open time: 2023-06-22T00:00:00.000 == close pos time: 2023-06-27T00:00:00.000
2024-12-13 00:56:51,153 - INFO - pnl: 2023-06-21T23:59:59.999 143118.2262181909 === 0.980%
2024-12-13 00:56:51,157 - DEBUG - cur time: 2023-06-22T23:59:59.999 == next bar open time: 2023-06-23T00:00:00.000 == close pos time: 2023-06-28T00:00:00.000
2024-12-13 00:56:51,167 - DEBUG - close time 2023-06-22T23:59:59.999 == vol_threshold: 28292796.85
2024-12-13 00:56:51,167 - DEBUG - 2023-06-22T23:59:59.999 == all trade symbol 166 == remain 116 after VOL filter
2024-12-13 00:56:51,169 - DEBUG - sorted_long_factors: shape: (116, 4)
┌─────────────┬──────────────┬──────┬──────────────┐
│ symbol      ┆ factor_value ┆ rank ┆ reverse_rank │
│ ---         ┆ ---          ┆ ---  ┆ ---          │
│ str         ┆ f64          ┆ u32  ┆ u32          │
╞═════════════╪══════════════╪══════╪══════════════╡
│ CFXUSDT     ┆ -1.049388    ┆ 0    ┆ 115          │
│ FETUSDT     ┆ -1.014686    ┆ 1    ┆ 114          │
│ MASKUSDT    ┆ -0.976081    ┆ 2    ┆ 113          │
│ AGIXUSDT    ┆ -0.932664    ┆ 3    ┆ 112          │
│ RNDRUSDT    ┆ -0.837385    ┆ 4    ┆ 111          │
│ ARBUSDT     ┆ -0.808617    ┆ 5    ┆ 110          │
│ DOTUSDT     ┆ -0.72281     ┆ 6    ┆ 109          │
│ XRPUSDT     ┆ -0.697221    ┆ 7    ┆ 108          │
│ LUNA2USDT   ┆ -0.673049    ┆ 8    ┆ 107          │
│ ADAUSDT     ┆ -0.670379    ┆ 9    ┆ 106          │
│ …           ┆ …            ┆ …    ┆ …            │
│ WOOUSDT     ┆ 0.482218     ┆ 106  ┆ 9            │
│ DARUSDT     ┆ 0.517892     ┆ 107  ┆ 8            │
│ IOTXUSDT    ┆ 0.53914      ┆ 108  ┆ 7            │
│ BAKEUSDT    ┆ 0.566542     ┆ 109  ┆ 6            │
│ SFPUSDT     ┆ 0.592895     ┆ 110  ┆ 5            │
│ ATAUSDT     ┆ 0.6362       ┆ 111  ┆ 4            │
│ SPELLUSDT   ┆ 0.677757     ┆ 112  ┆ 3            │
│ DGBUSDT     ┆ 0.719819     ┆ 113  ┆ 2            │
│ 1000XECUSDT ┆ 0.850058     ┆ 114  ┆ 1            │
│ TLMUSDT     ┆ 1.003742     ┆ 115  ┆ 0            │
└─────────────┴──────────────┴──────┴──────────────┘
2024-12-13 00:56:51,173 - WARNING - 2023-06-22T23:59:59.999=====cur_long_scale: 1.2 not match == long_value_ratio: 1.0
2024-12-13 00:56:51,173 - INFO - cur close time: 2023-06-22T23:59:59.999 == long_value_ratio: 1.0 == short_value_ratio: 1.0 --- 1.2
2024-12-13 00:56:51,173 - DEBUG - mean expected ret (mean factor): -0.14213796927065012
2024-12-13 00:56:51,181 - DEBUG - begin to update pos: =========
2024-12-13 00:56:51,181 - DEBUG - next_step_value: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ i64     ┆ i64    ┆ i64     ┆ f64     │
│ i64         ┆ i64         ┆ i64         ┆ i64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0           ┆ 0           ┆ 0           ┆ 0           ┆ … ┆ 0       ┆ 0      ┆ 0       ┆ 5000.0  │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:51,181 - DEBUG - all_open_price_when_open_pos: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ f64     ┆ f64    ┆ f64     ┆ f64     │
│ f64         ┆ f64         ┆ f64         ┆ f64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ null        ┆ null        ┆ 0.09076     ┆ null        ┆ … ┆ 0.01889 ┆ null   ┆ null    ┆ 0.1915  │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:51,187 - DEBUG - update position: 2023-06-22T23:59:59.999 === diff_trading_value: 250317.45774256048 == cash: 143341.48400762962 
2024-12-13 00:56:51,189 - INFO - pnl: 2023-06-22T23:59:59.999 143341.48400762962 === 0.156%
2024-12-13 00:56:51,192 - DEBUG - cur time: 2023-06-23T23:59:59.999 == next bar open time: 2023-06-24T00:00:00.000 == close pos time: 2023-06-29T00:00:00.000
2024-12-13 00:56:51,194 - INFO - pnl: 2023-06-23T23:59:59.999 146578.5406394321 === 2.258%
2024-12-13 00:56:51,198 - DEBUG - cur time: 2023-06-24T23:59:59.999 == next bar open time: 2023-06-25T00:00:00.000 == close pos time: 2023-06-30T00:00:00.000
2024-12-13 00:56:51,200 - INFO - pnl: 2023-06-24T23:59:59.999 150457.6754830266 === 2.646%
2024-12-13 00:56:51,203 - DEBUG - cur time: 2023-06-25T23:59:59.999 == next bar open time: 2023-06-26T00:00:00.000 == close pos time: 2023-07-01T00:00:00.000
2024-12-13 00:56:51,203 - INFO - pnl: 2023-06-25T23:59:59.999 150118.833934743 === -0.225%
2024-12-13 00:56:51,207 - DEBUG - cur time: 2023-06-26T23:59:59.999 == next bar open time: 2023-06-27T00:00:00.000 == close pos time: 2023-07-02T00:00:00.000
2024-12-13 00:56:51,207 - INFO - pnl: 2023-06-26T23:59:59.999 149995.62863173336 === -0.082%
2024-12-13 00:56:51,211 - DEBUG - cur time: 2023-06-27T23:59:59.999 == next bar open time: 2023-06-28T00:00:00.000 == close pos time: 2023-07-03T00:00:00.000
2024-12-13 00:56:51,219 - DEBUG - close time 2023-06-27T23:59:59.999 == vol_threshold: 19112294.35
2024-12-13 00:56:51,219 - DEBUG - 2023-06-27T23:59:59.999 == all trade symbol 166 == remain 116 after VOL filter
2024-12-13 00:56:51,223 - DEBUG - sorted_long_factors: shape: (116, 4)
┌─────────────┬──────────────┬──────┬──────────────┐
│ symbol      ┆ factor_value ┆ rank ┆ reverse_rank │
│ ---         ┆ ---          ┆ ---  ┆ ---          │
│ str         ┆ f64          ┆ u32  ┆ u32          │
╞═════════════╪══════════════╪══════╪══════════════╡
│ ARBUSDT     ┆ -0.975367    ┆ 0    ┆ 115          │
│ MAGICUSDT   ┆ -0.902204    ┆ 1    ┆ 114          │
│ FILUSDT     ┆ -0.820728    ┆ 2    ┆ 113          │
│ MASKUSDT    ┆ -0.755453    ┆ 3    ┆ 112          │
│ RNDRUSDT    ┆ -0.736375    ┆ 4    ┆ 111          │
│ AGIXUSDT    ┆ -0.652636    ┆ 5    ┆ 110          │
│ XRPUSDT     ┆ -0.635328    ┆ 6    ┆ 109          │
│ DYDXUSDT    ┆ -0.62142     ┆ 7    ┆ 108          │
│ HOOKUSDT    ┆ -0.611889    ┆ 8    ┆ 107          │
│ INJUSDT     ┆ -0.59713     ┆ 9    ┆ 106          │
│ …           ┆ …            ┆ …    ┆ …            │
│ ZILUSDT     ┆ 0.39197      ┆ 106  ┆ 9            │
│ COTIUSDT    ┆ 0.488429     ┆ 107  ┆ 8            │
│ IOTXUSDT    ┆ 0.537427     ┆ 108  ┆ 7            │
│ IOSTUSDT    ┆ 0.550085     ┆ 109  ┆ 6            │
│ ATAUSDT     ┆ 0.588832     ┆ 110  ┆ 5            │
│ DGBUSDT     ┆ 0.632186     ┆ 111  ┆ 4            │
│ CKBUSDT     ┆ 0.657553     ┆ 112  ┆ 3            │
│ 1000XECUSDT ┆ 0.671194     ┆ 113  ┆ 2            │
│ DARUSDT     ┆ 0.843821     ┆ 114  ┆ 1            │
│ TLMUSDT     ┆ 0.937705     ┆ 115  ┆ 0            │
└─────────────┴──────────────┴──────┴──────────────┘
2024-12-13 00:56:51,227 - WARNING - 2023-06-27T23:59:59.999=====cur_long_scale: 1.2 not match == long_value_ratio: 1.0
2024-12-13 00:56:51,227 - INFO - cur close time: 2023-06-27T23:59:59.999 == long_value_ratio: 1.0 == short_value_ratio: 1.0 --- 1.2
2024-12-13 00:56:51,227 - DEBUG - mean expected ret (mean factor): -0.1118752877620692
2024-12-13 00:56:51,231 - DEBUG - begin to update pos: =========
2024-12-13 00:56:51,231 - DEBUG - next_step_value: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ f64     ┆ i64    ┆ i64     ┆ i64     │
│ i64         ┆ i64         ┆ i64         ┆ i64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0           ┆ 0           ┆ 0           ┆ 0           ┆ … ┆ 5000.0  ┆ 0      ┆ 0       ┆ 0       │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:51,235 - DEBUG - all_open_price_when_open_pos: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ f64     ┆ f64    ┆ f64     ┆ f64     │
│ f64         ┆ f64         ┆ f64         ┆ f64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ null        ┆ null        ┆ 0.09142     ┆ null        ┆ … ┆ 0.02054 ┆ null   ┆ null    ┆ 0.2174  │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:51,239 - DEBUG - update position: 2023-06-27T23:59:59.999 === diff_trading_value: 168430.83452638693 == cash: 149171.72616064167 
2024-12-13 00:56:51,239 - INFO - pnl: 2023-06-27T23:59:59.999 149171.72616064167 === -0.549%
2024-12-13 00:56:51,243 - DEBUG - cur time: 2023-06-28T23:59:59.999 == next bar open time: 2023-06-29T00:00:00.000 == close pos time: 2023-07-04T00:00:00.000
2024-12-13 00:56:51,247 - INFO - pnl: 2023-06-28T23:59:59.999 148418.42590751464 === -0.505%
2024-12-13 00:56:51,247 - DEBUG - cur time: 2023-06-29T23:59:59.999 == next bar open time: 2023-06-30T00:00:00.000 == close pos time: 2023-07-05T00:00:00.000
2024-12-13 00:56:51,251 - INFO - pnl: 2023-06-29T23:59:59.999 147231.00159710008 === -0.800%
2024-12-13 00:56:51,251 - DEBUG - cur time: 2023-06-30T23:59:59.999 == next bar open time: 2023-07-01T00:00:00.000 == close pos time: 2023-07-06T00:00:00.000
2024-12-13 00:56:51,255 - INFO - pnl: 2023-06-30T23:59:59.999 152520.6346631962 === 3.593%
2024-12-13 00:56:51,257 - DEBUG - cur time: 2023-07-01T23:59:59.999 == next bar open time: 2023-07-02T00:00:00.000 == close pos time: 2023-07-07T00:00:00.000
2024-12-13 00:56:51,259 - INFO - pnl: 2023-07-01T23:59:59.999 151122.85162797876 === -0.916%
2024-12-13 00:56:51,263 - DEBUG - cur time: 2023-07-02T23:59:59.999 == next bar open time: 2023-07-03T00:00:00.000 == close pos time: 2023-07-08T00:00:00.000
2024-12-13 00:56:51,271 - DEBUG - close time 2023-07-02T23:59:59.999 == vol_threshold: 22275629.479999997
2024-12-13 00:56:51,273 - DEBUG - 2023-07-02T23:59:59.999 == all trade symbol 167 == remain 117 after VOL filter
2024-12-13 00:56:51,275 - DEBUG - sorted_long_factors: shape: (117, 4)
┌───────────┬──────────────┬──────┬──────────────┐
│ symbol    ┆ factor_value ┆ rank ┆ reverse_rank │
│ ---       ┆ ---          ┆ ---  ┆ ---          │
│ str       ┆ f64          ┆ u32  ┆ u32          │
╞═══════════╪══════════════╪══════╪══════════════╡
│ STXUSDT   ┆ -0.910249    ┆ 0    ┆ 116          │
│ HOOKUSDT  ┆ -0.890826    ┆ 1    ┆ 115          │
│ WAVESUSDT ┆ -0.863178    ┆ 2    ┆ 114          │
│ KAVAUSDT  ┆ -0.756461    ┆ 3    ┆ 113          │
│ MASKUSDT  ┆ -0.717131    ┆ 4    ┆ 112          │
│ NEARUSDT  ┆ -0.684011    ┆ 5    ┆ 111          │
│ OMGUSDT   ┆ -0.683164    ┆ 6    ┆ 110          │
│ APEUSDT   ┆ -0.682402    ┆ 7    ┆ 109          │
│ ARBUSDT   ┆ -0.638349    ┆ 8    ┆ 108          │
│ MTLUSDT   ┆ -0.6291      ┆ 9    ┆ 107          │
│ …         ┆ …            ┆ …    ┆ …            │
│ BAKEUSDT  ┆ 0.442471     ┆ 107  ┆ 9            │
│ REEFUSDT  ┆ 0.467881     ┆ 108  ┆ 8            │
│ BLZUSDT   ┆ 0.479208     ┆ 109  ┆ 7            │
│ SKLUSDT   ┆ 0.523236     ┆ 110  ┆ 6            │
│ ATAUSDT   ┆ 0.568499     ┆ 111  ┆ 5            │
│ SPELLUSDT ┆ 0.625714     ┆ 112  ┆ 4            │
│ TLMUSDT   ┆ 0.649729     ┆ 113  ┆ 3            │
│ DGBUSDT   ┆ 0.740353     ┆ 114  ┆ 2            │
│ IOTXUSDT  ┆ 0.91632      ┆ 115  ┆ 1            │
│ DARUSDT   ┆ 0.992624     ┆ 116  ┆ 0            │
└───────────┴──────────────┴──────┴──────────────┘
2024-12-13 00:56:51,279 - WARNING - 2023-07-02T23:59:59.999=====cur_long_scale: 1.2 not match == long_value_ratio: 1.0
2024-12-13 00:56:51,279 - INFO - cur close time: 2023-07-02T23:59:59.999 == long_value_ratio: 1.0 == short_value_ratio: 1.0 --- 1.2
2024-12-13 00:56:51,283 - DEBUG - mean expected ret (mean factor): -0.12971868573529033
2024-12-13 00:56:51,287 - DEBUG - begin to update pos: =========
2024-12-13 00:56:51,287 - DEBUG - next_step_value: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ i64     ┆ i64    ┆ i64     ┆ i64     │
│ i64         ┆ i64         ┆ i64         ┆ i64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0           ┆ 0           ┆ 0           ┆ 0           ┆ … ┆ 0       ┆ 0      ┆ 0       ┆ 0       │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:51,287 - DEBUG - all_open_price_when_open_pos: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ f64     ┆ f64    ┆ f64     ┆ f64     │
│ f64         ┆ f64         ┆ f64         ┆ f64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ null        ┆ null        ┆ 0.08679     ┆ null        ┆ … ┆ 0.02149 ┆ null   ┆ null    ┆ 0.2143  │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:51,295 - DEBUG - update position: 2023-07-02T23:59:59.999 === diff_trading_value: 187956.94319475378 == cash: 150648.8366633797 
2024-12-13 00:56:51,297 - INFO - pnl: 2023-07-02T23:59:59.999 150648.8366633797 === -0.314%
2024-12-13 00:56:51,301 - DEBUG - cur time: 2023-07-03T23:59:59.999 == next bar open time: 2023-07-04T00:00:00.000 == close pos time: 2023-07-09T00:00:00.000
2024-12-13 00:56:51,302 - INFO - pnl: 2023-07-03T23:59:59.999 150264.67288854715 === -0.255%
2024-12-13 00:56:51,303 - DEBUG - cur time: 2023-07-04T23:59:59.999 == next bar open time: 2023-07-05T00:00:00.000 == close pos time: 2023-07-10T00:00:00.000
2024-12-13 00:56:51,303 - INFO - pnl: 2023-07-04T23:59:59.999 151625.55453200775 === 0.906%
2024-12-13 00:56:51,310 - DEBUG - cur time: 2023-07-05T23:59:59.999 == next bar open time: 2023-07-06T00:00:00.000 == close pos time: 2023-07-11T00:00:00.000
2024-12-13 00:56:51,311 - INFO - pnl: 2023-07-05T23:59:59.999 149929.80220618157 === -1.118%
2024-12-13 00:56:51,315 - DEBUG - cur time: 2023-07-06T23:59:59.999 == next bar open time: 2023-07-07T00:00:00.000 == close pos time: 2023-07-12T00:00:00.000
2024-12-13 00:56:51,316 - INFO - pnl: 2023-07-06T23:59:59.999 150592.7128290882 === 0.442%
2024-12-13 00:56:51,319 - DEBUG - cur time: 2023-07-07T23:59:59.999 == next bar open time: 2023-07-08T00:00:00.000 == close pos time: 2023-07-13T00:00:00.000
2024-12-13 00:56:51,329 - DEBUG - close time 2023-07-07T23:59:59.999 == vol_threshold: 18707834.839999992
2024-12-13 00:56:51,329 - DEBUG - 2023-07-07T23:59:59.999 == all trade symbol 170 == remain 119 after VOL filter
2024-12-13 00:56:51,331 - DEBUG - sorted_long_factors: shape: (119, 4)
┌───────────┬──────────────┬──────┬──────────────┐
│ symbol    ┆ factor_value ┆ rank ┆ reverse_rank │
│ ---       ┆ ---          ┆ ---  ┆ ---          │
│ str       ┆ f64          ┆ u32  ┆ u32          │
╞═══════════╪══════════════╪══════╪══════════════╡
│ MTLUSDT   ┆ -1.071491    ┆ 0    ┆ 118          │
│ WAVESUSDT ┆ -0.966465    ┆ 1    ┆ 117          │
│ SXPUSDT   ┆ -0.961786    ┆ 2    ┆ 116          │
│ APTUSDT   ┆ -0.943042    ┆ 3    ┆ 115          │
│ FILUSDT   ┆ -0.941967    ┆ 4    ┆ 114          │
│ SUIUSDT   ┆ -0.859364    ┆ 5    ┆ 113          │
│ STXUSDT   ┆ -0.762077    ┆ 6    ┆ 112          │
│ ZRXUSDT   ┆ -0.725294    ┆ 7    ┆ 111          │
│ CFXUSDT   ┆ -0.725204    ┆ 8    ┆ 110          │
│ HOOKUSDT  ┆ -0.715351    ┆ 9    ┆ 109          │
│ …         ┆ …            ┆ …    ┆ …            │
│ IDEXUSDT  ┆ 0.634577     ┆ 109  ┆ 9            │
│ BAKEUSDT  ┆ 0.6379       ┆ 110  ┆ 8            │
│ SPELLUSDT ┆ 0.643264     ┆ 111  ┆ 7            │
│ REEFUSDT  ┆ 0.653435     ┆ 112  ┆ 6            │
│ RSRUSDT   ┆ 0.656164     ┆ 113  ┆ 5            │
│ IOTXUSDT  ┆ 0.696484     ┆ 114  ┆ 4            │
│ CKBUSDT   ┆ 0.704971     ┆ 115  ┆ 3            │
│ ATAUSDT   ┆ 0.74375      ┆ 116  ┆ 2            │
│ LEVERUSDT ┆ 0.745781     ┆ 117  ┆ 1            │
│ TLMUSDT   ┆ 0.82265      ┆ 118  ┆ 0            │
└───────────┴──────────────┴──────┴──────────────┘
2024-12-13 00:56:51,335 - WARNING - 2023-07-07T23:59:59.999=====cur_long_scale: 0.8 not match == long_value_ratio: 1.0
2024-12-13 00:56:51,335 - INFO - cur close time: 2023-07-07T23:59:59.999 == long_value_ratio: 1.0 == short_value_ratio: 1.0 --- 0.8
2024-12-13 00:56:51,337 - DEBUG - mean expected ret (mean factor): -0.11518875227315432
2024-12-13 00:56:51,341 - DEBUG - begin to update pos: =========
2024-12-13 00:56:51,341 - DEBUG - next_step_value: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬────────────┬───┬─────────┬────────┬─────────┬──────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUS ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT  │
│ T           ┆ DT          ┆ T           ┆ DT         ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---      │
│ ---         ┆ ---         ┆ ---         ┆ ---        ┆   ┆ i64     ┆ i64    ┆ i64     ┆ f64      │
│ i64         ┆ i64         ┆ i64         ┆ i64        ┆   ┆         ┆        ┆         ┆          │
╞═════════════╪═════════════╪═════════════╪════════════╪═══╪═════════╪════════╪═════════╪══════════╡
│ 0           ┆ 0           ┆ 0           ┆ 0          ┆ … ┆ 0       ┆ 0      ┆ 0       ┆ -10000.0 │
└─────────────┴─────────────┴─────────────┴────────────┴───┴─────────┴────────┴─────────┴──────────┘
2024-12-13 00:56:51,341 - DEBUG - all_open_price_when_open_pos: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ f64     ┆ f64    ┆ f64     ┆ f64     │
│ f64         ┆ f64         ┆ f64         ┆ f64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ null        ┆ null        ┆ 0.08145     ┆ 0.0015638   ┆ … ┆ 0.02068 ┆ null   ┆ null    ┆ 0.21    │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:51,347 - DEBUG - update position: 2023-07-07T23:59:59.999 === diff_trading_value: 171923.70725178486 == cash: 150395.29249970865 
2024-12-13 00:56:51,347 - INFO - pnl: 2023-07-07T23:59:59.999 150395.29249970865 === -0.131%
2024-12-13 00:56:51,350 - DEBUG - cur time: 2023-07-08T23:59:59.999 == next bar open time: 2023-07-09T00:00:00.000 == close pos time: 2023-07-14T00:00:00.000
2024-12-13 00:56:51,350 - INFO - pnl: 2023-07-08T23:59:59.999 148951.17842846492 === -0.960%
2024-12-13 00:56:51,356 - DEBUG - cur time: 2023-07-09T23:59:59.999 == next bar open time: 2023-07-10T00:00:00.000 == close pos time: 2023-07-15T00:00:00.000
2024-12-13 00:56:51,357 - INFO - pnl: 2023-07-09T23:59:59.999 149442.3833424664 === 0.330%
2024-12-13 00:56:51,358 - DEBUG - cur time: 2023-07-10T23:59:59.999 == next bar open time: 2023-07-11T00:00:00.000 == close pos time: 2023-07-16T00:00:00.000
2024-12-13 00:56:51,362 - INFO - pnl: 2023-07-10T23:59:59.999 148383.90245548927 === -0.708%
2024-12-13 00:56:51,362 - DEBUG - cur time: 2023-07-11T23:59:59.999 == next bar open time: 2023-07-12T00:00:00.000 == close pos time: 2023-07-17T00:00:00.000
2024-12-13 00:56:51,362 - INFO - pnl: 2023-07-11T23:59:59.999 148435.98101229445 === 0.035%
2024-12-13 00:56:51,367 - DEBUG - cur time: 2023-07-12T23:59:59.999 == next bar open time: 2023-07-13T00:00:00.000 == close pos time: 2023-07-18T00:00:00.000
2024-12-13 00:56:51,377 - DEBUG - close time 2023-07-12T23:59:59.999 == vol_threshold: 19312825.43
2024-12-13 00:56:51,379 - DEBUG - 2023-07-12T23:59:59.999 == all trade symbol 172 == remain 120 after VOL filter
2024-12-13 00:56:51,380 - DEBUG - sorted_long_factors: shape: (120, 4)
┌───────────┬──────────────┬──────┬──────────────┐
│ symbol    ┆ factor_value ┆ rank ┆ reverse_rank │
│ ---       ┆ ---          ┆ ---  ┆ ---          │
│ str       ┆ f64          ┆ u32  ┆ u32          │
╞═══════════╪══════════════╪══════╪══════════════╡
│ STXUSDT   ┆ -0.912839    ┆ 0    ┆ 119          │
│ FILUSDT   ┆ -0.828291    ┆ 1    ┆ 118          │
│ STORJUSDT ┆ -0.752587    ┆ 2    ┆ 117          │
│ APTUSDT   ┆ -0.739253    ┆ 3    ┆ 116          │
│ FLOWUSDT  ┆ -0.721968    ┆ 4    ┆ 115          │
│ SUIUSDT   ┆ -0.690426    ┆ 5    ┆ 114          │
│ CELOUSDT  ┆ -0.671791    ┆ 6    ┆ 113          │
│ BLURUSDT  ┆ -0.664285    ┆ 7    ┆ 112          │
│ LQTYUSDT  ┆ -0.661864    ┆ 8    ┆ 111          │
│ DOTUSDT   ┆ -0.652959    ┆ 9    ┆ 110          │
│ …         ┆ …            ┆ …    ┆ …            │
│ DARUSDT   ┆ 0.578644     ┆ 110  ┆ 9            │
│ REEFUSDT  ┆ 0.604377     ┆ 111  ┆ 8            │
│ JOEUSDT   ┆ 0.625397     ┆ 112  ┆ 7            │
│ APEUSDT   ┆ 0.634814     ┆ 113  ┆ 6            │
│ BAKEUSDT  ┆ 0.812537     ┆ 114  ┆ 5            │
│ IDEXUSDT  ┆ 0.923379     ┆ 115  ┆ 4            │
│ IOTXUSDT  ┆ 0.927741     ┆ 116  ┆ 3            │
│ CHRUSDT   ┆ 1.111724     ┆ 117  ┆ 2            │
│ LEVERUSDT ┆ 1.112322     ┆ 118  ┆ 1            │
│ CKBUSDT   ┆ 1.11442      ┆ 119  ┆ 0            │
└───────────┴──────────────┴──────┴──────────────┘
2024-12-13 00:56:51,383 - INFO - cur close time: 2023-07-12T23:59:59.999 == long_value_ratio: 1.0 == short_value_ratio: 1.0 --- 1.0
2024-12-13 00:56:51,383 - DEBUG - mean expected ret (mean factor): -0.08857076929888526
2024-12-13 00:56:51,387 - DEBUG - begin to update pos: =========
2024-12-13 00:56:51,391 - DEBUG - next_step_value: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ i64     ┆ i64    ┆ i64     ┆ i64     │
│ i64         ┆ i64         ┆ i64         ┆ i64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0           ┆ 0           ┆ 0           ┆ 0           ┆ … ┆ 0       ┆ 0      ┆ 0       ┆ 0       │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:51,391 - DEBUG - all_open_price_when_open_pos: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ f64     ┆ f64    ┆ f64     ┆ f64     │
│ f64         ┆ f64         ┆ f64         ┆ f64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ null        ┆ 0.02475     ┆ 0.08356     ┆ 0.0015056   ┆ … ┆ 0.02089 ┆ null   ┆ null    ┆ 0.2098  │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:51,397 - DEBUG - update position: 2023-07-12T23:59:59.999 === diff_trading_value: 174714.55838541713 == cash: 147750.62860293803 
2024-12-13 00:56:51,397 - INFO - pnl: 2023-07-12T23:59:59.999 147750.62860293803 === -0.462%
2024-12-13 00:56:51,401 - DEBUG - cur time: 2023-07-13T23:59:59.999 == next bar open time: 2023-07-14T00:00:00.000 == close pos time: 2023-07-19T00:00:00.000
2024-12-13 00:56:51,403 - INFO - pnl: 2023-07-13T23:59:59.999 148040.26153353875 === 0.196%
2024-12-13 00:56:51,403 - DEBUG - cur time: 2023-07-14T23:59:59.999 == next bar open time: 2023-07-15T00:00:00.000 == close pos time: 2023-07-20T00:00:00.000
2024-12-13 00:56:51,407 - INFO - pnl: 2023-07-14T23:59:59.999 149193.93244354049 === 0.779%
2024-12-13 00:56:51,411 - DEBUG - cur time: 2023-07-15T23:59:59.999 == next bar open time: 2023-07-16T00:00:00.000 == close pos time: 2023-07-21T00:00:00.000
2024-12-13 00:56:51,411 - INFO - pnl: 2023-07-15T23:59:59.999 150392.3019073636 === 0.803%
2024-12-13 00:56:51,415 - DEBUG - cur time: 2023-07-16T23:59:59.999 == next bar open time: 2023-07-17T00:00:00.000 == close pos time: 2023-07-22T00:00:00.000
2024-12-13 00:56:51,417 - INFO - pnl: 2023-07-16T23:59:59.999 148474.28298739286 === -1.275%
2024-12-13 00:56:51,419 - DEBUG - cur time: 2023-07-17T23:59:59.999 == next bar open time: 2023-07-18T00:00:00.000 == close pos time: 2023-07-23T00:00:00.000
2024-12-13 00:56:51,431 - DEBUG - close time 2023-07-17T23:59:59.999 == vol_threshold: 26519227.43
2024-12-13 00:56:51,431 - DEBUG - 2023-07-17T23:59:59.999 == all trade symbol 174 == remain 122 after VOL filter
2024-12-13 00:56:51,431 - DEBUG - sorted_long_factors: shape: (122, 4)
┌───────────┬──────────────┬──────┬──────────────┐
│ symbol    ┆ factor_value ┆ rank ┆ reverse_rank │
│ ---       ┆ ---          ┆ ---  ┆ ---          │
│ str       ┆ f64          ┆ u32  ┆ u32          │
╞═══════════╪══════════════╪══════╪══════════════╡
│ WAVESUSDT ┆ -1.021726    ┆ 0    ┆ 121          │
│ ARBUSDT   ┆ -0.94358     ┆ 1    ┆ 120          │
│ SUIUSDT   ┆ -0.862436    ┆ 2    ┆ 119          │
│ STXUSDT   ┆ -0.805675    ┆ 3    ┆ 118          │
│ APTUSDT   ┆ -0.790432    ┆ 4    ┆ 117          │
│ BLURUSDT  ┆ -0.773798    ┆ 5    ┆ 116          │
│ MASKUSDT  ┆ -0.678877    ┆ 6    ┆ 115          │
│ 1INCHUSDT ┆ -0.666459    ┆ 7    ┆ 114          │
│ RNDRUSDT  ┆ -0.634271    ┆ 8    ┆ 113          │
│ MAGICUSDT ┆ -0.615784    ┆ 9    ┆ 112          │
│ …         ┆ …            ┆ …    ┆ …            │
│ BAKEUSDT  ┆ 0.639191     ┆ 112  ┆ 9            │
│ ATAUSDT   ┆ 0.642508     ┆ 113  ┆ 8            │
│ ASTRUSDT  ┆ 0.669804     ┆ 114  ┆ 7            │
│ CKBUSDT   ┆ 0.750374     ┆ 115  ┆ 6            │
│ TLMUSDT   ┆ 0.758258     ┆ 116  ┆ 5            │
│ DARUSDT   ┆ 0.783527     ┆ 117  ┆ 4            │
│ REEFUSDT  ┆ 0.815308     ┆ 118  ┆ 3            │
│ LEVERUSDT ┆ 0.869765     ┆ 119  ┆ 2            │
│ OGNUSDT   ┆ 0.881751     ┆ 120  ┆ 1            │
│ IOTXUSDT  ┆ 1.089101     ┆ 121  ┆ 0            │
└───────────┴──────────────┴──────┴──────────────┘
2024-12-13 00:56:51,439 - WARNING - 2023-07-17T23:59:59.999=====cur_long_scale: 1.2 not match == long_value_ratio: 1.0
2024-12-13 00:56:51,439 - INFO - cur close time: 2023-07-17T23:59:59.999 == long_value_ratio: 1.0 == short_value_ratio: 1.0 --- 1.2
2024-12-13 00:56:51,439 - DEBUG - mean expected ret (mean factor): -0.1114795143728076
2024-12-13 00:56:51,443 - DEBUG - begin to update pos: =========
2024-12-13 00:56:51,443 - DEBUG - next_step_value: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ i64     ┆ i64    ┆ i64     ┆ i64     │
│ i64         ┆ i64         ┆ i64         ┆ i64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0           ┆ 0           ┆ 0           ┆ 0           ┆ … ┆ 0       ┆ 0      ┆ 0       ┆ 0       │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:51,443 - DEBUG - all_open_price_when_open_pos: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ f64     ┆ f64    ┆ f64     ┆ f64     │
│ f64         ┆ f64         ┆ f64         ┆ f64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ null        ┆ 0.02449     ┆ 0.0916      ┆ 0.0015748   ┆ … ┆ 0.02236 ┆ null   ┆ null    ┆ 0.2222  │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:51,451 - DEBUG - update position: 2023-07-17T23:59:59.999 === diff_trading_value: 191825.8754099822 == cash: 146760.6540818354 
2024-12-13 00:56:51,451 - INFO - pnl: 2023-07-17T23:59:59.999 146760.6540818354 === -1.154%
2024-12-13 00:56:51,457 - DEBUG - cur time: 2023-07-18T23:59:59.999 == next bar open time: 2023-07-19T00:00:00.000 == close pos time: 2023-07-24T00:00:00.000
2024-12-13 00:56:51,458 - INFO - pnl: 2023-07-18T23:59:59.999 146812.0668748145 === 0.035%
2024-12-13 00:56:51,461 - DEBUG - cur time: 2023-07-19T23:59:59.999 == next bar open time: 2023-07-20T00:00:00.000 == close pos time: 2023-07-25T00:00:00.000
2024-12-13 00:56:51,461 - INFO - pnl: 2023-07-19T23:59:59.999 147208.0267642031 === 0.270%
2024-12-13 00:56:51,465 - DEBUG - cur time: 2023-07-20T23:59:59.999 == next bar open time: 2023-07-21T00:00:00.000 == close pos time: 2023-07-26T00:00:00.000
2024-12-13 00:56:51,467 - INFO - pnl: 2023-07-20T23:59:59.999 148320.19347664874 === 0.756%
2024-12-13 00:56:51,470 - DEBUG - cur time: 2023-07-21T23:59:59.999 == next bar open time: 2023-07-22T00:00:00.000 == close pos time: 2023-07-27T00:00:00.000
2024-12-13 00:56:51,470 - INFO - pnl: 2023-07-21T23:59:59.999 147324.5813563887 === -0.671%
2024-12-13 00:56:51,474 - DEBUG - cur time: 2023-07-22T23:59:59.999 == next bar open time: 2023-07-23T00:00:00.000 == close pos time: 2023-07-28T00:00:00.000
2024-12-13 00:56:51,483 - DEBUG - close time 2023-07-22T23:59:59.999 == vol_threshold: 14350633.989999998
2024-12-13 00:56:51,487 - DEBUG - 2023-07-22T23:59:59.999 == all trade symbol 174 == remain 122 after VOL filter
2024-12-13 00:56:51,487 - DEBUG - sorted_long_factors: shape: (122, 4)
┌───────────┬──────────────┬──────┬──────────────┐
│ symbol    ┆ factor_value ┆ rank ┆ reverse_rank │
│ ---       ┆ ---          ┆ ---  ┆ ---          │
│ str       ┆ f64          ┆ u32  ┆ u32          │
╞═══════════╪══════════════╪══════╪══════════════╡
│ LQTYUSDT  ┆ -1.026844    ┆ 0    ┆ 121          │
│ WAVESUSDT ┆ -0.974764    ┆ 1    ┆ 120          │
│ STXUSDT   ┆ -0.889973    ┆ 2    ┆ 119          │
│ RNDRUSDT  ┆ -0.785663    ┆ 3    ┆ 118          │
│ CFXUSDT   ┆ -0.735957    ┆ 4    ┆ 117          │
│ SNXUSDT   ┆ -0.726283    ┆ 5    ┆ 116          │
│ BLURUSDT  ┆ -0.712928    ┆ 6    ┆ 115          │
│ MATICUSDT ┆ -0.69748     ┆ 7    ┆ 114          │
│ APTUSDT   ┆ -0.666638    ┆ 8    ┆ 113          │
│ MTLUSDT   ┆ -0.632523    ┆ 9    ┆ 112          │
│ …         ┆ …            ┆ …    ┆ …            │
│ HOTUSDT   ┆ 0.748447     ┆ 112  ┆ 9            │
│ REEFUSDT  ┆ 0.753142     ┆ 113  ┆ 8            │
│ OGNUSDT   ┆ 0.778746     ┆ 114  ┆ 7            │
│ ATAUSDT   ┆ 0.799754     ┆ 115  ┆ 6            │
│ CKBUSDT   ┆ 0.835378     ┆ 116  ┆ 5            │
│ IOTXUSDT  ┆ 0.904536     ┆ 117  ┆ 4            │
│ SPELLUSDT ┆ 0.993172     ┆ 118  ┆ 3            │
│ LEVERUSDT ┆ 1.05853      ┆ 119  ┆ 2            │
│ TLMUSDT   ┆ 1.128908     ┆ 120  ┆ 1            │
│ IDEXUSDT  ┆ 1.189717     ┆ 121  ┆ 0            │
└───────────┴──────────────┴──────┴──────────────┘
2024-12-13 00:56:51,495 - WARNING - 2023-07-22T23:59:59.999=====cur_long_scale: 0.8 not match == long_value_ratio: 1.0
2024-12-13 00:56:51,495 - INFO - cur close time: 2023-07-22T23:59:59.999 == long_value_ratio: 1.0 == short_value_ratio: 1.0 --- 0.8
2024-12-13 00:56:51,495 - DEBUG - mean expected ret (mean factor): -0.10959398601356701
2024-12-13 00:56:51,502 - DEBUG - begin to update pos: =========
2024-12-13 00:56:51,502 - DEBUG - next_step_value: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ i64     ┆ i64    ┆ i64     ┆ i64     │
│ i64         ┆ i64         ┆ i64         ┆ i64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0           ┆ 0           ┆ 0           ┆ 0           ┆ … ┆ 0       ┆ 0      ┆ 0       ┆ 0       │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:51,503 - DEBUG - all_open_price_when_open_pos: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ f64     ┆ f64    ┆ f64     ┆ f64     │
│ f64         ┆ f64         ┆ f64         ┆ f64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ null        ┆ 0.02377     ┆ 0.08723     ┆ 0.0014901   ┆ … ┆ 0.02148 ┆ null   ┆ null    ┆ 0.2083  │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:51,511 - DEBUG - update position: 2023-07-22T23:59:59.999 === diff_trading_value: 151610.2775255168 == cash: 146024.3941698023 
2024-12-13 00:56:51,514 - INFO - pnl: 2023-07-22T23:59:59.999 146024.3941698023 === -0.883%
2024-12-13 00:56:51,517 - DEBUG - cur time: 2023-07-23T23:59:59.999 == next bar open time: 2023-07-24T00:00:00.000 == close pos time: 2023-07-29T00:00:00.000
2024-12-13 00:56:51,520 - INFO - pnl: 2023-07-23T23:59:59.999 151128.78982763976 === 3.496%
2024-12-13 00:56:51,524 - DEBUG - cur time: 2023-07-24T23:59:59.999 == next bar open time: 2023-07-25T00:00:00.000 == close pos time: 2023-07-30T00:00:00.000
2024-12-13 00:56:51,527 - INFO - pnl: 2023-07-24T23:59:59.999 149373.51068842507 === -1.161%
2024-12-13 00:56:51,532 - DEBUG - cur time: 2023-07-25T23:59:59.999 == next bar open time: 2023-07-26T00:00:00.000 == close pos time: 2023-07-31T00:00:00.000
2024-12-13 00:56:51,532 - INFO - pnl: 2023-07-25T23:59:59.999 148694.6309766314 === -0.454%
2024-12-13 00:56:51,537 - DEBUG - cur time: 2023-07-26T23:59:59.999 == next bar open time: 2023-07-27T00:00:00.000 == close pos time: 2023-08-01T00:00:00.000
2024-12-13 00:56:51,541 - INFO - pnl: 2023-07-26T23:59:59.999 150030.4374667828 === 0.898%
2024-12-13 00:56:51,541 - DEBUG - cur time: 2023-07-27T23:59:59.999 == next bar open time: 2023-07-28T00:00:00.000 == close pos time: 2023-08-02T00:00:00.000
2024-12-13 00:56:51,553 - DEBUG - close time 2023-07-27T23:59:59.999 == vol_threshold: 16341441.699999997
2024-12-13 00:56:51,553 - DEBUG - 2023-07-27T23:59:59.999 == all trade symbol 175 == remain 122 after VOL filter
2024-12-13 00:56:51,557 - DEBUG - sorted_long_factors: shape: (122, 4)
┌───────────┬──────────────┬──────┬──────────────┐
│ symbol    ┆ factor_value ┆ rank ┆ reverse_rank │
│ ---       ┆ ---          ┆ ---  ┆ ---          │
│ str       ┆ f64          ┆ u32  ┆ u32          │
╞═══════════╪══════════════╪══════╪══════════════╡
│ WAVESUSDT ┆ -1.031951    ┆ 0    ┆ 121          │
│ 1INCHUSDT ┆ -0.943309    ┆ 1    ┆ 120          │
│ SUIUSDT   ┆ -0.862228    ┆ 2    ┆ 119          │
│ GMTUSDT   ┆ -0.842401    ┆ 3    ┆ 118          │
│ ARBUSDT   ┆ -0.838674    ┆ 4    ┆ 117          │
│ LQTYUSDT  ┆ -0.78651     ┆ 5    ┆ 116          │
│ XRPUSDT   ┆ -0.760909    ┆ 6    ┆ 115          │
│ SNXUSDT   ┆ -0.723805    ┆ 7    ┆ 114          │
│ CELOUSDT  ┆ -0.695895    ┆ 8    ┆ 113          │
│ DYDXUSDT  ┆ -0.64771     ┆ 9    ┆ 112          │
│ …         ┆ …            ┆ …    ┆ …            │
│ COTIUSDT  ┆ 0.577272     ┆ 112  ┆ 9            │
│ REEFUSDT  ┆ 0.67057      ┆ 113  ┆ 8            │
│ LEVERUSDT ┆ 0.672206     ┆ 114  ┆ 7            │
│ TLMUSDT   ┆ 0.732523     ┆ 115  ┆ 6            │
│ SKLUSDT   ┆ 0.7507       ┆ 116  ┆ 5            │
│ SPELLUSDT ┆ 0.807224     ┆ 117  ┆ 4            │
│ RVNUSDT   ┆ 0.826901     ┆ 118  ┆ 3            │
│ CHRUSDT   ┆ 0.883286     ┆ 119  ┆ 2            │
│ GTCUSDT   ┆ 1.027729     ┆ 120  ┆ 1            │
│ HFTUSDT   ┆ 1.077861     ┆ 121  ┆ 0            │
└───────────┴──────────────┴──────┴──────────────┘
2024-12-13 00:56:51,565 - INFO - cur close time: 2023-07-27T23:59:59.999 == long_value_ratio: 1.0 == short_value_ratio: 1.0 --- 1.0
2024-12-13 00:56:51,565 - DEBUG - mean expected ret (mean factor): -0.11056268539058063
2024-12-13 00:56:51,569 - DEBUG - begin to update pos: =========
2024-12-13 00:56:51,569 - DEBUG - next_step_value: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ i64     ┆ i64    ┆ i64     ┆ i64     │
│ i64         ┆ i64         ┆ i64         ┆ i64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0           ┆ 0           ┆ 0           ┆ 0           ┆ … ┆ 0       ┆ 0      ┆ 0       ┆ 0       │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:51,569 - DEBUG - all_open_price_when_open_pos: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ f64     ┆ f64    ┆ f64     ┆ f64     │
│ f64         ┆ f64         ┆ f64         ┆ f64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ null        ┆ 0.02231     ┆ 0.08058     ┆ 0.0013428   ┆ … ┆ 0.02073 ┆ null   ┆ null    ┆ 0.2081  │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:51,578 - DEBUG - update position: 2023-07-27T23:59:59.999 === diff_trading_value: 190833.94531771453 == cash: 149991.38656806626 
2024-12-13 00:56:51,578 - INFO - pnl: 2023-07-27T23:59:59.999 149991.38656806626 === -0.026%
2024-12-13 00:56:51,582 - DEBUG - cur time: 2023-07-28T23:59:59.999 == next bar open time: 2023-07-29T00:00:00.000 == close pos time: 2023-08-03T00:00:00.000
2024-12-13 00:56:51,586 - INFO - pnl: 2023-07-28T23:59:59.999 150096.87019032298 === 0.070%
2024-12-13 00:56:51,590 - DEBUG - cur time: 2023-07-29T23:59:59.999 == next bar open time: 2023-07-30T00:00:00.000 == close pos time: 2023-08-04T00:00:00.000
2024-12-13 00:56:51,590 - INFO - pnl: 2023-07-29T23:59:59.999 149730.67883702533 === -0.244%
2024-12-13 00:56:51,597 - DEBUG - cur time: 2023-07-30T23:59:59.999 == next bar open time: 2023-07-31T00:00:00.000 == close pos time: 2023-08-05T00:00:00.000
2024-12-13 00:56:51,598 - INFO - pnl: 2023-07-30T23:59:59.999 149271.27547989134 === -0.307%
2024-12-13 00:56:51,602 - DEBUG - cur time: 2023-07-31T23:59:59.999 == next bar open time: 2023-08-01T00:00:00.000 == close pos time: 2023-08-06T00:00:00.000
2024-12-13 00:56:51,607 - INFO - pnl: 2023-07-31T23:59:59.999 148950.30359513045 === -0.215%
2024-12-13 00:56:51,613 - DEBUG - cur time: 2023-08-01T23:59:59.999 == next bar open time: 2023-08-02T00:00:00.000 == close pos time: 2023-08-07T00:00:00.000
2024-12-13 00:56:51,628 - DEBUG - close time 2023-08-01T23:59:59.999 == vol_threshold: 22562456.599999998
2024-12-13 00:56:51,628 - DEBUG - 2023-08-01T23:59:59.999 == all trade symbol 175 == remain 122 after VOL filter
2024-12-13 00:56:51,632 - DEBUG - sorted_long_factors: shape: (122, 4)
┌───────────┬──────────────┬──────┬──────────────┐
│ symbol    ┆ factor_value ┆ rank ┆ reverse_rank │
│ ---       ┆ ---          ┆ ---  ┆ ---          │
│ str       ┆ f64          ┆ u32  ┆ u32          │
╞═══════════╪══════════════╪══════╪══════════════╡
│ WAVESUSDT ┆ -1.04987     ┆ 0    ┆ 121          │
│ UNIUSDT   ┆ -0.937373    ┆ 1    ┆ 120          │
│ OPUSDT    ┆ -0.877264    ┆ 2    ┆ 119          │
│ LUNA2USDT ┆ -0.793283    ┆ 3    ┆ 118          │
│ SUIUSDT   ┆ -0.79274     ┆ 4    ┆ 117          │
│ IDUSDT    ┆ -0.765352    ┆ 5    ┆ 116          │
│ HIGHUSDT  ┆ -0.724021    ┆ 6    ┆ 115          │
│ OGNUSDT   ┆ -0.696995    ┆ 7    ┆ 114          │
│ 1INCHUSDT ┆ -0.691644    ┆ 8    ┆ 113          │
│ AGIXUSDT  ┆ -0.652582    ┆ 9    ┆ 112          │
│ …         ┆ …            ┆ …    ┆ …            │
│ ATAUSDT   ┆ 0.620123     ┆ 112  ┆ 9            │
│ SKLUSDT   ┆ 0.622077     ┆ 113  ┆ 8            │
│ RVNUSDT   ┆ 0.652222     ┆ 114  ┆ 7            │
│ CKBUSDT   ┆ 0.670858     ┆ 115  ┆ 6            │
│ LEVERUSDT ┆ 0.797607     ┆ 116  ┆ 5            │
│ BLZUSDT   ┆ 0.823775     ┆ 117  ┆ 4            │
│ CHRUSDT   ┆ 0.901273     ┆ 118  ┆ 3            │
│ IOTXUSDT  ┆ 1.015878     ┆ 119  ┆ 2            │
│ CRVUSDT   ┆ 1.161136     ┆ 120  ┆ 1            │
│ CVXUSDT   ┆ 1.2388       ┆ 121  ┆ 0            │
└───────────┴──────────────┴──────┴──────────────┘
2024-12-13 00:56:51,641 - WARNING - 2023-08-01T23:59:59.999=====cur_long_scale: 1.2 not match == long_value_ratio: 1.0
2024-12-13 00:56:51,641 - INFO - cur close time: 2023-08-01T23:59:59.999 == long_value_ratio: 1.0 == short_value_ratio: 1.0 --- 1.2
2024-12-13 00:56:51,641 - DEBUG - mean expected ret (mean factor): -0.10687817719695877
2024-12-13 00:56:51,647 - DEBUG - begin to update pos: =========
2024-12-13 00:56:51,647 - DEBUG - next_step_value: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ i64     ┆ i64    ┆ i64     ┆ i64     │
│ i64         ┆ f64         ┆ i64         ┆ i64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0           ┆ 5000.0      ┆ 0           ┆ 0           ┆ … ┆ 0       ┆ 0      ┆ 0       ┆ 0       │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:51,647 - DEBUG - all_open_price_when_open_pos: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ f64     ┆ f64    ┆ f64     ┆ f64     │
│ f64         ┆ f64         ┆ f64         ┆ f64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ null        ┆ 0.02278     ┆ 0.08132     ┆ 0.0013021   ┆ … ┆ 0.02105 ┆ null   ┆ null    ┆ 0.2214  │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:51,653 - DEBUG - update position: 2023-08-01T23:59:59.999 === diff_trading_value: 221779.68997445932 == cash: 151279.2071857164 
2024-12-13 00:56:51,653 - INFO - pnl: 2023-08-01T23:59:59.999 151279.2071857164 === 1.564%
2024-12-13 00:56:51,657 - DEBUG - cur time: 2023-08-02T23:59:59.999 == next bar open time: 2023-08-03T00:00:00.000 == close pos time: 2023-08-08T00:00:00.000
2024-12-13 00:56:51,661 - INFO - pnl: 2023-08-02T23:59:59.999 151107.3448676793 === -0.114%
2024-12-13 00:56:51,665 - DEBUG - cur time: 2023-08-03T23:59:59.999 == next bar open time: 2023-08-04T00:00:00.000 == close pos time: 2023-08-09T00:00:00.000
2024-12-13 00:56:51,667 - INFO - pnl: 2023-08-03T23:59:59.999 151751.81276415606 === 0.426%
2024-12-13 00:56:51,669 - DEBUG - cur time: 2023-08-04T23:59:59.999 == next bar open time: 2023-08-05T00:00:00.000 == close pos time: 2023-08-10T00:00:00.000
2024-12-13 00:56:51,669 - INFO - pnl: 2023-08-04T23:59:59.999 152651.7172426697 === 0.593%
2024-12-13 00:56:51,675 - DEBUG - cur time: 2023-08-05T23:59:59.999 == next bar open time: 2023-08-06T00:00:00.000 == close pos time: 2023-08-11T00:00:00.000
2024-12-13 00:56:51,677 - INFO - pnl: 2023-08-05T23:59:59.999 152439.09076183627 === -0.139%
2024-12-13 00:56:51,679 - DEBUG - cur time: 2023-08-06T23:59:59.999 == next bar open time: 2023-08-07T00:00:00.000 == close pos time: 2023-08-12T00:00:00.000
2024-12-13 00:56:51,691 - DEBUG - close time 2023-08-06T23:59:59.999 == vol_threshold: 15689249.05
2024-12-13 00:56:51,691 - DEBUG - 2023-08-06T23:59:59.999 == all trade symbol 176 == remain 123 after VOL filter
2024-12-13 00:56:51,695 - DEBUG - sorted_long_factors: shape: (123, 4)
┌───────────┬──────────────┬──────┬──────────────┐
│ symbol    ┆ factor_value ┆ rank ┆ reverse_rank │
│ ---       ┆ ---          ┆ ---  ┆ ---          │
│ str       ┆ f64          ┆ u32  ┆ u32          │
╞═══════════╪══════════════╪══════╪══════════════╡
│ OGNUSDT   ┆ -0.753619    ┆ 0    ┆ 122          │
│ ASTRUSDT  ┆ -0.703824    ┆ 1    ┆ 121          │
│ IMXUSDT   ┆ -0.695529    ┆ 2    ┆ 120          │
│ LQTYUSDT  ┆ -0.65457     ┆ 3    ┆ 119          │
│ HIGHUSDT  ┆ -0.640647    ┆ 4    ┆ 118          │
│ XLMUSDT   ┆ -0.634551    ┆ 5    ┆ 117          │
│ WAVESUSDT ┆ -0.623925    ┆ 6    ┆ 116          │
│ MAGICUSDT ┆ -0.611038    ┆ 7    ┆ 115          │
│ DYDXUSDT  ┆ -0.596916    ┆ 8    ┆ 114          │
│ OPUSDT    ┆ -0.596123    ┆ 9    ┆ 113          │
│ …         ┆ …            ┆ …    ┆ …            │
│ SKLUSDT   ┆ 0.410924     ┆ 113  ┆ 9            │
│ ATAUSDT   ┆ 0.429633     ┆ 114  ┆ 8            │
│ RVNUSDT   ┆ 0.466458     ┆ 115  ┆ 7            │
│ API3USDT  ┆ 0.485539     ┆ 116  ┆ 6            │
│ WOOUSDT   ┆ 0.505038     ┆ 117  ┆ 5            │
│ AMBUSDT   ┆ 0.529539     ┆ 118  ┆ 4            │
│ TRUUSDT   ┆ 0.722306     ┆ 119  ┆ 3            │
│ IOTXUSDT  ┆ 0.950453     ┆ 120  ┆ 2            │
│ LEVERUSDT ┆ 1.118434     ┆ 121  ┆ 1            │
│ BLZUSDT   ┆ 1.389732     ┆ 122  ┆ 0            │
└───────────┴──────────────┴──────┴──────────────┘
2024-12-13 00:56:51,699 - INFO - cur close time: 2023-08-06T23:59:59.999 == long_value_ratio: 1.0 == short_value_ratio: 1.0 --- 1.0
2024-12-13 00:56:51,699 - DEBUG - mean expected ret (mean factor): -0.09494832433089243
2024-12-13 00:56:51,707 - DEBUG - begin to update pos: =========
2024-12-13 00:56:51,708 - DEBUG - next_step_value: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ i64     ┆ i64    ┆ i64     ┆ i64     │
│ i64         ┆ i64         ┆ i64         ┆ i64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0           ┆ 0           ┆ 0           ┆ 0           ┆ … ┆ 0       ┆ 0      ┆ 0       ┆ 0       │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:51,708 - DEBUG - all_open_price_when_open_pos: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ f64     ┆ f64    ┆ f64     ┆ f64     │
│ f64         ┆ f64         ┆ f64         ┆ f64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ null        ┆ 0.02269     ┆ 0.07887     ┆ 0.0011567   ┆ … ┆ 0.02017 ┆ null   ┆ null    ┆ 0.2191  │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:51,716 - DEBUG - update position: 2023-08-06T23:59:59.999 === diff_trading_value: 220059.64379763464 == cash: 153347.01465971887 
2024-12-13 00:56:51,718 - INFO - pnl: 2023-08-06T23:59:59.999 153347.01465971887 === 0.596%
2024-12-13 00:56:51,727 - DEBUG - cur time: 2023-08-07T23:59:59.999 == next bar open time: 2023-08-08T00:00:00.000 == close pos time: 2023-08-13T00:00:00.000
2024-12-13 00:56:51,727 - INFO - pnl: 2023-08-07T23:59:59.999 151296.86586694847 === -1.337%
2024-12-13 00:56:51,731 - DEBUG - cur time: 2023-08-08T23:59:59.999 == next bar open time: 2023-08-09T00:00:00.000 == close pos time: 2023-08-14T00:00:00.000
2024-12-13 00:56:51,734 - INFO - pnl: 2023-08-08T23:59:59.999 154717.64305527715 === 2.261%
2024-12-13 00:56:51,737 - DEBUG - cur time: 2023-08-09T23:59:59.999 == next bar open time: 2023-08-10T00:00:00.000 == close pos time: 2023-08-15T00:00:00.000
2024-12-13 00:56:51,737 - INFO - pnl: 2023-08-09T23:59:59.999 155135.47274671576 === 0.270%
2024-12-13 00:56:51,741 - DEBUG - cur time: 2023-08-10T23:59:59.999 == next bar open time: 2023-08-11T00:00:00.000 == close pos time: 2023-08-16T00:00:00.000
2024-12-13 00:56:51,743 - INFO - pnl: 2023-08-10T23:59:59.999 153845.55732405244 === -0.831%
2024-12-13 00:56:51,747 - DEBUG - cur time: 2023-08-11T23:59:59.999 == next bar open time: 2023-08-12T00:00:00.000 == close pos time: 2023-08-17T00:00:00.000
2024-12-13 00:56:51,761 - DEBUG - close time 2023-08-11T23:59:59.999 == vol_threshold: 13385717.45
2024-12-13 00:56:51,763 - DEBUG - 2023-08-11T23:59:59.999 == all trade symbol 176 == remain 123 after VOL filter
2024-12-13 00:56:51,767 - DEBUG - sorted_long_factors: shape: (123, 4)
┌───────────┬──────────────┬──────┬──────────────┐
│ symbol    ┆ factor_value ┆ rank ┆ reverse_rank │
│ ---       ┆ ---          ┆ ---  ┆ ---          │
│ str       ┆ f64          ┆ u32  ┆ u32          │
╞═══════════╪══════════════╪══════╪══════════════╡
│ KNCUSDT   ┆ -0.902732    ┆ 0    ┆ 122          │
│ CFXUSDT   ┆ -0.859601    ┆ 1    ┆ 121          │
│ APEUSDT   ┆ -0.858632    ┆ 2    ┆ 120          │
│ GTCUSDT   ┆ -0.819905    ┆ 3    ┆ 119          │
│ MTLUSDT   ┆ -0.778464    ┆ 4    ┆ 118          │
│ CELOUSDT  ┆ -0.761873    ┆ 5    ┆ 117          │
│ OPUSDT    ┆ -0.705163    ┆ 6    ┆ 116          │
│ HIGHUSDT  ┆ -0.655015    ┆ 7    ┆ 115          │
│ FTMUSDT   ┆ -0.631674    ┆ 8    ┆ 114          │
│ STXUSDT   ┆ -0.588159    ┆ 9    ┆ 113          │
│ …         ┆ …            ┆ …    ┆ …            │
│ DUSKUSDT  ┆ 0.453131     ┆ 113  ┆ 9            │
│ SPELLUSDT ┆ 0.472407     ┆ 114  ┆ 8            │
│ KEYUSDT   ┆ 0.496369     ┆ 115  ┆ 7            │
│ RVNUSDT   ┆ 0.584139     ┆ 116  ┆ 6            │
│ CTKUSDT   ┆ 0.587245     ┆ 117  ┆ 5            │
│ DGBUSDT   ┆ 0.5983       ┆ 118  ┆ 4            │
│ CELRUSDT  ┆ 0.617553     ┆ 119  ┆ 3            │
│ AMBUSDT   ┆ 0.664464     ┆ 120  ┆ 2            │
│ BLZUSDT   ┆ 0.905192     ┆ 121  ┆ 1            │
│ IOTXUSDT  ┆ 0.973566     ┆ 122  ┆ 0            │
└───────────┴──────────────┴──────┴──────────────┘
2024-12-13 00:56:51,777 - INFO - cur close time: 2023-08-11T23:59:59.999 == long_value_ratio: 1.0 == short_value_ratio: 1.0 --- 1.0
2024-12-13 00:56:51,781 - DEBUG - mean expected ret (mean factor): -0.12287966221438006
2024-12-13 00:56:51,827 - DEBUG - begin to update pos: =========
2024-12-13 00:56:51,827 - DEBUG - next_step_value: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ i64     ┆ i64    ┆ i64     ┆ i64     │
│ i64         ┆ i64         ┆ i64         ┆ i64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0           ┆ 0           ┆ 0           ┆ 0           ┆ … ┆ 0       ┆ 0      ┆ 0       ┆ 0       │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:51,827 - DEBUG - all_open_price_when_open_pos: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ f64     ┆ f64    ┆ f64     ┆ f64     │
│ f64         ┆ f64         ┆ f64         ┆ f64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ null        ┆ 0.02281     ┆ 0.07779     ┆ 0.0012458   ┆ … ┆ 0.02002 ┆ null   ┆ null    ┆ 0.2134  │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:51,837 - DEBUG - update position: 2023-08-11T23:59:59.999 === diff_trading_value: 253469.74714366795 == cash: 154584.3362576021 
2024-12-13 00:56:51,837 - INFO - pnl: 2023-08-11T23:59:59.999 154584.3362576021 === 0.480%
2024-12-13 00:56:51,839 - DEBUG - cur time: 2023-08-12T23:59:59.999 == next bar open time: 2023-08-13T00:00:00.000 == close pos time: 2023-08-18T00:00:00.000
2024-12-13 00:56:51,839 - INFO - pnl: 2023-08-12T23:59:59.999 154383.64618501236 === -0.130%
2024-12-13 00:56:51,843 - DEBUG - cur time: 2023-08-13T23:59:59.999 == next bar open time: 2023-08-14T00:00:00.000 == close pos time: 2023-08-19T00:00:00.000
2024-12-13 00:56:51,843 - INFO - pnl: 2023-08-13T23:59:59.999 159431.28697842275 === 3.270%
2024-12-13 00:56:51,847 - DEBUG - cur time: 2023-08-14T23:59:59.999 == next bar open time: 2023-08-15T00:00:00.000 == close pos time: 2023-08-20T00:00:00.000
2024-12-13 00:56:51,851 - INFO - pnl: 2023-08-14T23:59:59.999 159460.12906173195 === 0.018%
2024-12-13 00:56:51,851 - DEBUG - cur time: 2023-08-15T23:59:59.999 == next bar open time: 2023-08-16T00:00:00.000 == close pos time: 2023-08-21T00:00:00.000
2024-12-13 00:56:51,855 - INFO - pnl: 2023-08-15T23:59:59.999 159406.8616501066 === -0.033%
2024-12-13 00:56:51,857 - DEBUG - cur time: 2023-08-16T23:59:59.999 == next bar open time: 2023-08-17T00:00:00.000 == close pos time: 2023-08-22T00:00:00.000
2024-12-13 00:56:51,867 - DEBUG - close time 2023-08-16T23:59:59.999 == vol_threshold: 33293232.35
2024-12-13 00:56:51,867 - DEBUG - 2023-08-16T23:59:59.999 == all trade symbol 176 == remain 123 after VOL filter
2024-12-13 00:56:51,867 - DEBUG - sorted_long_factors: shape: (123, 4)
┌──────────┬──────────────┬──────┬──────────────┐
│ symbol   ┆ factor_value ┆ rank ┆ reverse_rank │
│ ---      ┆ ---          ┆ ---  ┆ ---          │
│ str      ┆ f64          ┆ u32  ┆ u32          │
╞══════════╪══════════════╪══════╪══════════════╡
│ RUNEUSDT ┆ -0.959885    ┆ 0    ┆ 122          │
│ OPUSDT   ┆ -0.792847    ┆ 1    ┆ 121          │
│ STXUSDT  ┆ -0.768062    ┆ 2    ┆ 120          │
│ UNFIUSDT ┆ -0.766993    ┆ 3    ┆ 119          │
│ BAKEUSDT ┆ -0.76084     ┆ 4    ┆ 118          │
│ C98USDT  ┆ -0.755119    ┆ 5    ┆ 117          │
│ APEUSDT  ┆ -0.71995     ┆ 6    ┆ 116          │
│ CRVUSDT  ┆ -0.712167    ┆ 7    ┆ 115          │
│ API3USDT ┆ -0.665345    ┆ 8    ┆ 114          │
│ IDUSDT   ┆ -0.663824    ┆ 9    ┆ 113          │
│ …        ┆ …            ┆ …    ┆ …            │
│ FLMUSDT  ┆ 0.345734     ┆ 113  ┆ 9            │
│ IOTAUSDT ┆ 0.37577      ┆ 114  ┆ 8            │
│ KEYUSDT  ┆ 0.389974     ┆ 115  ┆ 7            │
│ NKNUSDT  ┆ 0.391084     ┆ 116  ┆ 6            │
│ CHRUSDT  ┆ 0.483245     ┆ 117  ┆ 5            │
│ ICXUSDT  ┆ 0.510575     ┆ 118  ┆ 4            │
│ IDEXUSDT ┆ 0.64935      ┆ 119  ┆ 3            │
│ IOTXUSDT ┆ 0.666811     ┆ 120  ┆ 2            │
│ SKLUSDT  ┆ 0.668319     ┆ 121  ┆ 1            │
│ JOEUSDT  ┆ 0.695808     ┆ 122  ┆ 0            │
└──────────┴──────────────┴──────┴──────────────┘
2024-12-13 00:56:51,874 - WARNING - 2023-08-16T23:59:59.999=====cur_long_scale: 0.8 not match == long_value_ratio: 1.0
2024-12-13 00:56:51,874 - INFO - cur close time: 2023-08-16T23:59:59.999 == long_value_ratio: 1.0 == short_value_ratio: 1.0 --- 0.8
2024-12-13 00:56:51,874 - DEBUG - mean expected ret (mean factor): -0.14433617308604152
2024-12-13 00:56:51,878 - DEBUG - begin to update pos: =========
2024-12-13 00:56:51,878 - DEBUG - next_step_value: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ i64     ┆ i64    ┆ i64     ┆ i64     │
│ i64         ┆ i64         ┆ i64         ┆ i64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0           ┆ 0           ┆ 0           ┆ 0           ┆ … ┆ 0       ┆ 0      ┆ 0       ┆ 0       │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:51,878 - DEBUG - all_open_price_when_open_pos: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ f64     ┆ f64    ┆ f64     ┆ f64     │
│ f64         ┆ f64         ┆ f64         ┆ f64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ null        ┆ 0.02126     ┆ 0.06588     ┆ 0.0011653   ┆ … ┆ 0.01786 ┆ null   ┆ null    ┆ 0.192   │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:51,887 - DEBUG - update position: 2023-08-16T23:59:59.999 === diff_trading_value: 243248.91517190463 == cash: 162072.00152836012 
2024-12-13 00:56:51,887 - INFO - pnl: 2023-08-16T23:59:59.999 162072.00152836012 === 1.672%
2024-12-13 00:56:51,891 - DEBUG - cur time: 2023-08-17T23:59:59.999 == next bar open time: 2023-08-18T00:00:00.000 == close pos time: 2023-08-23T00:00:00.000
2024-12-13 00:56:51,891 - INFO - pnl: 2023-08-17T23:59:59.999 161280.124073616 === -0.489%
2024-12-13 00:56:51,897 - DEBUG - cur time: 2023-08-18T23:59:59.999 == next bar open time: 2023-08-19T00:00:00.000 == close pos time: 2023-08-24T00:00:00.000
2024-12-13 00:56:51,899 - INFO - pnl: 2023-08-18T23:59:59.999 159537.57969423494 === -1.080%
2024-12-13 00:56:51,903 - DEBUG - cur time: 2023-08-19T23:59:59.999 == next bar open time: 2023-08-20T00:00:00.000 == close pos time: 2023-08-25T00:00:00.000
2024-12-13 00:56:51,903 - INFO - pnl: 2023-08-19T23:59:59.999 159778.41929758212 === 0.151%
2024-12-13 00:56:51,907 - DEBUG - cur time: 2023-08-20T23:59:59.999 == next bar open time: 2023-08-21T00:00:00.000 == close pos time: 2023-08-26T00:00:00.000
2024-12-13 00:56:51,907 - INFO - pnl: 2023-08-20T23:59:59.999 160543.944123176 === 0.479%
2024-12-13 00:56:51,911 - DEBUG - cur time: 2023-08-21T23:59:59.999 == next bar open time: 2023-08-22T00:00:00.000 == close pos time: 2023-08-27T00:00:00.000
2024-12-13 00:56:51,923 - DEBUG - close time 2023-08-21T23:59:59.999 == vol_threshold: 18520196.0
2024-12-13 00:56:51,923 - DEBUG - 2023-08-21T23:59:59.999 == all trade symbol 176 == remain 123 after VOL filter
2024-12-13 00:56:51,927 - DEBUG - sorted_long_factors: shape: (123, 4)
┌───────────┬──────────────┬──────┬──────────────┐
│ symbol    ┆ factor_value ┆ rank ┆ reverse_rank │
│ ---       ┆ ---          ┆ ---  ┆ ---          │
│ str       ┆ f64          ┆ u32  ┆ u32          │
╞═══════════╪══════════════╪══════╪══════════════╡
│ LPTUSDT   ┆ -1.145977    ┆ 0    ┆ 122          │
│ API3USDT  ┆ -1.108414    ┆ 1    ┆ 121          │
│ LITUSDT   ┆ -1.098594    ┆ 2    ┆ 120          │
│ KNCUSDT   ┆ -1.007909    ┆ 3    ┆ 119          │
│ LEVERUSDT ┆ -0.932736    ┆ 4    ┆ 118          │
│ UNFIUSDT  ┆ -0.899035    ┆ 5    ┆ 117          │
│ GTCUSDT   ┆ -0.863964    ┆ 6    ┆ 116          │
│ C98USDT   ┆ -0.817317    ┆ 7    ┆ 115          │
│ SUSHIUSDT ┆ -0.760528    ┆ 8    ┆ 114          │
│ BAKEUSDT  ┆ -0.727996    ┆ 9    ┆ 113          │
│ …         ┆ …            ┆ …    ┆ …            │
│ EDUUSDT   ┆ 0.374207     ┆ 113  ┆ 9            │
│ IOTXUSDT  ┆ 0.376605     ┆ 114  ┆ 8            │
│ TUSDT     ┆ 0.382167     ┆ 115  ┆ 7            │
│ DGBUSDT   ┆ 0.466027     ┆ 116  ┆ 6            │
│ RVNUSDT   ┆ 0.474462     ┆ 117  ┆ 5            │
│ CKBUSDT   ┆ 0.633103     ┆ 118  ┆ 4            │
│ SKLUSDT   ┆ 0.674296     ┆ 119  ┆ 3            │
│ SPELLUSDT ┆ 0.696294     ┆ 120  ┆ 2            │
│ BNXUSDT   ┆ 0.700371     ┆ 121  ┆ 1            │
│ IDEXUSDT  ┆ 1.247388     ┆ 122  ┆ 0            │
└───────────┴──────────────┴──────┴──────────────┘
2024-12-13 00:56:51,931 - WARNING - 2023-08-21T23:59:59.999=====cur_long_scale: 0.8 not match == long_value_ratio: 1.0
2024-12-13 00:56:51,931 - INFO - cur close time: 2023-08-21T23:59:59.999 == long_value_ratio: 1.0 == short_value_ratio: 1.0 --- 0.8
2024-12-13 00:56:51,931 - DEBUG - mean expected ret (mean factor): -0.13827438558517033
2024-12-13 00:56:51,937 - DEBUG - begin to update pos: =========
2024-12-13 00:56:51,937 - DEBUG - next_step_value: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ i64     ┆ i64    ┆ i64     ┆ i64     │
│ i64         ┆ i64         ┆ i64         ┆ i64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0           ┆ 0           ┆ 0           ┆ 0           ┆ … ┆ 0       ┆ 0      ┆ 0       ┆ 0       │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:51,939 - DEBUG - all_open_price_when_open_pos: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ f64     ┆ f64    ┆ f64     ┆ f64     │
│ f64         ┆ f64         ┆ f64         ┆ f64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ null        ┆ 0.01838     ┆ 0.06528     ┆ 0.0010857   ┆ … ┆ 0.01662 ┆ null   ┆ null    ┆ 0.174   │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:51,945 - DEBUG - update position: 2023-08-21T23:59:59.999 === diff_trading_value: 231733.5214453853 == cash: 159136.00008702194 
2024-12-13 00:56:51,945 - INFO - pnl: 2023-08-21T23:59:59.999 159136.00008702194 === -0.877%
2024-12-13 00:56:51,950 - DEBUG - cur time: 2023-08-22T23:59:59.999 == next bar open time: 2023-08-23T00:00:00.000 == close pos time: 2023-08-28T00:00:00.000
2024-12-13 00:56:51,951 - INFO - pnl: 2023-08-22T23:59:59.999 157758.20267778795 === -0.866%
2024-12-13 00:56:51,952 - DEBUG - cur time: 2023-08-23T23:59:59.999 == next bar open time: 2023-08-24T00:00:00.000 == close pos time: 2023-08-29T00:00:00.000
2024-12-13 00:56:51,952 - INFO - pnl: 2023-08-23T23:59:59.999 157322.00217422427 === -0.276%
2024-12-13 00:56:51,960 - DEBUG - cur time: 2023-08-24T23:59:59.999 == next bar open time: 2023-08-25T00:00:00.000 == close pos time: 2023-08-30T00:00:00.000
2024-12-13 00:56:51,960 - INFO - pnl: 2023-08-24T23:59:59.999 154568.22971471946 === -1.750%
2024-12-13 00:56:51,964 - DEBUG - cur time: 2023-08-25T23:59:59.999 == next bar open time: 2023-08-26T00:00:00.000 == close pos time: 2023-08-31T00:00:00.000
2024-12-13 00:56:51,964 - INFO - pnl: 2023-08-25T23:59:59.999 156970.50751721152 === 1.554%
2024-12-13 00:56:51,968 - DEBUG - cur time: 2023-08-26T23:59:59.999 == next bar open time: 2023-08-27T00:00:00.000 == close pos time: 2023-09-01T00:00:00.000
2024-12-13 00:56:51,979 - DEBUG - close time 2023-08-26T23:59:59.999 == vol_threshold: 8945914.56
2024-12-13 00:56:51,979 - DEBUG - 2023-08-26T23:59:59.999 == all trade symbol 177 == remain 124 after VOL filter
2024-12-13 00:56:51,983 - DEBUG - sorted_long_factors: shape: (124, 4)
┌───────────┬──────────────┬──────┬──────────────┐
│ symbol    ┆ factor_value ┆ rank ┆ reverse_rank │
│ ---       ┆ ---          ┆ ---  ┆ ---          │
│ str       ┆ f64          ┆ u32  ┆ u32          │
╞═══════════╪══════════════╪══════╪══════════════╡
│ LPTUSDT   ┆ -0.849583    ┆ 0    ┆ 123          │
│ RNDRUSDT  ┆ -0.808401    ┆ 1    ┆ 122          │
│ SUSHIUSDT ┆ -0.783869    ┆ 2    ┆ 121          │
│ APEUSDT   ┆ -0.755842    ┆ 3    ┆ 120          │
│ SUIUSDT   ┆ -0.755073    ┆ 4    ┆ 119          │
│ CFXUSDT   ┆ -0.662884    ┆ 5    ┆ 118          │
│ ARBUSDT   ┆ -0.644205    ┆ 6    ┆ 117          │
│ API3USDT  ┆ -0.624724    ┆ 7    ┆ 116          │
│ UNFIUSDT  ┆ -0.573308    ┆ 8    ┆ 115          │
│ KNCUSDT   ┆ -0.549463    ┆ 9    ┆ 114          │
│ …         ┆ …            ┆ …    ┆ …            │
│ TUSDT     ┆ 0.684343     ┆ 114  ┆ 9            │
│ JOEUSDT   ┆ 0.739386     ┆ 115  ┆ 8            │
│ DGBUSDT   ┆ 0.739599     ┆ 116  ┆ 7            │
│ HOTUSDT   ┆ 0.765255     ┆ 117  ┆ 6            │
│ SPELLUSDT ┆ 0.856394     ┆ 118  ┆ 5            │
│ KEYUSDT   ┆ 1.069835     ┆ 119  ┆ 4            │
│ CTKUSDT   ┆ 1.090288     ┆ 120  ┆ 3            │
│ CKBUSDT   ┆ 1.233048     ┆ 121  ┆ 2            │
│ TOMOUSDT  ┆ 1.236473     ┆ 122  ┆ 1            │
│ IDEXUSDT  ┆ 1.286744     ┆ 123  ┆ 0            │
└───────────┴──────────────┴──────┴──────────────┘
2024-12-13 00:56:51,987 - INFO - cur close time: 2023-08-26T23:59:59.999 == long_value_ratio: 1.0 == short_value_ratio: 1.0 --- 1.0
2024-12-13 00:56:51,987 - DEBUG - mean expected ret (mean factor): -0.05662501487142991
2024-12-13 00:56:51,991 - DEBUG - begin to update pos: =========
2024-12-13 00:56:51,991 - DEBUG - next_step_value: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ i64     ┆ i64    ┆ i64     ┆ i64     │
│ i64         ┆ i64         ┆ i64         ┆ i64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0           ┆ 0           ┆ 0           ┆ 0           ┆ … ┆ 0       ┆ 0      ┆ 0       ┆ 0       │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:51,991 - DEBUG - all_open_price_when_open_pos: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ f64     ┆ f64    ┆ f64     ┆ f64     │
│ f64         ┆ f64         ┆ f64         ┆ f64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ null        ┆ 0.01759     ┆ 0.0625      ┆ 0.0008668   ┆ … ┆ 0.01664 ┆ null   ┆ null    ┆ 0.1712  │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:51,999 - DEBUG - update position: 2023-08-26T23:59:59.999 === diff_trading_value: 195031.44232257653 == cash: 155986.433325136 
2024-12-13 00:56:51,999 - INFO - pnl: 2023-08-26T23:59:59.999 155986.433325136 === -0.627%
2024-12-13 00:56:52,003 - DEBUG - cur time: 2023-08-27T23:59:59.999 == next bar open time: 2023-08-28T00:00:00.000 == close pos time: 2023-09-02T00:00:00.000
2024-12-13 00:56:52,003 - INFO - pnl: 2023-08-27T23:59:59.999 155855.83577914332 === -0.084%
2024-12-13 00:56:52,008 - DEBUG - cur time: 2023-08-28T23:59:59.999 == next bar open time: 2023-08-29T00:00:00.000 == close pos time: 2023-09-03T00:00:00.000
2024-12-13 00:56:52,008 - INFO - pnl: 2023-08-28T23:59:59.999 154825.19053820657 === -0.661%
2024-12-13 00:56:52,012 - DEBUG - cur time: 2023-08-29T23:59:59.999 == next bar open time: 2023-08-30T00:00:00.000 == close pos time: 2023-09-04T00:00:00.000
2024-12-13 00:56:52,012 - INFO - pnl: 2023-08-29T23:59:59.999 156712.48941717905 === 1.219%
2024-12-13 00:56:52,018 - DEBUG - cur time: 2023-08-30T23:59:59.999 == next bar open time: 2023-08-31T00:00:00.000 == close pos time: 2023-09-05T00:00:00.000
2024-12-13 00:56:52,019 - INFO - pnl: 2023-08-30T23:59:59.999 152179.10319526235 === -2.893%
2024-12-13 00:56:52,019 - DEBUG - cur time: 2023-08-31T23:59:59.999 == next bar open time: 2023-09-01T00:00:00.000 == close pos time: 2023-09-06T00:00:00.000
2024-12-13 00:56:52,033 - DEBUG - close time 2023-08-31T23:59:59.999 == vol_threshold: 24890227.839999996
2024-12-13 00:56:52,033 - DEBUG - 2023-08-31T23:59:59.999 == all trade symbol 177 == remain 124 after VOL filter
2024-12-13 00:56:52,033 - DEBUG - sorted_long_factors: shape: (124, 4)
┌───────────┬──────────────┬──────┬──────────────┐
│ symbol    ┆ factor_value ┆ rank ┆ reverse_rank │
│ ---       ┆ ---          ┆ ---  ┆ ---          │
│ str       ┆ f64          ┆ u32  ┆ u32          │
╞═══════════╪══════════════╪══════╪══════════════╡
│ STXUSDT   ┆ -0.947589    ┆ 0    ┆ 123          │
│ AGIXUSDT  ┆ -0.860772    ┆ 1    ┆ 122          │
│ EOSUSDT   ┆ -0.857277    ┆ 2    ┆ 121          │
│ JOEUSDT   ┆ -0.842514    ┆ 3    ┆ 120          │
│ DYDXUSDT  ┆ -0.835536    ┆ 4    ┆ 119          │
│ UNFIUSDT  ┆ -0.827335    ┆ 5    ┆ 118          │
│ FETUSDT   ┆ -0.815977    ┆ 6    ┆ 117          │
│ BAKEUSDT  ┆ -0.768846    ┆ 7    ┆ 116          │
│ PHBUSDT   ┆ -0.718803    ┆ 8    ┆ 115          │
│ IDEXUSDT  ┆ -0.653451    ┆ 9    ┆ 114          │
│ …         ┆ …            ┆ …    ┆ …            │
│ KLAYUSDT  ┆ 0.531914     ┆ 114  ┆ 9            │
│ HOTUSDT   ┆ 0.572047     ┆ 115  ┆ 8            │
│ KEYUSDT   ┆ 0.616212     ┆ 116  ┆ 7            │
│ IOTXUSDT  ┆ 0.647472     ┆ 117  ┆ 6            │
│ DGBUSDT   ┆ 0.656668     ┆ 118  ┆ 5            │
│ ICXUSDT   ┆ 0.731983     ┆ 119  ┆ 4            │
│ MAGICUSDT ┆ 0.777318     ┆ 120  ┆ 3            │
│ SPELLUSDT ┆ 0.897078     ┆ 121  ┆ 2            │
│ CKBUSDT   ┆ 1.224742     ┆ 122  ┆ 1            │
│ TUSDT     ┆ 1.229909     ┆ 123  ┆ 0            │
└───────────┴──────────────┴──────┴──────────────┘
2024-12-13 00:56:52,041 - INFO - cur close time: 2023-08-31T23:59:59.999 == long_value_ratio: 1.0 == short_value_ratio: 1.0 --- 1.0
2024-12-13 00:56:52,041 - DEBUG - mean expected ret (mean factor): -0.08052252155764192
2024-12-13 00:56:52,047 - DEBUG - begin to update pos: =========
2024-12-13 00:56:52,047 - DEBUG - next_step_value: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ i64     ┆ i64    ┆ i64     ┆ i64     │
│ i64         ┆ i64         ┆ i64         ┆ i64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0           ┆ 0           ┆ 0           ┆ 0           ┆ … ┆ 0       ┆ 0      ┆ 0       ┆ 0       │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:52,047 - DEBUG - all_open_price_when_open_pos: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ f64     ┆ f64    ┆ f64     ┆ f64     │
│ f64         ┆ f64         ┆ f64         ┆ f64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ null        ┆ 0.01742     ┆ 0.06186     ┆ 0.0008033   ┆ … ┆ 0.01615 ┆ null   ┆ null    ┆ 0.165   │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:52,051 - DEBUG - update position: 2023-08-31T23:59:59.999 === diff_trading_value: 279488.806249648 == cash: 152852.0914482579 
2024-12-13 00:56:52,055 - INFO - pnl: 2023-08-31T23:59:59.999 152852.0914482579 === 0.442%
2024-12-13 00:56:52,059 - DEBUG - cur time: 2023-09-01T23:59:59.999 == next bar open time: 2023-09-02T00:00:00.000 == close pos time: 2023-09-07T00:00:00.000
2024-12-13 00:56:52,059 - INFO - pnl: 2023-09-01T23:59:59.999 153673.3758583854 === 0.537%
2024-12-13 00:56:52,064 - DEBUG - cur time: 2023-09-02T23:59:59.999 == next bar open time: 2023-09-03T00:00:00.000 == close pos time: 2023-09-08T00:00:00.000
2024-12-13 00:56:52,064 - INFO - pnl: 2023-09-02T23:59:59.999 155760.32892031423 === 1.358%
2024-12-13 00:56:52,067 - DEBUG - cur time: 2023-09-03T23:59:59.999 == next bar open time: 2023-09-04T00:00:00.000 == close pos time: 2023-09-09T00:00:00.000
2024-12-13 00:56:52,067 - INFO - pnl: 2023-09-03T23:59:59.999 152109.165780108 === -2.344%
2024-12-13 00:56:52,071 - DEBUG - cur time: 2023-09-04T23:59:59.999 == next bar open time: 2023-09-05T00:00:00.000 == close pos time: 2023-09-10T00:00:00.000
2024-12-13 00:56:52,071 - INFO - pnl: 2023-09-04T23:59:59.999 153048.9514475417 === 0.618%
2024-12-13 00:56:52,075 - DEBUG - cur time: 2023-09-05T23:59:59.999 == next bar open time: 2023-09-06T00:00:00.000 == close pos time: 2023-09-11T00:00:00.000
2024-12-13 00:56:52,087 - DEBUG - close time 2023-09-05T23:59:59.999 == vol_threshold: 17640744.0
2024-12-13 00:56:52,087 - DEBUG - 2023-09-05T23:59:59.999 == all trade symbol 179 == remain 125 after VOL filter
2024-12-13 00:56:52,088 - DEBUG - sorted_long_factors: shape: (125, 4)
┌───────────┬──────────────┬──────┬──────────────┐
│ symbol    ┆ factor_value ┆ rank ┆ reverse_rank │
│ ---       ┆ ---          ┆ ---  ┆ ---          │
│ str       ┆ f64          ┆ u32  ┆ u32          │
╞═══════════╪══════════════╪══════╪══════════════╡
│ DYDXUSDT  ┆ -0.961559    ┆ 0    ┆ 124          │
│ EOSUSDT   ┆ -0.890017    ┆ 1    ┆ 123          │
│ SUIUSDT   ┆ -0.881613    ┆ 2    ┆ 122          │
│ MATICUSDT ┆ -0.739545    ┆ 3    ┆ 121          │
│ PERPUSDT  ┆ -0.731312    ┆ 4    ┆ 120          │
│ STXUSDT   ┆ -0.714326    ┆ 5    ┆ 119          │
│ BLZUSDT   ┆ -0.710242    ┆ 6    ┆ 118          │
│ OPUSDT    ┆ -0.70265     ┆ 7    ┆ 117          │
│ ARBUSDT   ┆ -0.661158    ┆ 8    ┆ 116          │
│ GTCUSDT   ┆ -0.627843    ┆ 9    ┆ 115          │
│ …         ┆ …            ┆ …    ┆ …            │
│ RVNUSDT   ┆ 0.631791     ┆ 115  ┆ 9            │
│ CELRUSDT  ┆ 0.633574     ┆ 116  ┆ 8            │
│ ALPHAUSDT ┆ 0.661375     ┆ 117  ┆ 7            │
│ RENUSDT   ┆ 0.687001     ┆ 118  ┆ 6            │
│ TUSDT     ┆ 0.727012     ┆ 119  ┆ 5            │
│ DENTUSDT  ┆ 0.751463     ┆ 120  ┆ 4            │
│ DGBUSDT   ┆ 0.922375     ┆ 121  ┆ 3            │
│ SPELLUSDT ┆ 0.968105     ┆ 122  ┆ 2            │
│ IOTXUSDT  ┆ 1.049259     ┆ 123  ┆ 1            │
│ CKBUSDT   ┆ 1.389491     ┆ 124  ┆ 0            │
└───────────┴──────────────┴──────┴──────────────┘
2024-12-13 00:56:52,096 - WARNING - 2023-09-05T23:59:59.999=====cur_long_scale: 1.2 not match == long_value_ratio: 1.0
2024-12-13 00:56:52,096 - INFO - cur close time: 2023-09-05T23:59:59.999 == long_value_ratio: 1.0 == short_value_ratio: 1.0 --- 1.2
2024-12-13 00:56:52,096 - DEBUG - mean expected ret (mean factor): -0.04495365125922531
2024-12-13 00:56:52,100 - DEBUG - begin to update pos: =========
2024-12-13 00:56:52,100 - DEBUG - next_step_value: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ i64     ┆ i64    ┆ i64     ┆ f64     │
│ i64         ┆ i64         ┆ i64         ┆ i64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0           ┆ 0           ┆ 0           ┆ 0           ┆ … ┆ 0       ┆ 0      ┆ 0       ┆ 5000.0  │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:52,100 - DEBUG - all_open_price_when_open_pos: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ f64     ┆ f64    ┆ f64     ┆ f64     │
│ f64         ┆ f64         ┆ f64         ┆ f64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ null        ┆ 0.017       ┆ 0.06047     ┆ 0.0008029   ┆ … ┆ 0.01645 ┆ null   ┆ null    ┆ 0.1774  │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:52,107 - DEBUG - update position: 2023-09-05T23:59:59.999 === diff_trading_value: 247465.36572686178 == cash: 152978.54573398788 
2024-12-13 00:56:52,109 - INFO - pnl: 2023-09-05T23:59:59.999 152978.54573398788 === -0.046%
2024-12-13 00:56:52,113 - DEBUG - cur time: 2023-09-06T23:59:59.999 == next bar open time: 2023-09-07T00:00:00.000 == close pos time: 2023-09-12T00:00:00.000
2024-12-13 00:56:52,113 - INFO - pnl: 2023-09-06T23:59:59.999 154084.62757414574 === 0.723%
2024-12-13 00:56:52,120 - DEBUG - cur time: 2023-09-07T23:59:59.999 == next bar open time: 2023-09-08T00:00:00.000 == close pos time: 2023-09-13T00:00:00.000
2024-12-13 00:56:52,120 - INFO - pnl: 2023-09-07T23:59:59.999 151223.41989027985 === -1.857%
2024-12-13 00:56:52,127 - DEBUG - cur time: 2023-09-08T23:59:59.999 == next bar open time: 2023-09-09T00:00:00.000 == close pos time: 2023-09-14T00:00:00.000
2024-12-13 00:56:52,128 - INFO - pnl: 2023-09-08T23:59:59.999 153785.80888708765 === 1.694%
2024-12-13 00:56:52,132 - DEBUG - cur time: 2023-09-09T23:59:59.999 == next bar open time: 2023-09-10T00:00:00.000 == close pos time: 2023-09-15T00:00:00.000
2024-12-13 00:56:52,137 - INFO - pnl: 2023-09-09T23:59:59.999 158022.98653211573 === 2.755%
2024-12-13 00:56:52,141 - DEBUG - cur time: 2023-09-10T23:59:59.999 == next bar open time: 2023-09-11T00:00:00.000 == close pos time: 2023-09-16T00:00:00.000
2024-12-13 00:56:52,153 - DEBUG - close time 2023-09-10T23:59:59.999 == vol_threshold: 21863181.369999997
2024-12-13 00:56:52,153 - DEBUG - 2023-09-10T23:59:59.999 == all trade symbol 180 == remain 126 after VOL filter
2024-12-13 00:56:52,157 - DEBUG - sorted_long_factors: shape: (126, 4)
┌──────────────┬──────────────┬──────┬──────────────┐
│ symbol       ┆ factor_value ┆ rank ┆ reverse_rank │
│ ---          ┆ ---          ┆ ---  ┆ ---          │
│ str          ┆ f64          ┆ u32  ┆ u32          │
╞══════════════╪══════════════╪══════╪══════════════╡
│ WAVESUSDT    ┆ -0.905632    ┆ 0    ┆ 125          │
│ DYDXUSDT     ┆ -0.901817    ┆ 1    ┆ 124          │
│ JOEUSDT      ┆ -0.869883    ┆ 2    ┆ 123          │
│ TRBUSDT      ┆ -0.835416    ┆ 3    ┆ 122          │
│ SUIUSDT      ┆ -0.822903    ┆ 4    ┆ 121          │
│ IDUSDT       ┆ -0.74639     ┆ 5    ┆ 120          │
│ GTCUSDT      ┆ -0.711674    ┆ 6    ┆ 119          │
│ 1000PEPEUSDT ┆ -0.647783    ┆ 7    ┆ 118          │
│ XLMUSDT      ┆ -0.626814    ┆ 8    ┆ 117          │
│ MTLUSDT      ┆ -0.607112    ┆ 9    ┆ 116          │
│ …            ┆ …            ┆ …    ┆ …            │
│ RSRUSDT      ┆ 0.404056     ┆ 116  ┆ 9            │
│ ENJUSDT      ┆ 0.413381     ┆ 117  ┆ 8            │
│ BATUSDT      ┆ 0.468188     ┆ 118  ┆ 7            │
│ BELUSDT      ┆ 0.48509      ┆ 119  ┆ 6            │
│ RENUSDT      ┆ 0.591183     ┆ 120  ┆ 5            │
│ ICXUSDT      ┆ 0.808894     ┆ 121  ┆ 4            │
│ RVNUSDT      ┆ 0.90778      ┆ 122  ┆ 3            │
│ SPELLUSDT    ┆ 1.005572     ┆ 123  ┆ 2            │
│ CKBUSDT      ┆ 1.057781     ┆ 124  ┆ 1            │
│ DGBUSDT      ┆ 1.127667     ┆ 125  ┆ 0            │
└──────────────┴──────────────┴──────┴──────────────┘
2024-12-13 00:56:52,165 - WARNING - 2023-09-10T23:59:59.999=====cur_long_scale: 0.8 not match == long_value_ratio: 1.0
2024-12-13 00:56:52,165 - INFO - cur close time: 2023-09-10T23:59:59.999 == long_value_ratio: 1.0 == short_value_ratio: 1.0 --- 0.8
2024-12-13 00:56:52,165 - DEBUG - mean expected ret (mean factor): -0.09621571531253029
2024-12-13 00:56:52,169 - DEBUG - begin to update pos: =========
2024-12-13 00:56:52,169 - DEBUG - next_step_value: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ i64     ┆ i64    ┆ i64     ┆ i64     │
│ i64         ┆ i64         ┆ i64         ┆ f64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0           ┆ 0           ┆ 0           ┆ -10000.0    ┆ … ┆ 0       ┆ 0      ┆ 0       ┆ 0       │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:52,169 - DEBUG - all_open_price_when_open_pos: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ f64     ┆ f64    ┆ f64     ┆ f64     │
│ f64         ┆ f64         ┆ f64         ┆ f64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ null        ┆ 0.01674     ┆ 0.05935     ┆ 0.0007069   ┆ … ┆ 0.01576 ┆ null   ┆ null    ┆ 0.1672  │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:52,177 - DEBUG - update position: 2023-09-10T23:59:59.999 === diff_trading_value: 241174.46771700698 == cash: 158641.5537894335 
2024-12-13 00:56:52,177 - INFO - pnl: 2023-09-10T23:59:59.999 158641.5537894335 === 0.391%
2024-12-13 00:56:52,181 - DEBUG - cur time: 2023-09-11T23:59:59.999 == next bar open time: 2023-09-12T00:00:00.000 == close pos time: 2023-09-17T00:00:00.000
2024-12-13 00:56:52,185 - INFO - pnl: 2023-09-11T23:59:59.999 158857.49548278164 === 0.136%
2024-12-13 00:56:52,187 - DEBUG - cur time: 2023-09-12T23:59:59.999 == next bar open time: 2023-09-13T00:00:00.000 == close pos time: 2023-09-18T00:00:00.000
2024-12-13 00:56:52,189 - INFO - pnl: 2023-09-12T23:59:59.999 158035.1786601229 === -0.518%
2024-12-13 00:56:52,193 - DEBUG - cur time: 2023-09-13T23:59:59.999 == next bar open time: 2023-09-14T00:00:00.000 == close pos time: 2023-09-19T00:00:00.000
2024-12-13 00:56:52,193 - INFO - pnl: 2023-09-13T23:59:59.999 157030.67542141787 === -0.636%
2024-12-13 00:56:52,197 - DEBUG - cur time: 2023-09-14T23:59:59.999 == next bar open time: 2023-09-15T00:00:00.000 == close pos time: 2023-09-20T00:00:00.000
2024-12-13 00:56:52,197 - INFO - pnl: 2023-09-14T23:59:59.999 157134.20199825295 === 0.066%
2024-12-13 00:56:52,201 - DEBUG - cur time: 2023-09-15T23:59:59.999 == next bar open time: 2023-09-16T00:00:00.000 == close pos time: 2023-09-21T00:00:00.000
2024-12-13 00:56:52,213 - DEBUG - close time 2023-09-15T23:59:59.999 == vol_threshold: 17463569.19999999
2024-12-13 00:56:52,216 - DEBUG - 2023-09-15T23:59:59.999 == all trade symbol 180 == remain 126 after VOL filter
2024-12-13 00:56:52,217 - DEBUG - sorted_long_factors: shape: (126, 4)
┌──────────────┬──────────────┬──────┬──────────────┐
│ symbol       ┆ factor_value ┆ rank ┆ reverse_rank │
│ ---          ┆ ---          ┆ ---  ┆ ---          │
│ str          ┆ f64          ┆ u32  ┆ u32          │
╞══════════════╪══════════════╪══════╪══════════════╡
│ PERPUSDT     ┆ -0.975886    ┆ 0    ┆ 125          │
│ IDUSDT       ┆ -0.901057    ┆ 1    ┆ 124          │
│ EDUUSDT      ┆ -0.87446     ┆ 2    ┆ 123          │
│ WAVESUSDT    ┆ -0.847277    ┆ 3    ┆ 122          │
│ LITUSDT      ┆ -0.782659    ┆ 4    ┆ 121          │
│ TRBUSDT      ┆ -0.767296    ┆ 5    ┆ 120          │
│ LUNA2USDT    ┆ -0.673605    ┆ 6    ┆ 119          │
│ LEVERUSDT    ┆ -0.661523    ┆ 7    ┆ 118          │
│ 1000PEPEUSDT ┆ -0.615399    ┆ 8    ┆ 117          │
│ JOEUSDT      ┆ -0.597774    ┆ 9    ┆ 116          │
│ …            ┆ …            ┆ …    ┆ …            │
│ KLAYUSDT     ┆ 0.464313     ┆ 116  ┆ 9            │
│ SKLUSDT      ┆ 0.472407     ┆ 117  ┆ 8            │
│ TUSDT        ┆ 0.49562      ┆ 118  ┆ 7            │
│ STGUSDT      ┆ 0.552615     ┆ 119  ┆ 6            │
│ APEUSDT      ┆ 0.55445      ┆ 120  ┆ 5            │
│ CKBUSDT      ┆ 0.572577     ┆ 121  ┆ 4            │
│ SPELLUSDT    ┆ 0.636703     ┆ 122  ┆ 3            │
│ RVNUSDT      ┆ 0.740175     ┆ 123  ┆ 2            │
│ ICXUSDT      ┆ 0.814547     ┆ 124  ┆ 1            │
│ DGBUSDT      ┆ 1.016321     ┆ 125  ┆ 0            │
└──────────────┴──────────────┴──────┴──────────────┘
2024-12-13 00:56:52,226 - WARNING - 2023-09-15T23:59:59.999=====cur_long_scale: 1.2 not match == long_value_ratio: 1.0
2024-12-13 00:56:52,226 - INFO - cur close time: 2023-09-15T23:59:59.999 == long_value_ratio: 1.0 == short_value_ratio: 1.0 --- 1.2
2024-12-13 00:56:52,227 - DEBUG - mean expected ret (mean factor): -0.1266705388914393
2024-12-13 00:56:52,231 - DEBUG - begin to update pos: =========
2024-12-13 00:56:52,231 - DEBUG - next_step_value: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ i64     ┆ i64    ┆ i64     ┆ f64     │
│ i64         ┆ i64         ┆ i64         ┆ f64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0           ┆ 0           ┆ 0           ┆ -10000.0    ┆ … ┆ 0       ┆ 0      ┆ 0       ┆ 5000.0  │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:52,231 - DEBUG - all_open_price_when_open_pos: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ f64     ┆ f64    ┆ f64     ┆ f64     │
│ f64         ┆ f64         ┆ f64         ┆ f64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ null        ┆ 0.01612     ┆ 0.05954     ┆ 0.0006838   ┆ … ┆ 0.01665 ┆ null   ┆ null    ┆ 0.1896  │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:52,241 - DEBUG - update position: 2023-09-15T23:59:59.999 === diff_trading_value: 205413.91943638294 == cash: 154411.39483341968 
2024-12-13 00:56:52,242 - INFO - pnl: 2023-09-15T23:59:59.999 154411.39483341968 === -1.733%
2024-12-13 00:56:52,246 - DEBUG - cur time: 2023-09-16T23:59:59.999 == next bar open time: 2023-09-17T00:00:00.000 == close pos time: 2023-09-22T00:00:00.000
2024-12-13 00:56:52,247 - INFO - pnl: 2023-09-16T23:59:59.999 154467.00243029196 === 0.036%
2024-12-13 00:56:52,250 - DEBUG - cur time: 2023-09-17T23:59:59.999 == next bar open time: 2023-09-18T00:00:00.000 == close pos time: 2023-09-23T00:00:00.000
2024-12-13 00:56:52,251 - INFO - pnl: 2023-09-17T23:59:59.999 157854.1312265676 === 2.193%
2024-12-13 00:56:52,251 - DEBUG - cur time: 2023-09-18T23:59:59.999 == next bar open time: 2023-09-19T00:00:00.000 == close pos time: 2023-09-24T00:00:00.000
2024-12-13 00:56:52,255 - INFO - pnl: 2023-09-18T23:59:59.999 156184.50699798332 === -1.058%
2024-12-13 00:56:52,259 - DEBUG - cur time: 2023-09-19T23:59:59.999 == next bar open time: 2023-09-20T00:00:00.000 == close pos time: 2023-09-25T00:00:00.000
2024-12-13 00:56:52,259 - INFO - pnl: 2023-09-19T23:59:59.999 153967.95219903777 === -1.419%
2024-12-13 00:56:52,263 - DEBUG - cur time: 2023-09-20T23:59:59.999 == next bar open time: 2023-09-21T00:00:00.000 == close pos time: 2023-09-26T00:00:00.000
2024-12-13 00:56:52,272 - DEBUG - close time 2023-09-20T23:59:59.999 == vol_threshold: 16208469.209999999
2024-12-13 00:56:52,272 - DEBUG - 2023-09-20T23:59:59.999 == all trade symbol 180 == remain 126 after VOL filter
2024-12-13 00:56:52,274 - DEBUG - sorted_long_factors: shape: (126, 4)
┌─────────────┬──────────────┬──────┬──────────────┐
│ symbol      ┆ factor_value ┆ rank ┆ reverse_rank │
│ ---         ┆ ---          ┆ ---  ┆ ---          │
│ str         ┆ f64          ┆ u32  ┆ u32          │
╞═════════════╪══════════════╪══════╪══════════════╡
│ TRBUSDT     ┆ -0.994048    ┆ 0    ┆ 125          │
│ PERPUSDT    ┆ -0.878719    ┆ 1    ┆ 124          │
│ IDUSDT      ┆ -0.776186    ┆ 2    ┆ 123          │
│ MTLUSDT     ┆ -0.697934    ┆ 3    ┆ 122          │
│ OGNUSDT     ┆ -0.671887    ┆ 4    ┆ 121          │
│ SXPUSDT     ┆ -0.65016     ┆ 5    ┆ 120          │
│ HOOKUSDT    ┆ -0.603979    ┆ 6    ┆ 119          │
│ TOMOUSDT    ┆ -0.595795    ┆ 7    ┆ 118          │
│ ENJUSDT     ┆ -0.592585    ┆ 8    ┆ 117          │
│ XLMUSDT     ┆ -0.590199    ┆ 9    ┆ 116          │
│ …           ┆ …            ┆ …    ┆ …            │
│ TUSDT       ┆ 0.366615     ┆ 116  ┆ 9            │
│ RSRUSDT     ┆ 0.367113     ┆ 117  ┆ 8            │
│ SKLUSDT     ┆ 0.408601     ┆ 118  ┆ 7            │
│ 1000XECUSDT ┆ 0.411185     ┆ 119  ┆ 6            │
│ BATUSDT     ┆ 0.443911     ┆ 120  ┆ 5            │
│ RVNUSDT     ┆ 0.555777     ┆ 121  ┆ 4            │
│ MAGICUSDT   ┆ 0.598541     ┆ 122  ┆ 3            │
│ SUSHIUSDT   ┆ 0.636332     ┆ 123  ┆ 2            │
│ CKBUSDT     ┆ 0.823582     ┆ 124  ┆ 1            │
│ DGBUSDT     ┆ 1.134372     ┆ 125  ┆ 0            │
└─────────────┴──────────────┴──────┴──────────────┘
2024-12-13 00:56:52,278 - INFO - cur close time: 2023-09-20T23:59:59.999 == long_value_ratio: 1.0 == short_value_ratio: 1.0 --- 1.0
2024-12-13 00:56:52,278 - DEBUG - mean expected ret (mean factor): -0.12924730864591977
2024-12-13 00:56:52,284 - DEBUG - begin to update pos: =========
2024-12-13 00:56:52,284 - DEBUG - next_step_value: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ i64     ┆ i64    ┆ i64     ┆ i64     │
│ i64         ┆ i64         ┆ i64         ┆ i64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0           ┆ 0           ┆ 0           ┆ 0           ┆ … ┆ 0       ┆ 0      ┆ 0       ┆ 0       │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:52,284 - DEBUG - all_open_price_when_open_pos: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ f64     ┆ f64    ┆ f64     ┆ f64     │
│ f64         ┆ f64         ┆ f64         ┆ f64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ null        ┆ 0.01581     ┆ 0.05775     ┆ 0.0006283   ┆ … ┆ 0.01659 ┆ null   ┆ null    ┆ 0.1839  │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:52,293 - DEBUG - update position: 2023-09-20T23:59:59.999 === diff_trading_value: 226345.15635549102 == cash: 153790.78551138844 
2024-12-13 00:56:52,295 - INFO - pnl: 2023-09-20T23:59:59.999 153790.78551138844 === -0.115%
2024-12-13 00:56:52,299 - DEBUG - cur time: 2023-09-21T23:59:59.999 == next bar open time: 2023-09-22T00:00:00.000 == close pos time: 2023-09-27T00:00:00.000
2024-12-13 00:56:52,300 - INFO - pnl: 2023-09-21T23:59:59.999 155259.55390123263 === 0.955%
2024-12-13 00:56:52,303 - DEBUG - cur time: 2023-09-22T23:59:59.999 == next bar open time: 2023-09-23T00:00:00.000 == close pos time: 2023-09-28T00:00:00.000
2024-12-13 00:56:52,303 - INFO - pnl: 2023-09-22T23:59:59.999 155233.2329252439 === -0.017%
2024-12-13 00:56:52,309 - DEBUG - cur time: 2023-09-23T23:59:59.999 == next bar open time: 2023-09-24T00:00:00.000 == close pos time: 2023-09-29T00:00:00.000
2024-12-13 00:56:52,311 - INFO - pnl: 2023-09-23T23:59:59.999 154836.2368019382 === -0.256%
2024-12-13 00:56:52,315 - DEBUG - cur time: 2023-09-24T23:59:59.999 == next bar open time: 2023-09-25T00:00:00.000 == close pos time: 2023-09-30T00:00:00.000
2024-12-13 00:56:52,317 - INFO - pnl: 2023-09-24T23:59:59.999 154822.14188710361 === -0.009%
2024-12-13 00:56:52,319 - DEBUG - cur time: 2023-09-25T23:59:59.999 == next bar open time: 2023-09-26T00:00:00.000 == close pos time: 2023-10-01T00:00:00.000
2024-12-13 00:56:52,327 - DEBUG - close time 2023-09-25T23:59:59.999 == vol_threshold: 14307865.719999997
2024-12-13 00:56:52,327 - DEBUG - 2023-09-25T23:59:59.999 == all trade symbol 180 == remain 126 after VOL filter
2024-12-13 00:56:52,333 - DEBUG - sorted_long_factors: shape: (126, 4)
┌───────────┬──────────────┬──────┬──────────────┐
│ symbol    ┆ factor_value ┆ rank ┆ reverse_rank │
│ ---       ┆ ---          ┆ ---  ┆ ---          │
│ str       ┆ f64          ┆ u32  ┆ u32          │
╞═══════════╪══════════════╪══════╪══════════════╡
│ AXSUSDT   ┆ -1.055112    ┆ 0    ┆ 125          │
│ FILUSDT   ┆ -1.004811    ┆ 1    ┆ 124          │
│ MTLUSDT   ┆ -0.765496    ┆ 2    ┆ 123          │
│ SUIUSDT   ┆ -0.764484    ┆ 3    ┆ 122          │
│ APTUSDT   ┆ -0.760716    ┆ 4    ┆ 121          │
│ RUNEUSDT  ┆ -0.751513    ┆ 5    ┆ 120          │
│ DOTUSDT   ┆ -0.721237    ┆ 6    ┆ 119          │
│ TOMOUSDT  ┆ -0.701045    ┆ 7    ┆ 118          │
│ CRVUSDT   ┆ -0.63599     ┆ 8    ┆ 117          │
│ STORJUSDT ┆ -0.620762    ┆ 9    ┆ 116          │
│ …         ┆ …            ┆ …    ┆ …            │
│ DARUSDT   ┆ 0.491948     ┆ 116  ┆ 9            │
│ DENTUSDT  ┆ 0.493239     ┆ 117  ┆ 8            │
│ BATUSDT   ┆ 0.589008     ┆ 118  ┆ 7            │
│ KLAYUSDT  ┆ 0.592647     ┆ 119  ┆ 6            │
│ RVNUSDT   ┆ 0.612125     ┆ 120  ┆ 5            │
│ TUSDT     ┆ 0.668878     ┆ 121  ┆ 4            │
│ IOSTUSDT  ┆ 0.672029     ┆ 122  ┆ 3            │
│ TLMUSDT   ┆ 0.766434     ┆ 123  ┆ 2            │
│ CKBUSDT   ┆ 1.218677     ┆ 124  ┆ 1            │
│ DGBUSDT   ┆ 1.239521     ┆ 125  ┆ 0            │
└───────────┴──────────────┴──────┴──────────────┘
2024-12-13 00:56:52,339 - WARNING - 2023-09-25T23:59:59.999=====cur_long_scale: 0.8 not match == long_value_ratio: 1.0
2024-12-13 00:56:52,339 - INFO - cur close time: 2023-09-25T23:59:59.999 == long_value_ratio: 1.0 == short_value_ratio: 1.0 --- 0.8
2024-12-13 00:56:52,339 - DEBUG - mean expected ret (mean factor): -0.09229236196517887
2024-12-13 00:56:52,343 - DEBUG - begin to update pos: =========
2024-12-13 00:56:52,343 - DEBUG - next_step_value: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ f64     ┆ i64    ┆ i64     ┆ i64     │
│ i64         ┆ f64         ┆ i64         ┆ i64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0           ┆ 5000.0      ┆ 0           ┆ 0           ┆ … ┆ 5000.0  ┆ 0      ┆ 0       ┆ 0       │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:52,343 - DEBUG - all_open_price_when_open_pos: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ f64     ┆ f64    ┆ f64     ┆ f64     │
│ f64         ┆ f64         ┆ f64         ┆ f64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ null        ┆ 0.01575     ┆ 0.06027     ┆ 0.0007104   ┆ … ┆ 0.01689 ┆ null   ┆ null    ┆ 0.1831  │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:52,351 - DEBUG - update position: 2023-09-25T23:59:59.999 === diff_trading_value: 249395.5569353929 == cash: 155329.5278811303 
2024-12-13 00:56:52,352 - INFO - pnl: 2023-09-25T23:59:59.999 155329.5278811303 === 0.328%
2024-12-13 00:56:52,352 - DEBUG - cur time: 2023-09-26T23:59:59.999 == next bar open time: 2023-09-27T00:00:00.000 == close pos time: 2023-10-02T00:00:00.000
2024-12-13 00:56:52,357 - INFO - pnl: 2023-09-26T23:59:59.999 154972.1168389667 === -0.230%
2024-12-13 00:56:52,360 - DEBUG - cur time: 2023-09-27T23:59:59.999 == next bar open time: 2023-09-28T00:00:00.000 == close pos time: 2023-10-03T00:00:00.000
2024-12-13 00:56:52,360 - INFO - pnl: 2023-09-27T23:59:59.999 154409.9832000014 === -0.363%
2024-12-13 00:56:52,364 - DEBUG - cur time: 2023-09-28T23:59:59.999 == next bar open time: 2023-09-29T00:00:00.000 == close pos time: 2023-10-04T00:00:00.000
2024-12-13 00:56:52,365 - INFO - pnl: 2023-09-28T23:59:59.999 154286.53574799543 === -0.080%
2024-12-13 00:56:52,368 - DEBUG - cur time: 2023-09-29T23:59:59.999 == next bar open time: 2023-09-30T00:00:00.000 == close pos time: 2023-10-05T00:00:00.000
2024-12-13 00:56:52,368 - INFO - pnl: 2023-09-29T23:59:59.999 152811.31829923883 === -0.956%
2024-12-13 00:56:52,372 - DEBUG - cur time: 2023-09-30T23:59:59.999 == next bar open time: 2023-10-01T00:00:00.000 == close pos time: 2023-10-06T00:00:00.000
2024-12-13 00:56:52,383 - DEBUG - close time 2023-09-30T23:59:59.999 == vol_threshold: 10269573.620000001
2024-12-13 00:56:52,383 - DEBUG - 2023-09-30T23:59:59.999 == all trade symbol 183 == remain 128 after VOL filter
2024-12-13 00:56:52,385 - DEBUG - sorted_long_factors: shape: (128, 4)
┌───────────┬──────────────┬──────┬──────────────┐
│ symbol    ┆ factor_value ┆ rank ┆ reverse_rank │
│ ---       ┆ ---          ┆ ---  ┆ ---          │
│ str       ┆ f64          ┆ u32  ┆ u32          │
╞═══════════╪══════════════╪══════╪══════════════╡
│ APTUSDT   ┆ -1.026489    ┆ 0    ┆ 127          │
│ TRBUSDT   ┆ -0.803793    ┆ 1    ┆ 126          │
│ ARBUSDT   ┆ -0.801681    ┆ 2    ┆ 125          │
│ IMXUSDT   ┆ -0.801017    ┆ 3    ┆ 124          │
│ ONTUSDT   ┆ -0.738114    ┆ 4    ┆ 123          │
│ WAVESUSDT ┆ -0.667266    ┆ 5    ┆ 122          │
│ MTLUSDT   ┆ -0.657774    ┆ 6    ┆ 121          │
│ ARKMUSDT  ┆ -0.657363    ┆ 7    ┆ 120          │
│ OGNUSDT   ┆ -0.64434     ┆ 8    ┆ 119          │
│ FILUSDT   ┆ -0.64372     ┆ 9    ┆ 118          │
│ …         ┆ …            ┆ …    ┆ …            │
│ RENUSDT   ┆ 0.455946     ┆ 118  ┆ 9            │
│ TRUUSDT   ┆ 0.47153      ┆ 119  ┆ 8            │
│ BATUSDT   ┆ 0.572129     ┆ 120  ┆ 7            │
│ RSRUSDT   ┆ 0.648881     ┆ 121  ┆ 6            │
│ TLMUSDT   ┆ 0.661961     ┆ 122  ┆ 5            │
│ TUSDT     ┆ 0.730881     ┆ 123  ┆ 4            │
│ DENTUSDT  ┆ 0.764706     ┆ 124  ┆ 3            │
│ IOTXUSDT  ┆ 0.845001     ┆ 125  ┆ 2            │
│ DGBUSDT   ┆ 0.918525     ┆ 126  ┆ 1            │
│ CKBUSDT   ┆ 0.955623     ┆ 127  ┆ 0            │
└───────────┴──────────────┴──────┴──────────────┘
2024-12-13 00:56:52,389 - WARNING - 2023-09-30T23:59:59.999=====cur_long_scale: 1.2 not match == long_value_ratio: 1.0
2024-12-13 00:56:52,389 - INFO - cur close time: 2023-09-30T23:59:59.999 == long_value_ratio: 1.0 == short_value_ratio: 1.0 --- 1.2
2024-12-13 00:56:52,391 - DEBUG - mean expected ret (mean factor): -0.12358534397699625
2024-12-13 00:56:52,393 - DEBUG - begin to update pos: =========
2024-12-13 00:56:52,393 - DEBUG - next_step_value: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ i64     ┆ i64    ┆ i64     ┆ i64     │
│ i64         ┆ i64         ┆ i64         ┆ i64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0           ┆ 0           ┆ 0           ┆ 0           ┆ … ┆ 0       ┆ 0      ┆ 0       ┆ 0       │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:52,393 - DEBUG - all_open_price_when_open_pos: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ f64     ┆ f64    ┆ f64     ┆ f64     │
│ f64         ┆ f64         ┆ f64         ┆ f64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ null        ┆ 0.01845     ┆ 0.06275     ┆ 0.0007981   ┆ … ┆ 0.01776 ┆ null   ┆ null    ┆ 0.1907  │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:52,401 - DEBUG - update position: 2023-09-30T23:59:59.999 === diff_trading_value: 237291.7707532423 == cash: 154848.3090042514 
2024-12-13 00:56:52,401 - INFO - pnl: 2023-09-30T23:59:59.999 154848.3090042514 === 1.333%
2024-12-13 00:56:52,405 - DEBUG - cur time: 2023-10-01T23:59:59.999 == next bar open time: 2023-10-02T00:00:00.000 == close pos time: 2023-10-07T00:00:00.000
2024-12-13 00:56:52,407 - INFO - pnl: 2023-10-01T23:59:59.999 155947.83082726403 === 0.710%
2024-12-13 00:56:52,410 - DEBUG - cur time: 2023-10-02T23:59:59.999 == next bar open time: 2023-10-03T00:00:00.000 == close pos time: 2023-10-08T00:00:00.000
2024-12-13 00:56:52,410 - INFO - pnl: 2023-10-02T23:59:59.999 154772.90782534837 === -0.753%
2024-12-13 00:56:52,414 - DEBUG - cur time: 2023-10-03T23:59:59.999 == next bar open time: 2023-10-04T00:00:00.000 == close pos time: 2023-10-09T00:00:00.000
2024-12-13 00:56:52,414 - INFO - pnl: 2023-10-03T23:59:59.999 156786.1923946071 === 1.301%
2024-12-13 00:56:52,418 - DEBUG - cur time: 2023-10-04T23:59:59.999 == next bar open time: 2023-10-05T00:00:00.000 == close pos time: 2023-10-10T00:00:00.000
2024-12-13 00:56:52,418 - INFO - pnl: 2023-10-04T23:59:59.999 156551.75164216064 === -0.150%
2024-12-13 00:56:52,422 - DEBUG - cur time: 2023-10-05T23:59:59.999 == next bar open time: 2023-10-06T00:00:00.000 == close pos time: 2023-10-11T00:00:00.000
2024-12-13 00:56:52,433 - DEBUG - close time 2023-10-05T23:59:59.999 == vol_threshold: 13401300.66
2024-12-13 00:56:52,434 - DEBUG - 2023-10-05T23:59:59.999 == all trade symbol 184 == remain 129 after VOL filter
2024-12-13 00:56:52,435 - DEBUG - sorted_long_factors: shape: (129, 4)
┌───────────┬──────────────┬──────┬──────────────┐
│ symbol    ┆ factor_value ┆ rank ┆ reverse_rank │
│ ---       ┆ ---          ┆ ---  ┆ ---          │
│ str       ┆ f64          ┆ u32  ┆ u32          │
╞═══════════╪══════════════╪══════╪══════════════╡
│ WLDUSDT   ┆ -0.989817    ┆ 0    ┆ 128          │
│ LQTYUSDT  ┆ -0.94606     ┆ 1    ┆ 127          │
│ TOMOUSDT  ┆ -0.862071    ┆ 2    ┆ 126          │
│ AGLDUSDT  ┆ -0.806609    ┆ 3    ┆ 125          │
│ FTMUSDT   ┆ -0.742254    ┆ 4    ┆ 124          │
│ ADAUSDT   ┆ -0.719874    ┆ 5    ┆ 123          │
│ RNDRUSDT  ┆ -0.714056    ┆ 6    ┆ 122          │
│ LDOUSDT   ┆ -0.70695     ┆ 7    ┆ 121          │
│ MATICUSDT ┆ -0.689908    ┆ 8    ┆ 120          │
│ RUNEUSDT  ┆ -0.650459    ┆ 9    ┆ 119          │
│ …         ┆ …            ┆ …    ┆ …            │
│ ICXUSDT   ┆ 0.629124     ┆ 119  ┆ 9            │
│ ASTRUSDT  ┆ 0.662513     ┆ 120  ┆ 8            │
│ DENTUSDT  ┆ 0.727415     ┆ 121  ┆ 7            │
│ RENUSDT   ┆ 0.730832     ┆ 122  ┆ 6            │
│ CKBUSDT   ┆ 0.783284     ┆ 123  ┆ 5            │
│ RVNUSDT   ┆ 0.788237     ┆ 124  ┆ 4            │
│ RSRUSDT   ┆ 0.804983     ┆ 125  ┆ 3            │
│ SKLUSDT   ┆ 0.821431     ┆ 126  ┆ 2            │
│ DGBUSDT   ┆ 1.184445     ┆ 127  ┆ 1            │
│ BNXUSDT   ┆ 1.580749     ┆ 128  ┆ 0            │
└───────────┴──────────────┴──────┴──────────────┘
2024-12-13 00:56:52,442 - WARNING - 2023-10-05T23:59:59.999=====cur_long_scale: 0.8 not match == long_value_ratio: 1.0
2024-12-13 00:56:52,442 - INFO - cur close time: 2023-10-05T23:59:59.999 == long_value_ratio: 1.0 == short_value_ratio: 1.0 --- 0.8
2024-12-13 00:56:52,442 - DEBUG - mean expected ret (mean factor): -0.08822947357743309
2024-12-13 00:56:52,443 - DEBUG - begin to update pos: =========
2024-12-13 00:56:52,447 - DEBUG - next_step_value: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ i64     ┆ i64    ┆ i64     ┆ f64     │
│ i64         ┆ i64         ┆ i64         ┆ i64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0           ┆ 0           ┆ 0           ┆ 0           ┆ … ┆ 0       ┆ 0      ┆ 0       ┆ 5000.0  │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:52,447 - DEBUG - all_open_price_when_open_pos: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ f64     ┆ f64    ┆ f64     ┆ f64     │
│ f64         ┆ f64         ┆ f64         ┆ f64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ null        ┆ 0.0181      ┆ 0.05762     ┆ 0.000701    ┆ … ┆ 0.01648 ┆ null   ┆ null    ┆ 0.1811  │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:52,453 - DEBUG - update position: 2023-10-05T23:59:59.999 === diff_trading_value: 284031.95649929636 == cash: 157341.01937748885 
2024-12-13 00:56:52,453 - INFO - pnl: 2023-10-05T23:59:59.999 157341.01937748885 === 0.504%
2024-12-13 00:56:52,458 - DEBUG - cur time: 2023-10-06T23:59:59.999 == next bar open time: 2023-10-07T00:00:00.000 == close pos time: 2023-10-12T00:00:00.000
2024-12-13 00:56:52,458 - INFO - pnl: 2023-10-06T23:59:59.999 158785.3394812609 === 0.918%
2024-12-13 00:56:52,462 - DEBUG - cur time: 2023-10-07T23:59:59.999 == next bar open time: 2023-10-08T00:00:00.000 == close pos time: 2023-10-13T00:00:00.000
2024-12-13 00:56:52,462 - INFO - pnl: 2023-10-07T23:59:59.999 159049.8615002414 === 0.167%
2024-12-13 00:56:52,466 - DEBUG - cur time: 2023-10-08T23:59:59.999 == next bar open time: 2023-10-09T00:00:00.000 == close pos time: 2023-10-14T00:00:00.000
2024-12-13 00:56:52,467 - INFO - pnl: 2023-10-08T23:59:59.999 161453.3492772405 === 1.511%
2024-12-13 00:56:52,470 - DEBUG - cur time: 2023-10-09T23:59:59.999 == next bar open time: 2023-10-10T00:00:00.000 == close pos time: 2023-10-15T00:00:00.000
2024-12-13 00:56:52,470 - INFO - pnl: 2023-10-09T23:59:59.999 158058.7868890989 === -2.103%
2024-12-13 00:56:52,475 - DEBUG - cur time: 2023-10-10T23:59:59.999 == next bar open time: 2023-10-11T00:00:00.000 == close pos time: 2023-10-16T00:00:00.000
2024-12-13 00:56:52,483 - DEBUG - close time 2023-10-10T23:59:59.999 == vol_threshold: 14131337.859999996
2024-12-13 00:56:52,483 - DEBUG - 2023-10-10T23:59:59.999 == all trade symbol 185 == remain 129 after VOL filter
2024-12-13 00:56:52,487 - DEBUG - sorted_long_factors: shape: (129, 4)
┌───────────┬──────────────┬──────┬──────────────┐
│ symbol    ┆ factor_value ┆ rank ┆ reverse_rank │
│ ---       ┆ ---          ┆ ---  ┆ ---          │
│ str       ┆ f64          ┆ u32  ┆ u32          │
╞═══════════╪══════════════╪══════╪══════════════╡
│ SUIUSDT   ┆ -0.996288    ┆ 0    ┆ 128          │
│ LQTYUSDT  ┆ -0.986896    ┆ 1    ┆ 127          │
│ WLDUSDT   ┆ -0.911979    ┆ 2    ┆ 126          │
│ RUNEUSDT  ┆ -0.910949    ┆ 3    ┆ 125          │
│ LDOUSDT   ┆ -0.822973    ┆ 4    ┆ 124          │
│ TOMOUSDT  ┆ -0.752352    ┆ 5    ┆ 123          │
│ STORJUSDT ┆ -0.743089    ┆ 6    ┆ 122          │
│ LEVERUSDT ┆ -0.691418    ┆ 7    ┆ 121          │
│ LUNA2USDT ┆ -0.618191    ┆ 8    ┆ 120          │
│ EOSUSDT   ┆ -0.617702    ┆ 9    ┆ 119          │
│ …         ┆ …            ┆ …    ┆ …            │
│ RVNUSDT   ┆ 0.578421     ┆ 119  ┆ 9            │
│ ASTRUSDT  ┆ 0.629141     ┆ 120  ┆ 8            │
│ IDEXUSDT  ┆ 0.639442     ┆ 121  ┆ 7            │
│ DGBUSDT   ┆ 0.660439     ┆ 122  ┆ 6            │
│ CELRUSDT  ┆ 0.735503     ┆ 123  ┆ 5            │
│ DUSKUSDT  ┆ 0.787998     ┆ 124  ┆ 4            │
│ HFTUSDT   ┆ 0.809915     ┆ 125  ┆ 3            │
│ RENUSDT   ┆ 0.93974      ┆ 126  ┆ 2            │
│ SKLUSDT   ┆ 1.055647     ┆ 127  ┆ 1            │
│ CKBUSDT   ┆ 1.162842     ┆ 128  ┆ 0            │
└───────────┴──────────────┴──────┴──────────────┘
2024-12-13 00:56:52,491 - INFO - cur close time: 2023-10-10T23:59:59.999 == long_value_ratio: 1.0 == short_value_ratio: 1.0 --- 1.0
2024-12-13 00:56:52,491 - DEBUG - mean expected ret (mean factor): -0.0856398642048311
2024-12-13 00:56:52,495 - DEBUG - begin to update pos: =========
2024-12-13 00:56:52,497 - DEBUG - next_step_value: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ i64     ┆ i64    ┆ i64     ┆ i64     │
│ i64         ┆ i64         ┆ i64         ┆ i64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0           ┆ 0           ┆ 0           ┆ 0           ┆ … ┆ 0       ┆ 0      ┆ 0       ┆ 0       │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:52,497 - DEBUG - all_open_price_when_open_pos: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ f64     ┆ f64    ┆ f64     ┆ f64     │
│ f64         ┆ f64         ┆ f64         ┆ f64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ null        ┆ 0.01721     ┆ 0.05758     ┆ 0.0006452   ┆ … ┆ 0.01601 ┆ null   ┆ null    ┆ 0.1911  │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:52,502 - DEBUG - update position: 2023-10-10T23:59:59.999 === diff_trading_value: 177142.72957692115 == cash: 155817.11924394855 
2024-12-13 00:56:52,504 - INFO - pnl: 2023-10-10T23:59:59.999 155817.11924394855 === -1.418%
2024-12-13 00:56:52,504 - DEBUG - cur time: 2023-10-11T23:59:59.999 == next bar open time: 2023-10-12T00:00:00.000 == close pos time: 2023-10-17T00:00:00.000
2024-12-13 00:56:52,507 - INFO - pnl: 2023-10-11T23:59:59.999 155106.83548389864 === -0.456%
2024-12-13 00:56:52,507 - DEBUG - cur time: 2023-10-12T23:59:59.999 == next bar open time: 2023-10-13T00:00:00.000 == close pos time: 2023-10-18T00:00:00.000
2024-12-13 00:56:52,511 - INFO - pnl: 2023-10-12T23:59:59.999 157233.87672351493 === 1.371%
2024-12-13 00:56:52,511 - DEBUG - cur time: 2023-10-13T23:59:59.999 == next bar open time: 2023-10-14T00:00:00.000 == close pos time: 2023-10-19T00:00:00.000
2024-12-13 00:56:52,515 - INFO - pnl: 2023-10-13T23:59:59.999 157646.32686140278 === 0.262%
2024-12-13 00:56:52,517 - DEBUG - cur time: 2023-10-14T23:59:59.999 == next bar open time: 2023-10-15T00:00:00.000 == close pos time: 2023-10-20T00:00:00.000
2024-12-13 00:56:52,517 - INFO - pnl: 2023-10-14T23:59:59.999 157192.81867630774 === -0.288%
2024-12-13 00:56:52,519 - DEBUG - cur time: 2023-10-15T23:59:59.999 == next bar open time: 2023-10-16T00:00:00.000 == close pos time: 2023-10-21T00:00:00.000
2024-12-13 00:56:52,527 - DEBUG - close time 2023-10-15T23:59:59.999 == vol_threshold: 13442906.090000002
2024-12-13 00:56:52,531 - DEBUG - 2023-10-15T23:59:59.999 == all trade symbol 188 == remain 131 after VOL filter
2024-12-13 00:56:52,533 - DEBUG - sorted_long_factors: shape: (131, 4)
┌───────────┬──────────────┬──────┬──────────────┐
│ symbol    ┆ factor_value ┆ rank ┆ reverse_rank │
│ ---       ┆ ---          ┆ ---  ┆ ---          │
│ str       ┆ f64          ┆ u32  ┆ u32          │
╞═══════════╪══════════════╪══════╪══════════════╡
│ WLDUSDT   ┆ -1.218398    ┆ 0    ┆ 130          │
│ TRBUSDT   ┆ -1.112369    ┆ 1    ┆ 129          │
│ STORJUSDT ┆ -1.013282    ┆ 2    ┆ 128          │
│ TOMOUSDT  ┆ -0.860917    ┆ 3    ┆ 127          │
│ ZRXUSDT   ┆ -0.845011    ┆ 4    ┆ 126          │
│ RUNEUSDT  ┆ -0.839816    ┆ 5    ┆ 125          │
│ DYDXUSDT  ┆ -0.812746    ┆ 6    ┆ 124          │
│ SUIUSDT   ┆ -0.787945    ┆ 7    ┆ 123          │
│ ARKMUSDT  ┆ -0.763315    ┆ 8    ┆ 122          │
│ MATICUSDT ┆ -0.717289    ┆ 9    ┆ 121          │
│ …         ┆ …            ┆ …    ┆ …            │
│ RSRUSDT   ┆ 0.547169     ┆ 121  ┆ 9            │
│ DARUSDT   ┆ 0.566997     ┆ 122  ┆ 8            │
│ HOTUSDT   ┆ 0.603356     ┆ 123  ┆ 7            │
│ CELRUSDT  ┆ 0.623525     ┆ 124  ┆ 6            │
│ TLMUSDT   ┆ 0.67155      ┆ 125  ┆ 5            │
│ SKLUSDT   ┆ 0.728812     ┆ 126  ┆ 4            │
│ DGBUSDT   ┆ 0.787418     ┆ 127  ┆ 3            │
│ RVNUSDT   ┆ 0.824082     ┆ 128  ┆ 2            │
│ HFTUSDT   ┆ 1.05152      ┆ 129  ┆ 1            │
│ CKBUSDT   ┆ 1.135931     ┆ 130  ┆ 0            │
└───────────┴──────────────┴──────┴──────────────┘
2024-12-13 00:56:52,537 - WARNING - 2023-10-15T23:59:59.999=====cur_long_scale: 1.2 not match == long_value_ratio: 1.0
2024-12-13 00:56:52,537 - INFO - cur close time: 2023-10-15T23:59:59.999 == long_value_ratio: 1.0 == short_value_ratio: 1.0 --- 1.2
2024-12-13 00:56:52,537 - DEBUG - mean expected ret (mean factor): -0.1080959757777399
2024-12-13 00:56:52,541 - DEBUG - begin to update pos: =========
2024-12-13 00:56:52,541 - DEBUG - next_step_value: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬────────────┬───┬─────────┬────────┬─────────┬──────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUS ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT  │
│ T           ┆ DT          ┆ T           ┆ DT         ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---      │
│ ---         ┆ ---         ┆ ---         ┆ ---        ┆   ┆ i64     ┆ i64    ┆ i64     ┆ f64      │
│ i64         ┆ i64         ┆ i64         ┆ i64        ┆   ┆         ┆        ┆         ┆          │
╞═════════════╪═════════════╪═════════════╪════════════╪═══╪═════════╪════════╪═════════╪══════════╡
│ 0           ┆ 0           ┆ 0           ┆ 0          ┆ … ┆ 0       ┆ 0      ┆ 0       ┆ -10000.0 │
└─────────────┴─────────────┴─────────────┴────────────┴───┴─────────┴────────┴─────────┴──────────┘
2024-12-13 00:56:52,541 - DEBUG - all_open_price_when_open_pos: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ f64     ┆ f64    ┆ f64     ┆ f64     │
│ f64         ┆ f64         ┆ f64         ┆ f64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ null        ┆ 0.01807     ┆ 0.05744     ┆ 0.0006655   ┆ … ┆ 0.01653 ┆ null   ┆ null    ┆ 0.2173  │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:52,547 - DEBUG - update position: 2023-10-15T23:59:59.999 === diff_trading_value: 196060.1959200476 == cash: 156809.04738263212 
2024-12-13 00:56:52,547 - INFO - pnl: 2023-10-15T23:59:59.999 156809.04738263212 === -0.244%
2024-12-13 00:56:52,549 - DEBUG - cur time: 2023-10-16T23:59:59.999 == next bar open time: 2023-10-17T00:00:00.000 == close pos time: 2023-10-22T00:00:00.000
2024-12-13 00:56:52,549 - INFO - pnl: 2023-10-16T23:59:59.999 157054.89172004012 === 0.157%
2024-12-13 00:56:52,553 - DEBUG - cur time: 2023-10-17T23:59:59.999 == next bar open time: 2023-10-18T00:00:00.000 == close pos time: 2023-10-23T00:00:00.000
2024-12-13 00:56:52,553 - INFO - pnl: 2023-10-17T23:59:59.999 157278.8525819527 === 0.143%
2024-12-13 00:56:52,558 - DEBUG - cur time: 2023-10-18T23:59:59.999 == next bar open time: 2023-10-19T00:00:00.000 == close pos time: 2023-10-24T00:00:00.000
2024-12-13 00:56:52,558 - INFO - pnl: 2023-10-18T23:59:59.999 157837.58309578223 === 0.355%
2024-12-13 00:56:52,562 - DEBUG - cur time: 2023-10-19T23:59:59.999 == next bar open time: 2023-10-20T00:00:00.000 == close pos time: 2023-10-25T00:00:00.000
2024-12-13 00:56:52,562 - INFO - pnl: 2023-10-19T23:59:59.999 157933.32779181283 === 0.061%
2024-12-13 00:56:52,566 - DEBUG - cur time: 2023-10-20T23:59:59.999 == next bar open time: 2023-10-21T00:00:00.000 == close pos time: 2023-10-26T00:00:00.000
2024-12-13 00:56:52,576 - DEBUG - close time 2023-10-20T23:59:59.999 == vol_threshold: 15097546.6
2024-12-13 00:56:52,577 - DEBUG - 2023-10-20T23:59:59.999 == all trade symbol 189 == remain 132 after VOL filter
2024-12-13 00:56:52,577 - DEBUG - sorted_long_factors: shape: (132, 4)
┌───────────┬──────────────┬──────┬──────────────┐
│ symbol    ┆ factor_value ┆ rank ┆ reverse_rank │
│ ---       ┆ ---          ┆ ---  ┆ ---          │
│ str       ┆ f64          ┆ u32  ┆ u32          │
╞═══════════╪══════════════╪══════╪══════════════╡
│ WLDUSDT   ┆ -0.999753    ┆ 0    ┆ 131          │
│ KNCUSDT   ┆ -0.965278    ┆ 1    ┆ 130          │
│ FILUSDT   ┆ -0.924994    ┆ 2    ┆ 129          │
│ APEUSDT   ┆ -0.858556    ┆ 3    ┆ 128          │
│ DYDXUSDT  ┆ -0.839555    ┆ 4    ┆ 127          │
│ BLURUSDT  ┆ -0.749673    ┆ 5    ┆ 126          │
│ STORJUSDT ┆ -0.711231    ┆ 6    ┆ 125          │
│ RUNEUSDT  ┆ -0.690115    ┆ 7    ┆ 124          │
│ MATICUSDT ┆ -0.684376    ┆ 8    ┆ 123          │
│ ADAUSDT   ┆ -0.677097    ┆ 9    ┆ 122          │
│ …         ┆ …            ┆ …    ┆ …            │
│ LRCUSDT   ┆ 0.559264     ┆ 122  ┆ 9            │
│ LINAUSDT  ┆ 0.581678     ┆ 123  ┆ 8            │
│ IDEXUSDT  ┆ 0.654888     ┆ 124  ┆ 7            │
│ RVNUSDT   ┆ 0.661962     ┆ 125  ┆ 6            │
│ CELRUSDT  ┆ 0.71055      ┆ 126  ┆ 5            │
│ ACHUSDT   ┆ 0.75297      ┆ 127  ┆ 4            │
│ HFTUSDT   ┆ 0.823934     ┆ 128  ┆ 3            │
│ SKLUSDT   ┆ 0.878712     ┆ 129  ┆ 2            │
│ CKBUSDT   ┆ 0.893256     ┆ 130  ┆ 1            │
│ TLMUSDT   ┆ 1.189755     ┆ 131  ┆ 0            │
└───────────┴──────────────┴──────┴──────────────┘
2024-12-13 00:56:52,584 - INFO - cur close time: 2023-10-20T23:59:59.999 == long_value_ratio: 1.0 == short_value_ratio: 1.0 --- 1.0
2024-12-13 00:56:52,584 - DEBUG - mean expected ret (mean factor): -0.08813129399635758
2024-12-13 00:56:52,588 - DEBUG - begin to update pos: =========
2024-12-13 00:56:52,588 - DEBUG - next_step_value: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ i64     ┆ i64    ┆ i64     ┆ i64     │
│ i64         ┆ i64         ┆ i64         ┆ i64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0           ┆ 0           ┆ 0           ┆ 0           ┆ … ┆ 0       ┆ 0      ┆ 0       ┆ 0       │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:52,588 - DEBUG - all_open_price_when_open_pos: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ f64     ┆ f64    ┆ f64     ┆ f64     │
│ f64         ┆ f64         ┆ f64         ┆ f64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ null        ┆ 0.02008     ┆ 0.05666     ┆ 0.0006563   ┆ … ┆ 0.017   ┆ null   ┆ null    ┆ 0.2151  │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:52,592 - DEBUG - update position: 2023-10-20T23:59:59.999 === diff_trading_value: 167249.06689862316 == cash: 156461.5233034422 
2024-12-13 00:56:52,596 - INFO - pnl: 2023-10-20T23:59:59.999 156461.5233034422 === -0.932%
2024-12-13 00:56:52,600 - DEBUG - cur time: 2023-10-21T23:59:59.999 == next bar open time: 2023-10-22T00:00:00.000 == close pos time: 2023-10-27T00:00:00.000
2024-12-13 00:56:52,600 - INFO - pnl: 2023-10-21T23:59:59.999 156279.42609266858 === -0.116%
2024-12-13 00:56:52,604 - DEBUG - cur time: 2023-10-22T23:59:59.999 == next bar open time: 2023-10-23T00:00:00.000 == close pos time: 2023-10-28T00:00:00.000
2024-12-13 00:56:52,604 - INFO - pnl: 2023-10-22T23:59:59.999 155426.39152067772 === -0.546%
2024-12-13 00:56:52,610 - DEBUG - cur time: 2023-10-23T23:59:59.999 == next bar open time: 2023-10-24T00:00:00.000 == close pos time: 2023-10-29T00:00:00.000
2024-12-13 00:56:52,612 - INFO - pnl: 2023-10-23T23:59:59.999 154104.94266455664 === -0.850%
2024-12-13 00:56:52,617 - DEBUG - cur time: 2023-10-24T23:59:59.999 == next bar open time: 2023-10-25T00:00:00.000 == close pos time: 2023-10-30T00:00:00.000
2024-12-13 00:56:52,619 - INFO - pnl: 2023-10-24T23:59:59.999 154848.5998568433 === 0.483%
2024-12-13 00:56:52,624 - DEBUG - cur time: 2023-10-25T23:59:59.999 == next bar open time: 2023-10-26T00:00:00.000 == close pos time: 2023-10-31T00:00:00.000
2024-12-13 00:56:52,635 - DEBUG - close time 2023-10-25T23:59:59.999 == vol_threshold: 31796530.859999992
2024-12-13 00:56:52,635 - DEBUG - 2023-10-25T23:59:59.999 == all trade symbol 190 == remain 133 after VOL filter
2024-12-13 00:56:52,637 - DEBUG - sorted_long_factors: shape: (133, 4)
┌───────────┬──────────────┬──────┬──────────────┐
│ symbol    ┆ factor_value ┆ rank ┆ reverse_rank │
│ ---       ┆ ---          ┆ ---  ┆ ---          │
│ str       ┆ f64          ┆ u32  ┆ u32          │
╞═══════════╪══════════════╪══════╪══════════════╡
│ WLDUSDT   ┆ -0.792866    ┆ 0    ┆ 132          │
│ BNTUSDT   ┆ -0.779135    ┆ 1    ┆ 131          │
│ CYBERUSDT ┆ -0.735469    ┆ 2    ┆ 130          │
│ SUIUSDT   ┆ -0.718848    ┆ 3    ┆ 129          │
│ ARBUSDT   ┆ -0.70967     ┆ 4    ┆ 128          │
│ LDOUSDT   ┆ -0.683904    ┆ 5    ┆ 127          │
│ APEUSDT   ┆ -0.675999    ┆ 6    ┆ 126          │
│ DYDXUSDT  ┆ -0.663457    ┆ 7    ┆ 125          │
│ LQTYUSDT  ┆ -0.653498    ┆ 8    ┆ 124          │
│ RUNEUSDT  ┆ -0.634935    ┆ 9    ┆ 123          │
│ …         ┆ …            ┆ …    ┆ …            │
│ ATAUSDT   ┆ 0.546121     ┆ 123  ┆ 9            │
│ TRUUSDT   ┆ 0.553744     ┆ 124  ┆ 8            │
│ ONEUSDT   ┆ 0.555207     ┆ 125  ┆ 7            │
│ TLMUSDT   ┆ 0.585309     ┆ 126  ┆ 6            │
│ DGBUSDT   ┆ 0.612236     ┆ 127  ┆ 5            │
│ RVNUSDT   ┆ 0.628859     ┆ 128  ┆ 4            │
│ DODOXUSDT ┆ 0.634662     ┆ 129  ┆ 3            │
│ SKLUSDT   ┆ 0.7489       ┆ 130  ┆ 2            │
│ IDEXUSDT  ┆ 0.765874     ┆ 131  ┆ 1            │
│ CKBUSDT   ┆ 0.79435      ┆ 132  ┆ 0            │
└───────────┴──────────────┴──────┴──────────────┘
2024-12-13 00:56:52,645 - WARNING - 2023-10-25T23:59:59.999=====cur_long_scale: 1.2 not match == long_value_ratio: 1.0
2024-12-13 00:56:52,645 - INFO - cur close time: 2023-10-25T23:59:59.999 == long_value_ratio: 1.0 == short_value_ratio: 1.0 --- 1.2
2024-12-13 00:56:52,645 - DEBUG - mean expected ret (mean factor): -0.07126218982842702
2024-12-13 00:56:52,649 - DEBUG - begin to update pos: =========
2024-12-13 00:56:52,650 - DEBUG - next_step_value: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ i64     ┆ i64    ┆ i64     ┆ i64     │
│ i64         ┆ i64         ┆ i64         ┆ i64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0           ┆ 0           ┆ 0           ┆ 0           ┆ … ┆ 0       ┆ 0      ┆ 0       ┆ 0       │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:52,651 - DEBUG - all_open_price_when_open_pos: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ f64     ┆ f64    ┆ f64     ┆ f64     │
│ f64         ┆ f64         ┆ f64         ┆ f64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ null        ┆ 0.03033     ┆ 0.06509     ┆ 0.0012077   ┆ … ┆ 0.01872 ┆ null   ┆ null    ┆ 0.2509  │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:52,658 - DEBUG - update position: 2023-10-25T23:59:59.999 === diff_trading_value: 228202.17440685123 == cash: 152388.1620331101 
2024-12-13 00:56:52,660 - INFO - pnl: 2023-10-25T23:59:59.999 152388.1620331101 === -1.589%
2024-12-13 00:56:52,665 - DEBUG - cur time: 2023-10-26T23:59:59.999 == next bar open time: 2023-10-27T00:00:00.000 == close pos time: 2023-11-01T00:00:00.000
2024-12-13 00:56:52,666 - INFO - pnl: 2023-10-26T23:59:59.999 151519.7726216602 === -0.570%
2024-12-13 00:56:52,672 - DEBUG - cur time: 2023-10-27T23:59:59.999 == next bar open time: 2023-10-28T00:00:00.000 == close pos time: 2023-11-02T00:00:00.000
2024-12-13 00:56:52,672 - INFO - pnl: 2023-10-27T23:59:59.999 151897.1301939458 === 0.249%
2024-12-13 00:56:52,680 - DEBUG - cur time: 2023-10-28T23:59:59.999 == next bar open time: 2023-10-29T00:00:00.000 == close pos time: 2023-11-03T00:00:00.000
2024-12-13 00:56:52,680 - INFO - pnl: 2023-10-28T23:59:59.999 153095.77895519382 === 0.789%
2024-12-13 00:56:52,687 - DEBUG - cur time: 2023-10-29T23:59:59.999 == next bar open time: 2023-10-30T00:00:00.000 == close pos time: 2023-11-04T00:00:00.000
2024-12-13 00:56:52,689 - INFO - pnl: 2023-10-29T23:59:59.999 154759.95391155474 === 1.087%
2024-12-13 00:56:52,695 - DEBUG - cur time: 2023-10-30T23:59:59.999 == next bar open time: 2023-10-31T00:00:00.000 == close pos time: 2023-11-05T00:00:00.000
2024-12-13 00:56:52,709 - DEBUG - close time 2023-10-30T23:59:59.999 == vol_threshold: 23685798.098999996
2024-12-13 00:56:52,710 - DEBUG - 2023-10-30T23:59:59.999 == all trade symbol 190 == remain 133 after VOL filter
2024-12-13 00:56:52,711 - DEBUG - sorted_long_factors: shape: (133, 4)
┌───────────┬──────────────┬──────┬──────────────┐
│ symbol    ┆ factor_value ┆ rank ┆ reverse_rank │
│ ---       ┆ ---          ┆ ---  ┆ ---          │
│ str       ┆ f64          ┆ u32  ┆ u32          │
╞═══════════╪══════════════╪══════╪══════════════╡
│ AGLDUSDT  ┆ -0.923906    ┆ 0    ┆ 132          │
│ AXSUSDT   ┆ -0.883629    ┆ 1    ┆ 131          │
│ BNTUSDT   ┆ -0.806504    ┆ 2    ┆ 130          │
│ BLURUSDT  ┆ -0.785697    ┆ 3    ┆ 129          │
│ FILUSDT   ┆ -0.772247    ┆ 4    ┆ 128          │
│ STORJUSDT ┆ -0.731094    ┆ 5    ┆ 127          │
│ ARBUSDT   ┆ -0.724398    ┆ 6    ┆ 126          │
│ XRPUSDT   ┆ -0.70692     ┆ 7    ┆ 125          │
│ LQTYUSDT  ┆ -0.699837    ┆ 8    ┆ 124          │
│ STMXUSDT  ┆ -0.648364    ┆ 9    ┆ 123          │
│ …         ┆ …            ┆ …    ┆ …            │
│ CHRUSDT   ┆ 0.451422     ┆ 123  ┆ 9            │
│ ATAUSDT   ┆ 0.475164     ┆ 124  ┆ 8            │
│ SKLUSDT   ┆ 0.497772     ┆ 125  ┆ 7            │
│ TLMUSDT   ┆ 0.51245      ┆ 126  ┆ 6            │
│ OXTUSDT   ┆ 0.520347     ┆ 127  ┆ 5            │
│ TRUUSDT   ┆ 0.566474     ┆ 128  ┆ 4            │
│ DARUSDT   ┆ 0.580767     ┆ 129  ┆ 3            │
│ REEFUSDT  ┆ 0.630967     ┆ 130  ┆ 2            │
│ RVNUSDT   ┆ 0.85072      ┆ 131  ┆ 1            │
│ CKBUSDT   ┆ 1.410865     ┆ 132  ┆ 0            │
└───────────┴──────────────┴──────┴──────────────┘
2024-12-13 00:56:52,721 - WARNING - 2023-10-30T23:59:59.999=====cur_long_scale: 1.2 not match == long_value_ratio: 1.0
2024-12-13 00:56:52,721 - INFO - cur close time: 2023-10-30T23:59:59.999 == long_value_ratio: 1.0 == short_value_ratio: 1.0 --- 1.2
2024-12-13 00:56:52,721 - DEBUG - mean expected ret (mean factor): -0.10168381740256316
2024-12-13 00:56:52,727 - DEBUG - begin to update pos: =========
2024-12-13 00:56:52,727 - DEBUG - next_step_value: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ i64     ┆ i64    ┆ i64     ┆ i64     │
│ i64         ┆ i64         ┆ i64         ┆ i64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0           ┆ 0           ┆ 0           ┆ 0           ┆ … ┆ 0       ┆ 0      ┆ 0       ┆ 0       │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:52,727 - DEBUG - all_open_price_when_open_pos: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ f64     ┆ f64    ┆ f64     ┆ f64     │
│ f64         ┆ f64         ┆ f64         ┆ f64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ null        ┆ 0.03597     ┆ 0.06531     ┆ 0.0011725   ┆ … ┆ 0.01934 ┆ null   ┆ null    ┆ 0.2658  │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:52,734 - DEBUG - update position: 2023-10-30T23:59:59.999 === diff_trading_value: 221262.80129807608 == cash: 153202.32082752275 
2024-12-13 00:56:52,735 - INFO - pnl: 2023-10-30T23:59:59.999 153202.32082752275 === -1.006%
2024-12-13 00:56:52,737 - DEBUG - cur time: 2023-10-31T23:59:59.999 == next bar open time: 2023-11-01T00:00:00.000 == close pos time: 2023-11-06T00:00:00.000
2024-12-13 00:56:52,737 - INFO - pnl: 2023-10-31T23:59:59.999 152677.33154166804 === -0.343%
2024-12-13 00:56:52,745 - DEBUG - cur time: 2023-11-01T23:59:59.999 == next bar open time: 2023-11-02T00:00:00.000 == close pos time: 2023-11-07T00:00:00.000
2024-12-13 00:56:52,747 - INFO - pnl: 2023-11-01T23:59:59.999 153143.48690099394 === 0.305%
2024-12-13 00:56:52,754 - DEBUG - cur time: 2023-11-02T23:59:59.999 == next bar open time: 2023-11-03T00:00:00.000 == close pos time: 2023-11-08T00:00:00.000
2024-12-13 00:56:52,756 - INFO - pnl: 2023-11-02T23:59:59.999 151963.6157546876 === -0.770%
2024-12-13 00:56:52,759 - DEBUG - cur time: 2023-11-03T23:59:59.999 == next bar open time: 2023-11-04T00:00:00.000 == close pos time: 2023-11-09T00:00:00.000
2024-12-13 00:56:52,763 - INFO - pnl: 2023-11-03T23:59:59.999 151938.30644174948 === -0.017%
2024-12-13 00:56:52,771 - DEBUG - cur time: 2023-11-04T23:59:59.999 == next bar open time: 2023-11-05T00:00:00.000 == close pos time: 2023-11-10T00:00:00.000
2024-12-13 00:56:52,783 - DEBUG - close time 2023-11-04T23:59:59.999 == vol_threshold: 15060777.35
2024-12-13 00:56:52,783 - DEBUG - 2023-11-04T23:59:59.999 == all trade symbol 190 == remain 133 after VOL filter
2024-12-13 00:56:52,783 - DEBUG - sorted_long_factors: shape: (133, 4)
┌───────────────┬──────────────┬──────┬──────────────┐
│ symbol        ┆ factor_value ┆ rank ┆ reverse_rank │
│ ---           ┆ ---          ┆ ---  ┆ ---          │
│ str           ┆ f64          ┆ u32  ┆ u32          │
╞═══════════════╪══════════════╪══════╪══════════════╡
│ LQTYUSDT      ┆ -0.999952    ┆ 0    ┆ 132          │
│ MINAUSDT      ┆ -0.97462     ┆ 1    ┆ 131          │
│ BLURUSDT      ┆ -0.916121    ┆ 2    ┆ 130          │
│ FILUSDT       ┆ -0.868302    ┆ 3    ┆ 129          │
│ WLDUSDT       ┆ -0.81716     ┆ 4    ┆ 128          │
│ RNDRUSDT      ┆ -0.778284    ┆ 5    ┆ 127          │
│ OPUSDT        ┆ -0.7305      ┆ 6    ┆ 126          │
│ 1000FLOKIUSDT ┆ -0.725964    ┆ 7    ┆ 125          │
│ ZRXUSDT       ┆ -0.718458    ┆ 8    ┆ 124          │
│ LDOUSDT       ┆ -0.687076    ┆ 9    ┆ 123          │
│ …             ┆ …            ┆ …    ┆ …            │
│ TOMOUSDT      ┆ 0.553038     ┆ 123  ┆ 9            │
│ DENTUSDT      ┆ 0.612195     ┆ 124  ┆ 8            │
│ IOTXUSDT      ┆ 0.632879     ┆ 125  ┆ 7            │
│ DARUSDT       ┆ 0.654966     ┆ 126  ┆ 6            │
│ ACHUSDT       ┆ 0.663969     ┆ 127  ┆ 5            │
│ RVNUSDT       ┆ 0.671676     ┆ 128  ┆ 4            │
│ OXTUSDT       ┆ 0.67881      ┆ 129  ┆ 3            │
│ TLMUSDT       ┆ 0.687103     ┆ 130  ┆ 2            │
│ HFTUSDT       ┆ 0.689463     ┆ 131  ┆ 1            │
│ CKBUSDT       ┆ 0.908388     ┆ 132  ┆ 0            │
└───────────────┴──────────────┴──────┴──────────────┘
2024-12-13 00:56:52,791 - WARNING - 2023-11-04T23:59:59.999=====cur_long_scale: 1.2 not match == long_value_ratio: 1.0
2024-12-13 00:56:52,791 - INFO - cur close time: 2023-11-04T23:59:59.999 == long_value_ratio: 1.0 == short_value_ratio: 1.0 --- 1.2
2024-12-13 00:56:52,791 - DEBUG - mean expected ret (mean factor): -0.060367017990876994
2024-12-13 00:56:52,795 - DEBUG - begin to update pos: =========
2024-12-13 00:56:52,795 - DEBUG - next_step_value: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬────────────┬───┬─────────┬────────┬─────────┬──────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUS ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT  │
│ T           ┆ DT          ┆ T           ┆ DT         ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---      │
│ ---         ┆ ---         ┆ ---         ┆ ---        ┆   ┆ i64     ┆ i64    ┆ i64     ┆ f64      │
│ i64         ┆ f64         ┆ i64         ┆ i64        ┆   ┆         ┆        ┆         ┆          │
╞═════════════╪═════════════╪═════════════╪════════════╪═══╪═════════╪════════╪═════════╪══════════╡
│ 0           ┆ -10000.0    ┆ 0           ┆ 0          ┆ … ┆ 0       ┆ 0      ┆ 0       ┆ -10000.0 │
└─────────────┴─────────────┴─────────────┴────────────┴───┴─────────┴────────┴─────────┴──────────┘
2024-12-13 00:56:52,795 - DEBUG - all_open_price_when_open_pos: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ f64     ┆ f64    ┆ f64     ┆ f64     │
│ f64         ┆ f64         ┆ f64         ┆ f64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ null        ┆ 0.03164     ┆ 0.06492     ┆ 0.0011171   ┆ … ┆ 0.02023 ┆ null   ┆ null    ┆ 0.2768  │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:52,803 - DEBUG - update position: 2023-11-04T23:59:59.999 === diff_trading_value: 232137.24651422084 == cash: 152028.95078666546 
2024-12-13 00:56:52,803 - INFO - pnl: 2023-11-04T23:59:59.999 152028.95078666546 === 0.060%
2024-12-13 00:56:52,808 - DEBUG - cur time: 2023-11-05T23:59:59.999 == next bar open time: 2023-11-06T00:00:00.000 == close pos time: 2023-11-11T00:00:00.000
2024-12-13 00:56:52,808 - INFO - pnl: 2023-11-05T23:59:59.999 153336.36310527375 === 0.860%
2024-12-13 00:56:52,812 - DEBUG - cur time: 2023-11-06T23:59:59.999 == next bar open time: 2023-11-07T00:00:00.000 == close pos time: 2023-11-12T00:00:00.000
2024-12-13 00:56:52,812 - INFO - pnl: 2023-11-06T23:59:59.999 154846.48271479466 === 0.985%
2024-12-13 00:56:52,817 - DEBUG - cur time: 2023-11-07T23:59:59.999 == next bar open time: 2023-11-08T00:00:00.000 == close pos time: 2023-11-13T00:00:00.000
2024-12-13 00:56:52,820 - INFO - pnl: 2023-11-07T23:59:59.999 148688.66686594574 === -3.977%
2024-12-13 00:56:52,825 - DEBUG - cur time: 2023-11-08T23:59:59.999 == next bar open time: 2023-11-09T00:00:00.000 == close pos time: 2023-11-14T00:00:00.000
2024-12-13 00:56:52,825 - INFO - pnl: 2023-11-08T23:59:59.999 150532.11840985809 === 1.240%
2024-12-13 00:56:52,829 - DEBUG - cur time: 2023-11-09T23:59:59.999 == next bar open time: 2023-11-10T00:00:00.000 == close pos time: 2023-11-15T00:00:00.000
2024-12-13 00:56:52,837 - DEBUG - close time 2023-11-09T23:59:59.999 == vol_threshold: 42929930.94
2024-12-13 00:56:52,841 - DEBUG - 2023-11-09T23:59:59.999 == all trade symbol 189 == remain 132 after VOL filter
2024-12-13 00:56:52,843 - DEBUG - sorted_long_factors: shape: (132, 4)
┌───────────┬──────────────┬──────┬──────────────┐
│ symbol    ┆ factor_value ┆ rank ┆ reverse_rank │
│ ---       ┆ ---          ┆ ---  ┆ ---          │
│ str       ┆ f64          ┆ u32  ┆ u32          │
╞═══════════╪══════════════╪══════╪══════════════╡
│ MINAUSDT  ┆ -0.913303    ┆ 0    ┆ 131          │
│ WLDUSDT   ┆ -0.810888    ┆ 1    ┆ 130          │
│ BLURUSDT  ┆ -0.777401    ┆ 2    ┆ 129          │
│ BNTUSDT   ┆ -0.760021    ┆ 3    ┆ 128          │
│ YGGUSDT   ┆ -0.755624    ┆ 4    ┆ 127          │
│ MATICUSDT ┆ -0.744927    ┆ 5    ┆ 126          │
│ OPUSDT    ┆ -0.658942    ┆ 6    ┆ 125          │
│ SUIUSDT   ┆ -0.63794     ┆ 7    ┆ 124          │
│ DYDXUSDT  ┆ -0.624889    ┆ 8    ┆ 123          │
│ ZRXUSDT   ┆ -0.582275    ┆ 9    ┆ 122          │
│ …         ┆ …            ┆ …    ┆ …            │
│ ONEUSDT   ┆ 0.406878     ┆ 122  ┆ 9            │
│ REEFUSDT  ┆ 0.424145     ┆ 123  ┆ 8            │
│ TLMUSDT   ┆ 0.424965     ┆ 124  ┆ 7            │
│ RVNUSDT   ┆ 0.439348     ┆ 125  ┆ 6            │
│ DENTUSDT  ┆ 0.467342     ┆ 126  ┆ 5            │
│ CHRUSDT   ┆ 0.500224     ┆ 127  ┆ 4            │
│ DGBUSDT   ┆ 0.599869     ┆ 128  ┆ 3            │
│ SKLUSDT   ┆ 0.600564     ┆ 129  ┆ 2            │
│ DARUSDT   ┆ 0.656218     ┆ 130  ┆ 1            │
│ CKBUSDT   ┆ 0.917528     ┆ 131  ┆ 0            │
└───────────┴──────────────┴──────┴──────────────┘
2024-12-13 00:56:52,847 - WARNING - 2023-11-09T23:59:59.999=====cur_long_scale: 1.2 not match == long_value_ratio: 1.0
2024-12-13 00:56:52,847 - INFO - cur close time: 2023-11-09T23:59:59.999 == long_value_ratio: 1.0 == short_value_ratio: 1.0 --- 1.2
2024-12-13 00:56:52,851 - DEBUG - mean expected ret (mean factor): -0.06682535941955393
2024-12-13 00:56:52,855 - DEBUG - begin to update pos: =========
2024-12-13 00:56:52,855 - DEBUG - next_step_value: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬────────────┬───┬─────────┬────────┬─────────┬──────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUS ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT  │
│ T           ┆ DT          ┆ T           ┆ DT         ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---      │
│ ---         ┆ ---         ┆ ---         ┆ ---        ┆   ┆ i64     ┆ i64    ┆ i64     ┆ f64      │
│ i64         ┆ i64         ┆ i64         ┆ i64        ┆   ┆         ┆        ┆         ┆          │
╞═════════════╪═════════════╪═════════════╪════════════╪═══╪═════════╪════════╪═════════╪══════════╡
│ 0           ┆ 0           ┆ 0           ┆ 0          ┆ … ┆ 0       ┆ 0      ┆ 0       ┆ -10000.0 │
└─────────────┴─────────────┴─────────────┴────────────┴───┴─────────┴────────┴─────────┴──────────┘
2024-12-13 00:56:52,855 - DEBUG - all_open_price_when_open_pos: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ f64     ┆ f64    ┆ f64     ┆ f64     │
│ f64         ┆ f64         ┆ f64         ┆ f64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ null        ┆ 0.0303      ┆ 0.06755     ┆ 0.0013341   ┆ … ┆ 0.02074 ┆ null   ┆ null    ┆ 0.2821  │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:52,859 - DEBUG - update position: 2023-11-09T23:59:59.999 === diff_trading_value: 189201.57952331577 == cash: 147939.14833699536 
2024-12-13 00:56:52,863 - INFO - pnl: 2023-11-09T23:59:59.999 147939.14833699536 === -1.723%
2024-12-13 00:56:52,867 - DEBUG - cur time: 2023-11-10T23:59:59.999 == next bar open time: 2023-11-11T00:00:00.000 == close pos time: 2023-11-16T00:00:00.000
2024-12-13 00:56:52,867 - INFO - pnl: 2023-11-10T23:59:59.999 146929.23575992294 === -0.683%
2024-12-13 00:56:52,872 - DEBUG - cur time: 2023-11-11T23:59:59.999 == next bar open time: 2023-11-12T00:00:00.000 == close pos time: 2023-11-17T00:00:00.000
2024-12-13 00:56:52,872 - INFO - pnl: 2023-11-11T23:59:59.999 138865.9611867139 === -5.488%
2024-12-13 00:56:52,877 - DEBUG - cur time: 2023-11-12T23:59:59.999 == next bar open time: 2023-11-13T00:00:00.000 == close pos time: 2023-11-18T00:00:00.000
2024-12-13 00:56:52,879 - INFO - pnl: 2023-11-12T23:59:59.999 132013.7906503068 === -4.934%
2024-12-13 00:56:52,884 - DEBUG - cur time: 2023-11-13T23:59:59.999 == next bar open time: 2023-11-14T00:00:00.000 == close pos time: 2023-11-19T00:00:00.000
2024-12-13 00:56:52,884 - INFO - pnl: 2023-11-13T23:59:59.999 134835.2944221361 === 2.137%
2024-12-13 00:56:52,887 - DEBUG - cur time: 2023-11-14T23:59:59.999 == next bar open time: 2023-11-15T00:00:00.000 == close pos time: 2023-11-20T00:00:00.000
2024-12-13 00:56:52,897 - DEBUG - close time 2023-11-14T23:59:59.999 == vol_threshold: 26495168.0
2024-12-13 00:56:52,897 - DEBUG - 2023-11-14T23:59:59.999 == all trade symbol 189 == remain 132 after VOL filter
2024-12-13 00:56:52,900 - DEBUG - sorted_long_factors: shape: (132, 4)
┌───────────┬──────────────┬──────┬──────────────┐
│ symbol    ┆ factor_value ┆ rank ┆ reverse_rank │
│ ---       ┆ ---          ┆ ---  ┆ ---          │
│ str       ┆ f64          ┆ u32  ┆ u32          │
╞═══════════╪══════════════╪══════╪══════════════╡
│ WLDUSDT   ┆ -1.050255    ┆ 0    ┆ 131          │
│ MATICUSDT ┆ -0.870908    ┆ 1    ┆ 130          │
│ SEIUSDT   ┆ -0.81571     ┆ 2    ┆ 129          │
│ ARKMUSDT  ┆ -0.812022    ┆ 3    ┆ 128          │
│ DYDXUSDT  ┆ -0.809536    ┆ 4    ┆ 127          │
│ XRPUSDT   ┆ -0.72197     ┆ 5    ┆ 126          │
│ BNTUSDT   ┆ -0.684542    ┆ 6    ┆ 125          │
│ OPUSDT    ┆ -0.671315    ┆ 7    ┆ 124          │
│ FILUSDT   ┆ -0.671104    ┆ 8    ┆ 123          │
│ ZRXUSDT   ┆ -0.665218    ┆ 9    ┆ 122          │
│ …         ┆ …            ┆ …    ┆ …            │
│ RSRUSDT   ┆ 0.594085     ┆ 122  ┆ 9            │
│ IDEXUSDT  ┆ 0.596641     ┆ 123  ┆ 8            │
│ SPELLUSDT ┆ 0.615272     ┆ 124  ┆ 7            │
│ CHRUSDT   ┆ 0.667568     ┆ 125  ┆ 6            │
│ ATAUSDT   ┆ 0.670405     ┆ 126  ┆ 5            │
│ OXTUSDT   ┆ 0.692309     ┆ 127  ┆ 4            │
│ DENTUSDT  ┆ 0.728466     ┆ 128  ┆ 3            │
│ XVGUSDT   ┆ 0.801585     ┆ 129  ┆ 2            │
│ DGBUSDT   ┆ 0.837831     ┆ 130  ┆ 1            │
│ TRUUSDT   ┆ 0.957788     ┆ 131  ┆ 0            │
└───────────┴──────────────┴──────┴──────────────┘
2024-12-13 00:56:52,908 - WARNING - 2023-11-14T23:59:59.999=====cur_long_scale: 1.2 not match == long_value_ratio: 1.0
2024-12-13 00:56:52,908 - INFO - cur close time: 2023-11-14T23:59:59.999 == long_value_ratio: 1.0 == short_value_ratio: 1.0 --- 1.2
2024-12-13 00:56:52,908 - DEBUG - mean expected ret (mean factor): -0.03233804855565914
2024-12-13 00:56:52,913 - DEBUG - begin to update pos: =========
2024-12-13 00:56:52,913 - DEBUG - next_step_value: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬────────────┬───┬─────────┬────────┬─────────┬──────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUS ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT  │
│ T           ┆ DT          ┆ T           ┆ DT         ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---      │
│ ---         ┆ ---         ┆ ---         ┆ ---        ┆   ┆ i64     ┆ i64    ┆ i64     ┆ f64      │
│ i64         ┆ i64         ┆ i64         ┆ i64        ┆   ┆         ┆        ┆         ┆          │
╞═════════════╪═════════════╪═════════════╪════════════╪═══╪═════════╪════════╪═════════╪══════════╡
│ 0           ┆ 0           ┆ 0           ┆ 0          ┆ … ┆ 0       ┆ 0      ┆ 0       ┆ -10000.0 │
└─────────────┴─────────────┴─────────────┴────────────┴───┴─────────┴────────┴─────────┴──────────┘
2024-12-13 00:56:52,913 - DEBUG - all_open_price_when_open_pos: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ f64     ┆ f64    ┆ f64     ┆ f64     │
│ f64         ┆ f64         ┆ f64         ┆ f64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ null        ┆ 0.03335     ┆ 0.07783     ┆ 0.0011521   ┆ … ┆ 0.02098 ┆ null   ┆ null    ┆ 0.5232  │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:52,921 - DEBUG - update position: 2023-11-14T23:59:59.999 === diff_trading_value: 169976.88770887553 == cash: 128838.00356368425 
2024-12-13 00:56:52,921 - INFO - pnl: 2023-11-14T23:59:59.999 128838.00356368425 === -4.448%
2024-12-13 00:56:52,925 - DEBUG - cur time: 2023-11-15T23:59:59.999 == next bar open time: 2023-11-16T00:00:00.000 == close pos time: 2023-11-21T00:00:00.000
2024-12-13 00:56:52,927 - INFO - pnl: 2023-11-15T23:59:59.999 130103.07824134303 === 0.982%
2024-12-13 00:56:52,929 - DEBUG - cur time: 2023-11-16T23:59:59.999 == next bar open time: 2023-11-17T00:00:00.000 == close pos time: 2023-11-22T00:00:00.000
2024-12-13 00:56:52,933 - INFO - pnl: 2023-11-16T23:59:59.999 133429.4166675393 === 2.557%
2024-12-13 00:56:52,937 - DEBUG - cur time: 2023-11-17T23:59:59.999 == next bar open time: 2023-11-18T00:00:00.000 == close pos time: 2023-11-23T00:00:00.000
2024-12-13 00:56:52,937 - INFO - pnl: 2023-11-17T23:59:59.999 137853.25604219848 === 3.315%
2024-12-13 00:56:52,941 - DEBUG - cur time: 2023-11-18T23:59:59.999 == next bar open time: 2023-11-19T00:00:00.000 == close pos time: 2023-11-24T00:00:00.000
2024-12-13 00:56:52,941 - INFO - pnl: 2023-11-18T23:59:59.999 138122.40809508547 === 0.195%
2024-12-13 00:56:52,947 - DEBUG - cur time: 2023-11-19T23:59:59.999 == next bar open time: 2023-11-20T00:00:00.000 == close pos time: 2023-11-25T00:00:00.000
2024-12-13 00:56:52,957 - DEBUG - close time 2023-11-19T23:59:59.999 == vol_threshold: 14908832.12
2024-12-13 00:56:52,958 - DEBUG - 2023-11-19T23:59:59.999 == all trade symbol 190 == remain 133 after VOL filter
2024-12-13 00:56:52,958 - DEBUG - sorted_long_factors: shape: (133, 4)
┌───────────┬──────────────┬──────┬──────────────┐
│ symbol    ┆ factor_value ┆ rank ┆ reverse_rank │
│ ---       ┆ ---          ┆ ---  ┆ ---          │
│ str       ┆ f64          ┆ u32  ┆ u32          │
╞═══════════╪══════════════╪══════╪══════════════╡
│ BNTUSDT   ┆ -1.354331    ┆ 0    ┆ 132          │
│ HIFIUSDT  ┆ -1.066623    ┆ 1    ┆ 131          │
│ MATICUSDT ┆ -0.901184    ┆ 2    ┆ 130          │
│ MASKUSDT  ┆ -0.832429    ┆ 3    ┆ 129          │
│ XRPUSDT   ┆ -0.822553    ┆ 4    ┆ 128          │
│ LDOUSDT   ┆ -0.809433    ┆ 5    ┆ 127          │
│ DOTUSDT   ┆ -0.755831    ┆ 6    ┆ 126          │
│ WLDUSDT   ┆ -0.744093    ┆ 7    ┆ 125          │
│ SNXUSDT   ┆ -0.667752    ┆ 8    ┆ 124          │
│ OPUSDT    ┆ -0.638591    ┆ 9    ┆ 123          │
│ …         ┆ …            ┆ …    ┆ …            │
│ TRUUSDT   ┆ 0.72574      ┆ 123  ┆ 9            │
│ CKBUSDT   ┆ 0.7315       ┆ 124  ┆ 8            │
│ SPELLUSDT ┆ 0.759532     ┆ 125  ┆ 7            │
│ DENTUSDT  ┆ 0.775033     ┆ 126  ┆ 6            │
│ PHBUSDT   ┆ 0.784086     ┆ 127  ┆ 5            │
│ REEFUSDT  ┆ 0.799923     ┆ 128  ┆ 4            │
│ CTSIUSDT  ┆ 0.808377     ┆ 129  ┆ 3            │
│ XVGUSDT   ┆ 0.865681     ┆ 130  ┆ 2            │
│ TLMUSDT   ┆ 0.927256     ┆ 131  ┆ 1            │
│ IDEXUSDT  ┆ 1.668444     ┆ 132  ┆ 0            │
└───────────┴──────────────┴──────┴──────────────┘
2024-12-13 00:56:52,967 - INFO - cur close time: 2023-11-19T23:59:59.999 == long_value_ratio: 1.0 == short_value_ratio: 1.0 --- 1.0
2024-12-13 00:56:52,967 - DEBUG - mean expected ret (mean factor): -0.03082647568181405
2024-12-13 00:56:52,970 - DEBUG - begin to update pos: =========
2024-12-13 00:56:52,970 - DEBUG - next_step_value: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ i64     ┆ i64    ┆ i64     ┆ i64     │
│ i64         ┆ i64         ┆ i64         ┆ i64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0           ┆ 0           ┆ 0           ┆ 0           ┆ … ┆ 0       ┆ 0      ┆ 0       ┆ 0       │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:52,970 - DEBUG - all_open_price_when_open_pos: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ f64     ┆ f64    ┆ f64     ┆ f64     │
│ f64         ┆ f64         ┆ f64         ┆ f64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ null        ┆ 0.03286     ┆ 0.07784     ┆ 0.0011914   ┆ … ┆ 0.02221 ┆ null   ┆ null    ┆ 0.3997  │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:52,977 - DEBUG - update position: 2023-11-19T23:59:59.999 === diff_trading_value: 192659.73310674808 == cash: 138538.1711169203 
2024-12-13 00:56:52,977 - INFO - pnl: 2023-11-19T23:59:59.999 138538.1711169203 === 0.301%
2024-12-13 00:56:52,979 - DEBUG - cur time: 2023-11-20T23:59:59.999 == next bar open time: 2023-11-21T00:00:00.000 == close pos time: 2023-11-26T00:00:00.000
2024-12-13 00:56:52,983 - INFO - pnl: 2023-11-20T23:59:59.999 138495.95611945778 === -0.030%
2024-12-13 00:56:52,983 - DEBUG - cur time: 2023-11-21T23:59:59.999 == next bar open time: 2023-11-22T00:00:00.000 == close pos time: 2023-11-27T00:00:00.000
2024-12-13 00:56:52,987 - INFO - pnl: 2023-11-21T23:59:59.999 135471.2209408755 === -2.184%
2024-12-13 00:56:52,987 - DEBUG - cur time: 2023-11-22T23:59:59.999 == next bar open time: 2023-11-23T00:00:00.000 == close pos time: 2023-11-28T00:00:00.000
2024-12-13 00:56:52,991 - INFO - pnl: 2023-11-22T23:59:59.999 134321.35370474597 === -0.849%
2024-12-13 00:56:52,991 - DEBUG - cur time: 2023-11-23T23:59:59.999 == next bar open time: 2023-11-24T00:00:00.000 == close pos time: 2023-11-29T00:00:00.000
2024-12-13 00:56:52,995 - INFO - pnl: 2023-11-23T23:59:59.999 137158.82485182598 === 2.112%
2024-12-13 00:56:52,997 - DEBUG - cur time: 2023-11-24T23:59:59.999 == next bar open time: 2023-11-25T00:00:00.000 == close pos time: 2023-11-30T00:00:00.000
2024-12-13 00:56:53,007 - DEBUG - close time 2023-11-24T23:59:59.999 == vol_threshold: 19974914.0
2024-12-13 00:56:53,007 - DEBUG - 2023-11-24T23:59:59.999 == all trade symbol 191 == remain 133 after VOL filter
2024-12-13 00:56:53,011 - DEBUG - sorted_long_factors: shape: (133, 4)
┌──────────┬──────────────┬──────┬──────────────┐
│ symbol   ┆ factor_value ┆ rank ┆ reverse_rank │
│ ---      ┆ ---          ┆ ---  ┆ ---          │
│ str      ┆ f64          ┆ u32  ┆ u32          │
╞══════════╪══════════════╪══════╪══════════════╡
│ FILUSDT  ┆ -0.923027    ┆ 0    ┆ 132          │
│ SEIUSDT  ┆ -0.82612     ┆ 1    ┆ 131          │
│ ZRXUSDT  ┆ -0.824953    ┆ 2    ┆ 130          │
│ ARKMUSDT ┆ -0.79491     ┆ 3    ┆ 129          │
│ MINAUSDT ┆ -0.710451    ┆ 4    ┆ 128          │
│ DOTUSDT  ┆ -0.650943    ┆ 5    ┆ 127          │
│ SUIUSDT  ┆ -0.597582    ┆ 6    ┆ 126          │
│ ARKUSDT  ┆ -0.567814    ┆ 7    ┆ 125          │
│ NEARUSDT ┆ -0.525123    ┆ 8    ┆ 124          │
│ APEUSDT  ┆ -0.524445    ┆ 9    ┆ 123          │
│ …        ┆ …            ┆ …    ┆ …            │
│ REEFUSDT ┆ 0.674689     ┆ 123  ┆ 9            │
│ TUSDT    ┆ 0.676006     ┆ 124  ┆ 8            │
│ XVGUSDT  ┆ 0.724623     ┆ 125  ┆ 7            │
│ SKLUSDT  ┆ 0.724652     ┆ 126  ┆ 6            │
│ CKBUSDT  ┆ 0.76091      ┆ 127  ┆ 5            │
│ ATAUSDT  ┆ 0.774005     ┆ 128  ┆ 4            │
│ DENTUSDT ┆ 0.824635     ┆ 129  ┆ 3            │
│ TLMUSDT  ┆ 0.843808     ┆ 130  ┆ 2            │
│ IDEXUSDT ┆ 0.973859     ┆ 131  ┆ 1            │
│ DGBUSDT  ┆ 0.996018     ┆ 132  ┆ 0            │
└──────────┴──────────────┴──────┴──────────────┘
2024-12-13 00:56:53,017 - INFO - cur close time: 2023-11-24T23:59:59.999 == long_value_ratio: 1.0 == short_value_ratio: 1.0 --- 1.0
2024-12-13 00:56:53,019 - DEBUG - mean expected ret (mean factor): -0.010827009569026002
2024-12-13 00:56:53,024 - DEBUG - begin to update pos: =========
2024-12-13 00:56:53,025 - DEBUG - next_step_value: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬────────────┬───┬─────────┬────────┬─────────┬──────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUS ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT  │
│ T           ┆ DT          ┆ T           ┆ DT         ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---      │
│ ---         ┆ ---         ┆ ---         ┆ ---        ┆   ┆ i64     ┆ i64    ┆ i64     ┆ f64      │
│ i64         ┆ i64         ┆ i64         ┆ i64        ┆   ┆         ┆        ┆         ┆          │
╞═════════════╪═════════════╪═════════════╪════════════╪═══╪═════════╪════════╪═════════╪══════════╡
│ 0           ┆ 0           ┆ 0           ┆ 0          ┆ … ┆ 0       ┆ 0      ┆ 0       ┆ -10000.0 │
└─────────────┴─────────────┴─────────────┴────────────┴───┴─────────┴────────┴─────────┴──────────┘
2024-12-13 00:56:53,025 - DEBUG - all_open_price_when_open_pos: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ f64     ┆ f64    ┆ f64     ┆ f64     │
│ f64         ┆ f64         ┆ f64         ┆ f64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ null        ┆ 0.0326      ┆ 0.07423     ┆ 0.0011077   ┆ … ┆ 0.02107 ┆ null   ┆ null    ┆ 0.4374  │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:53,029 - DEBUG - update position: 2023-11-24T23:59:59.999 === diff_trading_value: 264975.95364868315 == cash: 140566.96925145615 
2024-12-13 00:56:53,033 - INFO - pnl: 2023-11-24T23:59:59.999 140566.96925145615 === 2.485%
2024-12-13 00:56:53,037 - DEBUG - cur time: 2023-11-25T23:59:59.999 == next bar open time: 2023-11-26T00:00:00.000 == close pos time: 2023-12-01T00:00:00.000
2024-12-13 00:56:53,037 - INFO - pnl: 2023-11-25T23:59:59.999 139898.16086898113 === -0.476%
2024-12-13 00:56:53,042 - DEBUG - cur time: 2023-11-26T23:59:59.999 == next bar open time: 2023-11-27T00:00:00.000 == close pos time: 2023-12-02T00:00:00.000
2024-12-13 00:56:53,045 - INFO - pnl: 2023-11-26T23:59:59.999 146080.73917868247 === 4.419%
2024-12-13 00:56:53,049 - DEBUG - cur time: 2023-11-27T23:59:59.999 == next bar open time: 2023-11-28T00:00:00.000 == close pos time: 2023-12-03T00:00:00.000
2024-12-13 00:56:53,049 - INFO - pnl: 2023-11-27T23:59:59.999 146471.2636971514 === 0.267%
2024-12-13 00:56:53,054 - DEBUG - cur time: 2023-11-28T23:59:59.999 == next bar open time: 2023-11-29T00:00:00.000 == close pos time: 2023-12-04T00:00:00.000
2024-12-13 00:56:53,054 - INFO - pnl: 2023-11-28T23:59:59.999 144084.7437469486 === -1.629%
2024-12-13 00:56:53,060 - DEBUG - cur time: 2023-11-29T23:59:59.999 == next bar open time: 2023-11-30T00:00:00.000 == close pos time: 2023-12-05T00:00:00.000
2024-12-13 00:56:53,070 - DEBUG - close time 2023-11-29T23:59:59.999 == vol_threshold: 16792392.98
2024-12-13 00:56:53,070 - DEBUG - 2023-11-29T23:59:59.999 == all trade symbol 192 == remain 134 after VOL filter
2024-12-13 00:56:53,071 - DEBUG - sorted_long_factors: shape: (134, 4)
┌───────────┬──────────────┬──────┬──────────────┐
│ symbol    ┆ factor_value ┆ rank ┆ reverse_rank │
│ ---       ┆ ---          ┆ ---  ┆ ---          │
│ str       ┆ f64          ┆ u32  ┆ u32          │
╞═══════════╪══════════════╪══════╪══════════════╡
│ MDTUSDT   ┆ -0.957947    ┆ 0    ┆ 133          │
│ NEARUSDT  ┆ -0.874308    ┆ 1    ┆ 132          │
│ SEIUSDT   ┆ -0.845031    ┆ 2    ┆ 131          │
│ SKLUSDT   ┆ -0.714281    ┆ 3    ┆ 130          │
│ RNDRUSDT  ┆ -0.634227    ┆ 4    ┆ 129          │
│ EOSUSDT   ┆ -0.628638    ┆ 5    ┆ 128          │
│ RUNEUSDT  ┆ -0.626272    ┆ 6    ┆ 127          │
│ MATICUSDT ┆ -0.621272    ┆ 7    ┆ 126          │
│ YGGUSDT   ┆ -0.609636    ┆ 8    ┆ 125          │
│ HIFIUSDT  ┆ -0.595645    ┆ 9    ┆ 124          │
│ …         ┆ …            ┆ …    ┆ …            │
│ CELRUSDT  ┆ 0.509513     ┆ 124  ┆ 9            │
│ CTKUSDT   ┆ 0.536265     ┆ 125  ┆ 8            │
│ DENTUSDT  ┆ 0.547956     ┆ 126  ┆ 7            │
│ REEFUSDT  ┆ 0.554727     ┆ 127  ┆ 6            │
│ TUSDT     ┆ 0.602972     ┆ 128  ┆ 5            │
│ IDEXUSDT  ┆ 0.714958     ┆ 129  ┆ 4            │
│ TLMUSDT   ┆ 0.835826     ┆ 130  ┆ 3            │
│ ATAUSDT   ┆ 0.859883     ┆ 131  ┆ 2            │
│ CKBUSDT   ┆ 1.263053     ┆ 132  ┆ 1            │
│ DGBUSDT   ┆ 1.265262     ┆ 133  ┆ 0            │
└───────────┴──────────────┴──────┴──────────────┘
2024-12-13 00:56:53,077 - INFO - cur close time: 2023-11-29T23:59:59.999 == long_value_ratio: 1.0 == short_value_ratio: 1.0 --- 1.0
2024-12-13 00:56:53,077 - DEBUG - mean expected ret (mean factor): -0.08896497567216459
2024-12-13 00:56:53,079 - DEBUG - begin to update pos: =========
2024-12-13 00:56:53,083 - DEBUG - next_step_value: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ i64     ┆ i64    ┆ i64     ┆ i64     │
│ i64         ┆ i64         ┆ i64         ┆ i64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0           ┆ 0           ┆ 0           ┆ 0           ┆ … ┆ 0       ┆ 0      ┆ 0       ┆ 0       │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:53,083 - DEBUG - all_open_price_when_open_pos: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ f64     ┆ f64    ┆ f64     ┆ f64     │
│ f64         ┆ f64         ┆ f64         ┆ f64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ null        ┆ 0.0319      ┆ 0.11634     ┆ 0.0010571   ┆ … ┆ 0.02157 ┆ null   ┆ null    ┆ 0.3965  │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:53,089 - DEBUG - update position: 2023-11-29T23:59:59.999 === diff_trading_value: 237803.50825487394 == cash: 146675.9693277778 
2024-12-13 00:56:53,090 - INFO - pnl: 2023-11-29T23:59:59.999 146675.9693277778 === 1.798%
2024-12-13 00:56:53,090 - DEBUG - cur time: 2023-11-30T23:59:59.999 == next bar open time: 2023-12-01T00:00:00.000 == close pos time: 2023-12-06T00:00:00.000
2024-12-13 00:56:53,094 - INFO - pnl: 2023-11-30T23:59:59.999 147070.0482715351 === 0.269%
2024-12-13 00:56:53,097 - DEBUG - cur time: 2023-12-01T23:59:59.999 == next bar open time: 2023-12-02T00:00:00.000 == close pos time: 2023-12-07T00:00:00.000
2024-12-13 00:56:53,098 - INFO - pnl: 2023-12-01T23:59:59.999 147377.57501120464 === 0.209%
2024-12-13 00:56:53,101 - DEBUG - cur time: 2023-12-02T23:59:59.999 == next bar open time: 2023-12-03T00:00:00.000 == close pos time: 2023-12-08T00:00:00.000
2024-12-13 00:56:53,101 - INFO - pnl: 2023-12-02T23:59:59.999 145867.07843964052 === -1.025%
2024-12-13 00:56:53,105 - DEBUG - cur time: 2023-12-03T23:59:59.999 == next bar open time: 2023-12-04T00:00:00.000 == close pos time: 2023-12-09T00:00:00.000
2024-12-13 00:56:53,107 - INFO - pnl: 2023-12-03T23:59:59.999 145921.07703663118 === 0.037%
2024-12-13 00:56:53,108 - DEBUG - cur time: 2023-12-04T23:59:59.999 == next bar open time: 2023-12-05T00:00:00.000 == close pos time: 2023-12-10T00:00:00.000
2024-12-13 00:56:53,117 - DEBUG - close time 2023-12-04T23:59:59.999 == vol_threshold: 31382819.82
2024-12-13 00:56:53,117 - DEBUG - 2023-12-04T23:59:59.999 == all trade symbol 193 == remain 135 after VOL filter
2024-12-13 00:56:53,120 - DEBUG - sorted_long_factors: shape: (135, 4)
┌───────────┬──────────────┬──────┬──────────────┐
│ symbol    ┆ factor_value ┆ rank ┆ reverse_rank │
│ ---       ┆ ---          ┆ ---  ┆ ---          │
│ str       ┆ f64          ┆ u32  ┆ u32          │
╞═══════════╪══════════════╪══════╪══════════════╡
│ WLDUSDT   ┆ -0.958215    ┆ 0    ┆ 134          │
│ SUSHIUSDT ┆ -0.793346    ┆ 1    ┆ 133          │
│ RNDRUSDT  ┆ -0.770131    ┆ 2    ┆ 132          │
│ MDTUSDT   ┆ -0.756547    ┆ 3    ┆ 131          │
│ ARKUSDT   ┆ -0.719179    ┆ 4    ┆ 130          │
│ NEARUSDT  ┆ -0.670088    ┆ 5    ┆ 129          │
│ APEUSDT   ┆ -0.632564    ┆ 6    ┆ 128          │
│ STXUSDT   ┆ -0.614259    ┆ 7    ┆ 127          │
│ MINAUSDT  ┆ -0.609642    ┆ 8    ┆ 126          │
│ LUNA2USDT ┆ -0.576694    ┆ 9    ┆ 125          │
│ …         ┆ …            ┆ …    ┆ …            │
│ RSRUSDT   ┆ 0.426063     ┆ 125  ┆ 9            │
│ AMBUSDT   ┆ 0.458218     ┆ 126  ┆ 8            │
│ IDEXUSDT  ┆ 0.595925     ┆ 127  ┆ 7            │
│ BICOUSDT  ┆ 0.639839     ┆ 128  ┆ 6            │
│ IOTXUSDT  ┆ 0.681591     ┆ 129  ┆ 5            │
│ TUSDT     ┆ 0.766045     ┆ 130  ┆ 4            │
│ GLMRUSDT  ┆ 0.766555     ┆ 131  ┆ 3            │
│ ATAUSDT   ┆ 0.821808     ┆ 132  ┆ 2            │
│ DGBUSDT   ┆ 1.054313     ┆ 133  ┆ 1            │
│ CKBUSDT   ┆ 1.2966       ┆ 134  ┆ 0            │
└───────────┴──────────────┴──────┴──────────────┘
2024-12-13 00:56:53,124 - WARNING - 2023-12-04T23:59:59.999=====cur_long_scale: 1.2 not match == long_value_ratio: 1.0
2024-12-13 00:56:53,124 - INFO - cur close time: 2023-12-04T23:59:59.999 == long_value_ratio: 1.0 == short_value_ratio: 1.0 --- 1.2
2024-12-13 00:56:53,124 - DEBUG - mean expected ret (mean factor): -0.04501286368432217
2024-12-13 00:56:53,129 - DEBUG - begin to update pos: =========
2024-12-13 00:56:53,129 - DEBUG - next_step_value: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ i64     ┆ i64    ┆ i64     ┆ i64     │
│ i64         ┆ i64         ┆ i64         ┆ i64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0           ┆ 0           ┆ 0           ┆ 0           ┆ … ┆ 0       ┆ 0      ┆ 0       ┆ 0       │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:53,129 - DEBUG - all_open_price_when_open_pos: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ f64     ┆ f64    ┆ f64     ┆ f64     │
│ f64         ┆ f64         ┆ f64         ┆ f64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ null        ┆ 0.0374      ┆ 0.25792     ┆ 0.0013954   ┆ … ┆ 0.02263 ┆ null   ┆ null    ┆ 0.4152  │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:53,137 - DEBUG - update position: 2023-12-04T23:59:59.999 === diff_trading_value: 267367.44266145537 == cash: 151478.7752131618 
2024-12-13 00:56:53,141 - INFO - pnl: 2023-12-04T23:59:59.999 151478.7752131618 === 3.809%
2024-12-13 00:56:53,145 - DEBUG - cur time: 2023-12-05T23:59:59.999 == next bar open time: 2023-12-06T00:00:00.000 == close pos time: 2023-12-11T00:00:00.000
2024-12-13 00:56:53,147 - INFO - pnl: 2023-12-05T23:59:59.999 153037.37010520275 === 1.029%
2024-12-13 00:56:53,150 - DEBUG - cur time: 2023-12-06T23:59:59.999 == next bar open time: 2023-12-07T00:00:00.000 == close pos time: 2023-12-12T00:00:00.000
2024-12-13 00:56:53,150 - INFO - pnl: 2023-12-06T23:59:59.999 155667.23884714022 === 1.718%
2024-12-13 00:56:53,154 - DEBUG - cur time: 2023-12-07T23:59:59.999 == next bar open time: 2023-12-08T00:00:00.000 == close pos time: 2023-12-13T00:00:00.000
2024-12-13 00:56:53,157 - INFO - pnl: 2023-12-07T23:59:59.999 156943.3138335101 === 0.820%
2024-12-13 00:56:53,161 - DEBUG - cur time: 2023-12-08T23:59:59.999 == next bar open time: 2023-12-09T00:00:00.000 == close pos time: 2023-12-14T00:00:00.000
2024-12-13 00:56:53,161 - INFO - pnl: 2023-12-08T23:59:59.999 157023.7635309084 === 0.051%
2024-12-13 00:56:53,166 - DEBUG - cur time: 2023-12-09T23:59:59.999 == next bar open time: 2023-12-10T00:00:00.000 == close pos time: 2023-12-15T00:00:00.000
2024-12-13 00:56:53,176 - DEBUG - close time 2023-12-09T23:59:59.999 == vol_threshold: 24864897.419999994
2024-12-13 00:56:53,177 - DEBUG - 2023-12-09T23:59:59.999 == all trade symbol 193 == remain 135 after VOL filter
2024-12-13 00:56:53,178 - DEBUG - sorted_long_factors: shape: (135, 4)
┌─────────────┬──────────────┬──────┬──────────────┐
│ symbol      ┆ factor_value ┆ rank ┆ reverse_rank │
│ ---         ┆ ---          ┆ ---  ┆ ---          │
│ str         ┆ f64          ┆ u32  ┆ u32          │
╞═════════════╪══════════════╪══════╪══════════════╡
│ UNIUSDT     ┆ -1.015402    ┆ 0    ┆ 134          │
│ ATOMUSDT    ┆ -1.008281    ┆ 1    ┆ 133          │
│ DOTUSDT     ┆ -0.753282    ┆ 2    ┆ 132          │
│ BLURUSDT    ┆ -0.750914    ┆ 3    ┆ 131          │
│ HOOKUSDT    ┆ -0.746919    ┆ 4    ┆ 130          │
│ APEUSDT     ┆ -0.713779    ┆ 5    ┆ 129          │
│ IDUSDT      ┆ -0.706805    ┆ 6    ┆ 128          │
│ EOSUSDT     ┆ -0.693981    ┆ 7    ┆ 127          │
│ ADAUSDT     ┆ -0.675148    ┆ 8    ┆ 126          │
│ IMXUSDT     ┆ -0.657099    ┆ 9    ┆ 125          │
│ …           ┆ …            ┆ …    ┆ …            │
│ DUSKUSDT    ┆ 0.458047     ┆ 125  ┆ 9            │
│ IOTXUSDT    ┆ 0.470922     ┆ 126  ┆ 8            │
│ BICOUSDT    ┆ 0.47184      ┆ 127  ┆ 7            │
│ HOTUSDT     ┆ 0.476781     ┆ 128  ┆ 6            │
│ TUSDT       ┆ 0.477036     ┆ 129  ┆ 5            │
│ IDEXUSDT    ┆ 0.531555     ┆ 130  ┆ 4            │
│ ATAUSDT     ┆ 0.542636     ┆ 131  ┆ 3            │
│ 1000XECUSDT ┆ 0.616584     ┆ 132  ┆ 2            │
│ CKBUSDT     ┆ 0.644193     ┆ 133  ┆ 1            │
│ DGBUSDT     ┆ 0.959931     ┆ 134  ┆ 0            │
└─────────────┴──────────────┴──────┴──────────────┘
2024-12-13 00:56:53,182 - INFO - cur close time: 2023-12-09T23:59:59.999 == long_value_ratio: 1.0 == short_value_ratio: 1.0 --- 1.0
2024-12-13 00:56:53,182 - DEBUG - mean expected ret (mean factor): -0.07317703033752652
2024-12-13 00:56:53,187 - DEBUG - begin to update pos: =========
2024-12-13 00:56:53,187 - DEBUG - next_step_value: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ i64     ┆ i64    ┆ i64     ┆ i64     │
│ i64         ┆ i64         ┆ i64         ┆ i64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0           ┆ 0           ┆ 0           ┆ 0           ┆ … ┆ 0       ┆ 0      ┆ 0       ┆ 0       │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:53,187 - DEBUG - all_open_price_when_open_pos: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ f64     ┆ f64    ┆ f64     ┆ f64     │
│ f64         ┆ f64         ┆ f64         ┆ f64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ null        ┆ 0.04035     ┆ 0.17947     ┆ 0.0015329   ┆ … ┆ 0.02486 ┆ null   ┆ null    ┆ 0.4312  │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:53,197 - DEBUG - update position: 2023-12-09T23:59:59.999 === diff_trading_value: 283374.11805862695 == cash: 158704.77663847612 
2024-12-13 00:56:53,197 - INFO - pnl: 2023-12-09T23:59:59.999 158704.77663847612 === 1.071%
2024-12-13 00:56:53,199 - DEBUG - cur time: 2023-12-10T23:59:59.999 == next bar open time: 2023-12-11T00:00:00.000 == close pos time: 2023-12-16T00:00:00.000
2024-12-13 00:56:53,203 - INFO - pnl: 2023-12-10T23:59:59.999 159684.67873322478 === 0.617%
2024-12-13 00:56:53,207 - DEBUG - cur time: 2023-12-11T23:59:59.999 == next bar open time: 2023-12-12T00:00:00.000 == close pos time: 2023-12-17T00:00:00.000
2024-12-13 00:56:53,209 - INFO - pnl: 2023-12-11T23:59:59.999 158762.05651441516 === -0.578%
2024-12-13 00:56:53,211 - DEBUG - cur time: 2023-12-12T23:59:59.999 == next bar open time: 2023-12-13T00:00:00.000 == close pos time: 2023-12-18T00:00:00.000
2024-12-13 00:56:53,211 - INFO - pnl: 2023-12-12T23:59:59.999 157600.80085509148 === -0.731%
2024-12-13 00:56:53,215 - DEBUG - cur time: 2023-12-13T23:59:59.999 == next bar open time: 2023-12-14T00:00:00.000 == close pos time: 2023-12-19T00:00:00.000
2024-12-13 00:56:53,217 - INFO - pnl: 2023-12-13T23:59:59.999 154129.3660215328 === -2.203%
2024-12-13 00:56:53,220 - DEBUG - cur time: 2023-12-14T23:59:59.999 == next bar open time: 2023-12-15T00:00:00.000 == close pos time: 2023-12-20T00:00:00.000
2024-12-13 00:56:53,237 - DEBUG - close time 2023-12-14T23:59:59.999 == vol_threshold: 20017064.79999999
2024-12-13 00:56:53,237 - DEBUG - 2023-12-14T23:59:59.999 == all trade symbol 195 == remain 136 after VOL filter
2024-12-13 00:56:53,239 - DEBUG - sorted_long_factors: shape: (136, 4)
┌──────────────┬──────────────┬──────┬──────────────┐
│ symbol       ┆ factor_value ┆ rank ┆ reverse_rank │
│ ---          ┆ ---          ┆ ---  ┆ ---          │
│ str          ┆ f64          ┆ u32  ┆ u32          │
╞══════════════╪══════════════╪══════╪══════════════╡
│ STXUSDT      ┆ -0.901017    ┆ 0    ┆ 135          │
│ LUNA2USDT    ┆ -0.842605    ┆ 1    ┆ 134          │
│ SEIUSDT      ┆ -0.756352    ┆ 2    ┆ 133          │
│ BLURUSDT     ┆ -0.699129    ┆ 3    ┆ 132          │
│ EOSUSDT      ┆ -0.694486    ┆ 4    ┆ 131          │
│ WLDUSDT      ┆ -0.663453    ┆ 5    ┆ 130          │
│ INJUSDT      ┆ -0.644062    ┆ 6    ┆ 129          │
│ RNDRUSDT     ┆ -0.601516    ┆ 7    ┆ 128          │
│ STORJUSDT    ┆ -0.587991    ┆ 8    ┆ 127          │
│ 1000LUNCUSDT ┆ -0.586316    ┆ 9    ┆ 126          │
│ …            ┆ …            ┆ …    ┆ …            │
│ CELRUSDT     ┆ 0.450514     ┆ 126  ┆ 9            │
│ OXTUSDT      ┆ 0.451257     ┆ 127  ┆ 8            │
│ BICOUSDT     ┆ 0.453083     ┆ 128  ┆ 7            │
│ ALPHAUSDT    ┆ 0.470783     ┆ 129  ┆ 6            │
│ DUSKUSDT     ┆ 0.550885     ┆ 130  ┆ 5            │
│ IDEXUSDT     ┆ 0.581639     ┆ 131  ┆ 4            │
│ DENTUSDT     ┆ 0.602318     ┆ 132  ┆ 3            │
│ TRUUSDT      ┆ 0.697603     ┆ 133  ┆ 2            │
│ DGBUSDT      ┆ 0.786818     ┆ 134  ┆ 1            │
│ CKBUSDT      ┆ 1.041487     ┆ 135  ┆ 0            │
└──────────────┴──────────────┴──────┴──────────────┘
2024-12-13 00:56:53,248 - INFO - cur close time: 2023-12-14T23:59:59.999 == long_value_ratio: 1.0 == short_value_ratio: 1.0 --- 1.0
2024-12-13 00:56:53,248 - DEBUG - mean expected ret (mean factor): -0.0747418371040291
2024-12-13 00:56:53,251 - DEBUG - begin to update pos: =========
2024-12-13 00:56:53,251 - DEBUG - next_step_value: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ i64     ┆ i64    ┆ i64     ┆ i64     │
│ i64         ┆ i64         ┆ f64         ┆ i64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0           ┆ 0           ┆ -10000.0    ┆ 0           ┆ … ┆ 0       ┆ 0      ┆ 0       ┆ 0       │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:53,251 - DEBUG - all_open_price_when_open_pos: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ f64     ┆ f64    ┆ f64     ┆ f64     │
│ f64         ┆ f64         ┆ f64         ┆ f64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ null        ┆ 0.03986     ┆ 0.18051     ┆ 0.0014855   ┆ … ┆ 0.02454 ┆ null   ┆ null    ┆ 0.3914  │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:53,258 - DEBUG - update position: 2023-12-14T23:59:59.999 === diff_trading_value: 249972.48571996452 == cash: 156593.4983170253 
2024-12-13 00:56:53,262 - INFO - pnl: 2023-12-14T23:59:59.999 156593.4983170253 === 1.599%
2024-12-13 00:56:53,266 - DEBUG - cur time: 2023-12-15T23:59:59.999 == next bar open time: 2023-12-16T00:00:00.000 == close pos time: 2023-12-21T00:00:00.000
2024-12-13 00:56:53,267 - INFO - pnl: 2023-12-15T23:59:59.999 157740.05749203183 === 0.732%
2024-12-13 00:56:53,269 - DEBUG - cur time: 2023-12-16T23:59:59.999 == next bar open time: 2023-12-17T00:00:00.000 == close pos time: 2023-12-22T00:00:00.000
2024-12-13 00:56:53,269 - INFO - pnl: 2023-12-16T23:59:59.999 154369.97656013412 === -2.136%
2024-12-13 00:56:53,273 - DEBUG - cur time: 2023-12-17T23:59:59.999 == next bar open time: 2023-12-18T00:00:00.000 == close pos time: 2023-12-23T00:00:00.000
2024-12-13 00:56:53,277 - INFO - pnl: 2023-12-17T23:59:59.999 150907.49790108786 === -2.243%
2024-12-13 00:56:53,277 - DEBUG - cur time: 2023-12-18T23:59:59.999 == next bar open time: 2023-12-19T00:00:00.000 == close pos time: 2023-12-24T00:00:00.000
2024-12-13 00:56:53,281 - INFO - pnl: 2023-12-18T23:59:59.999 145551.13630265955 === -3.549%
2024-12-13 00:56:53,281 - DEBUG - cur time: 2023-12-19T23:59:59.999 == next bar open time: 2023-12-20T00:00:00.000 == close pos time: 2023-12-25T00:00:00.000
2024-12-13 00:56:53,294 - DEBUG - close time 2023-12-19T23:59:59.999 == vol_threshold: 16149416.448
2024-12-13 00:56:53,294 - DEBUG - 2023-12-19T23:59:59.999 == all trade symbol 197 == remain 138 after VOL filter
2024-12-13 00:56:53,297 - DEBUG - sorted_long_factors: shape: (138, 4)
┌──────────────┬──────────────┬──────┬──────────────┐
│ symbol       ┆ factor_value ┆ rank ┆ reverse_rank │
│ ---          ┆ ---          ┆ ---  ┆ ---          │
│ str          ┆ f64          ┆ u32  ┆ u32          │
╞══════════════╪══════════════╪══════╪══════════════╡
│ BIGTIMEUSDT  ┆ -1.009902    ┆ 0    ┆ 137          │
│ SEIUSDT      ┆ -0.959259    ┆ 1    ┆ 136          │
│ APTUSDT      ┆ -0.923178    ┆ 2    ┆ 135          │
│ LUNA2USDT    ┆ -0.917439    ┆ 3    ┆ 134          │
│ WAVESUSDT    ┆ -0.880458    ┆ 4    ┆ 133          │
│ ARKMUSDT     ┆ -0.853949    ┆ 5    ┆ 132          │
│ MINAUSDT     ┆ -0.814653    ┆ 6    ┆ 131          │
│ 1000LUNCUSDT ┆ -0.778848    ┆ 7    ┆ 130          │
│ STXUSDT      ┆ -0.778408    ┆ 8    ┆ 129          │
│ STRAXUSDT    ┆ -0.771366    ┆ 9    ┆ 128          │
│ …            ┆ …            ┆ …    ┆ …            │
│ DARUSDT      ┆ 0.733641     ┆ 128  ┆ 9            │
│ DODOXUSDT    ┆ 0.761539     ┆ 129  ┆ 8            │
│ COTIUSDT     ┆ 0.770884     ┆ 130  ┆ 7            │
│ SPELLUSDT    ┆ 0.786488     ┆ 131  ┆ 6            │
│ DUSKUSDT     ┆ 0.881516     ┆ 132  ┆ 5            │
│ KEYUSDT      ┆ 0.954946     ┆ 133  ┆ 4            │
│ TRUUSDT      ┆ 0.98345      ┆ 134  ┆ 3            │
│ XVGUSDT      ┆ 1.082856     ┆ 135  ┆ 2            │
│ DGBUSDT      ┆ 1.375276     ┆ 136  ┆ 1            │
│ CKBUSDT      ┆ 1.548138     ┆ 137  ┆ 0            │
└──────────────┴──────────────┴──────┴──────────────┘
2024-12-13 00:56:53,302 - INFO - cur close time: 2023-12-19T23:59:59.999 == long_value_ratio: 1.0 == short_value_ratio: 1.0 --- 1.0
2024-12-13 00:56:53,302 - DEBUG - mean expected ret (mean factor): -0.07119018632084341
2024-12-13 00:56:53,307 - DEBUG - begin to update pos: =========
2024-12-13 00:56:53,307 - DEBUG - next_step_value: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ i64     ┆ i64    ┆ i64     ┆ i64     │
│ i64         ┆ i64         ┆ f64         ┆ i64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0           ┆ 0           ┆ -10000.0    ┆ 0           ┆ … ┆ 0       ┆ 0      ┆ 0       ┆ 0       │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:53,307 - DEBUG - all_open_price_when_open_pos: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ f64     ┆ f64    ┆ f64     ┆ f64     │
│ f64         ┆ f64         ┆ f64         ┆ f64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ null        ┆ 0.03411     ┆ 0.16116     ┆ 0.0012483   ┆ … ┆ 0.02249 ┆ null   ┆ null    ┆ 0.3677  │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:53,312 - DEBUG - update position: 2023-12-19T23:59:59.999 === diff_trading_value: 228061.3883952548 == cash: 140304.04360610846 
2024-12-13 00:56:53,312 - INFO - pnl: 2023-12-19T23:59:59.999 140304.04360610846 === -3.605%
2024-12-13 00:56:53,317 - DEBUG - cur time: 2023-12-20T23:59:59.999 == next bar open time: 2023-12-21T00:00:00.000 == close pos time: 2023-12-26T00:00:00.000
2024-12-13 00:56:53,317 - INFO - pnl: 2023-12-20T23:59:59.999 138629.46348882245 === -1.194%
2024-12-13 00:56:53,321 - DEBUG - cur time: 2023-12-21T23:59:59.999 == next bar open time: 2023-12-22T00:00:00.000 == close pos time: 2023-12-27T00:00:00.000
2024-12-13 00:56:53,321 - INFO - pnl: 2023-12-21T23:59:59.999 141459.46191934383 === 2.041%
2024-12-13 00:56:53,327 - DEBUG - cur time: 2023-12-22T23:59:59.999 == next bar open time: 2023-12-23T00:00:00.000 == close pos time: 2023-12-28T00:00:00.000
2024-12-13 00:56:53,329 - INFO - pnl: 2023-12-22T23:59:59.999 145179.50729769937 === 2.630%
2024-12-13 00:56:53,333 - DEBUG - cur time: 2023-12-23T23:59:59.999 == next bar open time: 2023-12-24T00:00:00.000 == close pos time: 2023-12-29T00:00:00.000
2024-12-13 00:56:53,333 - INFO - pnl: 2023-12-23T23:59:59.999 144020.34041096107 === -0.798%
2024-12-13 00:56:53,338 - DEBUG - cur time: 2023-12-24T23:59:59.999 == next bar open time: 2023-12-25T00:00:00.000 == close pos time: 2023-12-30T00:00:00.000
2024-12-13 00:56:53,347 - DEBUG - close time 2023-12-24T23:59:59.999 == vol_threshold: 28690643.4
2024-12-13 00:56:53,350 - DEBUG - 2023-12-24T23:59:59.999 == all trade symbol 202 == remain 141 after VOL filter
2024-12-13 00:56:53,350 - DEBUG - sorted_long_factors: shape: (141, 4)
┌─────────────┬──────────────┬──────┬──────────────┐
│ symbol      ┆ factor_value ┆ rank ┆ reverse_rank │
│ ---         ┆ ---          ┆ ---  ┆ ---          │
│ str         ┆ f64          ┆ u32  ┆ u32          │
╞═════════════╪══════════════╪══════╪══════════════╡
│ APTUSDT     ┆ -1.097749    ┆ 0    ┆ 140          │
│ AXSUSDT     ┆ -0.883919    ┆ 1    ┆ 139          │
│ RUNEUSDT    ┆ -0.874685    ┆ 2    ┆ 138          │
│ WLDUSDT     ┆ -0.831865    ┆ 3    ┆ 137          │
│ MINAUSDT    ┆ -0.827822    ┆ 4    ┆ 136          │
│ FILUSDT     ┆ -0.820334    ┆ 5    ┆ 135          │
│ BIGTIMEUSDT ┆ -0.806251    ┆ 6    ┆ 134          │
│ UNIUSDT     ┆ -0.785093    ┆ 7    ┆ 133          │
│ OPUSDT      ┆ -0.757504    ┆ 8    ┆ 132          │
│ GLMRUSDT    ┆ -0.705611    ┆ 9    ┆ 131          │
│ …           ┆ …            ┆ …    ┆ …            │
│ RIFUSDT     ┆ 0.534176     ┆ 131  ┆ 9            │
│ KEYUSDT     ┆ 0.550401     ┆ 132  ┆ 8            │
│ TUSDT       ┆ 0.580769     ┆ 133  ┆ 7            │
│ IDEXUSDT    ┆ 0.609174     ┆ 134  ┆ 6            │
│ CKBUSDT     ┆ 0.669417     ┆ 135  ┆ 5            │
│ XVGUSDT     ┆ 0.707915     ┆ 136  ┆ 4            │
│ DGBUSDT     ┆ 0.741328     ┆ 137  ┆ 3            │
│ STPTUSDT    ┆ 0.758901     ┆ 138  ┆ 2            │
│ DUSKUSDT    ┆ 0.803628     ┆ 139  ┆ 1            │
│ LEVERUSDT   ┆ 0.963845     ┆ 140  ┆ 0            │
└─────────────┴──────────────┴──────┴──────────────┘
2024-12-13 00:56:53,358 - WARNING - 2023-12-24T23:59:59.999=====cur_long_scale: 1.2 not match == long_value_ratio: 1.0
2024-12-13 00:56:53,358 - INFO - cur close time: 2023-12-24T23:59:59.999 == long_value_ratio: 1.0 == short_value_ratio: 1.0 --- 1.2
2024-12-13 00:56:53,358 - DEBUG - mean expected ret (mean factor): -0.10699132868454231
2024-12-13 00:56:53,362 - DEBUG - begin to update pos: =========
2024-12-13 00:56:53,362 - DEBUG - next_step_value: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ i64     ┆ i64    ┆ i64     ┆ f64     │
│ i64         ┆ f64         ┆ i64         ┆ i64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0           ┆ 5000.0      ┆ 0           ┆ 0           ┆ … ┆ 0       ┆ 0      ┆ 0       ┆ 5000.0  │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:53,362 - DEBUG - all_open_price_when_open_pos: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ f64     ┆ f64    ┆ f64     ┆ f64     │
│ f64         ┆ f64         ┆ f64         ┆ f64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ null        ┆ 0.03521     ┆ 0.15627     ┆ 0.0013746   ┆ … ┆ 0.02656 ┆ null   ┆ null    ┆ 0.3575  │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:53,369 - DEBUG - update position: 2023-12-24T23:59:59.999 === diff_trading_value: 226445.6598260114 == cash: 145456.58026020435 
2024-12-13 00:56:53,369 - INFO - pnl: 2023-12-24T23:59:59.999 145456.58026020435 === 0.997%
2024-12-13 00:56:53,374 - DEBUG - cur time: 2023-12-25T23:59:59.999 == next bar open time: 2023-12-26T00:00:00.000 == close pos time: 2023-12-31T00:00:00.000
2024-12-13 00:56:53,377 - INFO - pnl: 2023-12-25T23:59:59.999 145596.6549277552 === 0.096%
2024-12-13 00:56:53,379 - DEBUG - cur time: 2023-12-26T23:59:59.999 == next bar open time: 2023-12-27T00:00:00.000 == close pos time: 2024-01-01T00:00:00.000
2024-12-13 00:56:53,379 - INFO - pnl: 2023-12-26T23:59:59.999 149962.2860908681 === 2.998%
2024-12-13 00:56:53,383 - DEBUG - cur time: 2023-12-27T23:59:59.999 == next bar open time: 2023-12-28T00:00:00.000 == close pos time: 2024-01-02T00:00:00.000
2024-12-13 00:56:53,387 - INFO - pnl: 2023-12-27T23:59:59.999 151148.5753394067 === 0.791%
2024-12-13 00:56:53,391 - DEBUG - cur time: 2023-12-28T23:59:59.999 == next bar open time: 2023-12-29T00:00:00.000 == close pos time: 2024-01-03T00:00:00.000
2024-12-13 00:56:53,391 - INFO - pnl: 2023-12-28T23:59:59.999 150014.80262633704 === -0.750%
2024-12-13 00:56:53,395 - DEBUG - cur time: 2023-12-29T23:59:59.999 == next bar open time: 2023-12-30T00:00:00.000 == close pos time: 2024-01-04T00:00:00.000
2024-12-13 00:56:53,408 - DEBUG - close time 2023-12-29T23:59:59.999 == vol_threshold: 17913643.599999998
2024-12-13 00:56:53,408 - DEBUG - 2023-12-29T23:59:59.999 == all trade symbol 204 == remain 143 after VOL filter
2024-12-13 00:56:53,408 - DEBUG - sorted_long_factors: shape: (143, 4)
┌─────────────┬──────────────┬──────┬──────────────┐
│ symbol      ┆ factor_value ┆ rank ┆ reverse_rank │
│ ---         ┆ ---          ┆ ---  ┆ ---          │
│ str         ┆ f64          ┆ u32  ┆ u32          │
╞═════════════╪══════════════╪══════╪══════════════╡
│ FILUSDT     ┆ -1.044401    ┆ 0    ┆ 142          │
│ GMTUSDT     ┆ -0.736062    ┆ 1    ┆ 141          │
│ SEIUSDT     ┆ -0.704212    ┆ 2    ┆ 140          │
│ BIGTIMEUSDT ┆ -0.678029    ┆ 3    ┆ 139          │
│ RNDRUSDT    ┆ -0.66069     ┆ 4    ┆ 138          │
│ OPUSDT      ┆ -0.651543    ┆ 5    ┆ 137          │
│ ICPUSDT     ┆ -0.650839    ┆ 6    ┆ 136          │
│ CELOUSDT    ┆ -0.646535    ┆ 7    ┆ 135          │
│ LRCUSDT     ┆ -0.643206    ┆ 8    ┆ 134          │
│ ARBUSDT     ┆ -0.625478    ┆ 9    ┆ 133          │
│ …           ┆ …            ┆ …    ┆ …            │
│ RIFUSDT     ┆ 0.605402     ┆ 133  ┆ 9            │
│ TLMUSDT     ┆ 0.606674     ┆ 134  ┆ 8            │
│ NKNUSDT     ┆ 0.638362     ┆ 135  ┆ 7            │
│ BAKEUSDT    ┆ 0.669194     ┆ 136  ┆ 6            │
│ DARUSDT     ┆ 0.701481     ┆ 137  ┆ 5            │
│ TUSDT       ┆ 0.728002     ┆ 138  ┆ 4            │
│ NEARUSDT    ┆ 0.78352      ┆ 139  ┆ 3            │
│ DGBUSDT     ┆ 0.812324     ┆ 140  ┆ 2            │
│ CKBUSDT     ┆ 0.92506      ┆ 141  ┆ 1            │
│ STPTUSDT    ┆ 1.097606     ┆ 142  ┆ 0            │
└─────────────┴──────────────┴──────┴──────────────┘
2024-12-13 00:56:53,412 - WARNING - 2023-12-29T23:59:59.999=====cur_long_scale: 1.2 not match == long_value_ratio: 1.0
2024-12-13 00:56:53,412 - INFO - cur close time: 2023-12-29T23:59:59.999 == long_value_ratio: 1.0 == short_value_ratio: 1.0 --- 1.2
2024-12-13 00:56:53,412 - DEBUG - mean expected ret (mean factor): -0.05300266420763241
2024-12-13 00:56:53,417 - DEBUG - begin to update pos: =========
2024-12-13 00:56:53,417 - DEBUG - next_step_value: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ i64     ┆ i64    ┆ i64     ┆ i64     │
│ i64         ┆ i64         ┆ i64         ┆ i64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0           ┆ 0           ┆ 0           ┆ 0           ┆ … ┆ 0       ┆ 0      ┆ 0       ┆ 0       │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:53,420 - DEBUG - all_open_price_when_open_pos: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ f64     ┆ f64    ┆ f64     ┆ f64     │
│ f64         ┆ f64         ┆ f64         ┆ f64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ null        ┆ 0.03527     ┆ 0.14071     ┆ 0.001349    ┆ … ┆ 0.02527 ┆ null   ┆ null    ┆ 0.3669  │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:53,425 - DEBUG - update position: 2023-12-29T23:59:59.999 === diff_trading_value: 258167.31764510553 == cash: 147681.21117209148 
2024-12-13 00:56:53,427 - INFO - pnl: 2023-12-29T23:59:59.999 147681.21117209148 === -1.556%
2024-12-13 00:56:53,429 - DEBUG - cur time: 2023-12-30T23:59:59.999 == next bar open time: 2023-12-31T00:00:00.000 == close pos time: 2024-01-05T00:00:00.000
2024-12-13 00:56:53,429 - INFO - pnl: 2023-12-30T23:59:59.999 145506.3357492158 === -1.473%
2024-12-13 00:56:53,435 - DEBUG - cur time: 2023-12-31T23:59:59.999 == next bar open time: 2024-01-01T00:00:00.000 == close pos time: 2024-01-06T00:00:00.000
2024-12-13 00:56:53,438 - INFO - pnl: 2023-12-31T23:59:59.999 143036.71508752185 === -1.697%
2024-12-13 00:56:53,438 - DEBUG - cur time: 2024-01-01T23:59:59.999 == next bar open time: 2024-01-02T00:00:00.000 == close pos time: 2024-01-07T00:00:00.000
2024-12-13 00:56:53,441 - INFO - pnl: 2024-01-01T23:59:59.999 141002.77509739937 === -1.422%
2024-12-13 00:56:53,447 - DEBUG - cur time: 2024-01-02T23:59:59.999 == next bar open time: 2024-01-03T00:00:00.000 == close pos time: 2024-01-08T00:00:00.000
2024-12-13 00:56:53,451 - INFO - pnl: 2024-01-02T23:59:59.999 140630.01325503527 === -0.264%
2024-12-13 00:56:53,455 - DEBUG - cur time: 2024-01-03T23:59:59.999 == next bar open time: 2024-01-04T00:00:00.000 == close pos time: 2024-01-09T00:00:00.000
2024-12-13 00:56:53,467 - DEBUG - close time 2024-01-03T23:59:59.999 == vol_threshold: 38903256.599999994
2024-12-13 00:56:53,469 - DEBUG - 2024-01-03T23:59:59.999 == all trade symbol 207 == remain 145 after VOL filter
2024-12-13 00:56:53,469 - DEBUG - sorted_long_factors: shape: (145, 4)
┌───────────┬──────────────┬──────┬──────────────┐
│ symbol    ┆ factor_value ┆ rank ┆ reverse_rank │
│ ---       ┆ ---          ┆ ---  ┆ ---          │
│ str       ┆ f64          ┆ u32  ┆ u32          │
╞═══════════╪══════════════╪══════╪══════════════╡
│ CYBERUSDT ┆ -0.992285    ┆ 0    ┆ 144          │
│ ARBUSDT   ┆ -0.97064     ┆ 1    ┆ 143          │
│ WLDUSDT   ┆ -0.862472    ┆ 2    ┆ 142          │
│ ENSUSDT   ┆ -0.847226    ┆ 3    ┆ 141          │
│ RUNEUSDT  ┆ -0.797151    ┆ 4    ┆ 140          │
│ NEARUSDT  ┆ -0.767865    ┆ 5    ┆ 139          │
│ YGGUSDT   ┆ -0.759145    ┆ 6    ┆ 138          │
│ FILUSDT   ┆ -0.743575    ┆ 7    ┆ 137          │
│ ICPUSDT   ┆ -0.726254    ┆ 8    ┆ 136          │
│ SEIUSDT   ┆ -0.69993     ┆ 9    ┆ 135          │
│ …         ┆ …            ┆ …    ┆ …            │
│ RVNUSDT   ┆ 0.617243     ┆ 135  ┆ 9            │
│ AMBUSDT   ┆ 0.633547     ┆ 136  ┆ 8            │
│ COTIUSDT  ┆ 0.645057     ┆ 137  ┆ 7            │
│ TLMUSDT   ┆ 0.658826     ┆ 138  ┆ 6            │
│ DARUSDT   ┆ 0.771318     ┆ 139  ┆ 5            │
│ NKNUSDT   ┆ 0.784718     ┆ 140  ┆ 4            │
│ STPTUSDT  ┆ 0.843261     ┆ 141  ┆ 3            │
│ DGBUSDT   ┆ 0.937477     ┆ 142  ┆ 2            │
│ IDEXUSDT  ┆ 1.023082     ┆ 143  ┆ 1            │
│ CKBUSDT   ┆ 1.160746     ┆ 144  ┆ 0            │
└───────────┴──────────────┴──────┴──────────────┘
2024-12-13 00:56:53,477 - WARNING - 2024-01-03T23:59:59.999=====cur_long_scale: 0.8 not match == long_value_ratio: 1.0
2024-12-13 00:56:53,477 - INFO - cur close time: 2024-01-03T23:59:59.999 == long_value_ratio: 1.0 == short_value_ratio: 1.0 --- 0.8
2024-12-13 00:56:53,477 - DEBUG - mean expected ret (mean factor): -0.10930419713697205
2024-12-13 00:56:53,481 - DEBUG - begin to update pos: =========
2024-12-13 00:56:53,481 - DEBUG - next_step_value: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ i64     ┆ i64    ┆ i64     ┆ i64     │
│ i64         ┆ f64         ┆ i64         ┆ i64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0           ┆ 5000.0      ┆ 0           ┆ 0           ┆ … ┆ 0       ┆ 0      ┆ 0       ┆ 0       │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:53,481 - DEBUG - all_open_price_when_open_pos: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ f64     ┆ f64    ┆ f64     ┆ f64     │
│ f64         ┆ f64         ┆ f64         ┆ f64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ null        ┆ 0.03138     ┆ 0.11627     ┆ 0.0011875   ┆ … ┆ 0.02316 ┆ null   ┆ null    ┆ 0.3316  │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:53,487 - DEBUG - update position: 2024-01-03T23:59:59.999 === diff_trading_value: 240451.71902618106 == cash: 138938.0155337857 
2024-12-13 00:56:53,489 - INFO - pnl: 2024-01-03T23:59:59.999 138938.0155337857 === -1.203%
2024-12-13 00:56:53,493 - DEBUG - cur time: 2024-01-04T23:59:59.999 == next bar open time: 2024-01-05T00:00:00.000 == close pos time: 2024-01-10T00:00:00.000
2024-12-13 00:56:53,493 - INFO - pnl: 2024-01-04T23:59:59.999 137996.89493092024 === -0.677%
2024-12-13 00:56:53,497 - DEBUG - cur time: 2024-01-05T23:59:59.999 == next bar open time: 2024-01-06T00:00:00.000 == close pos time: 2024-01-11T00:00:00.000
2024-12-13 00:56:53,497 - INFO - pnl: 2024-01-05T23:59:59.999 141504.0278424825 === 2.541%
2024-12-13 00:56:53,501 - DEBUG - cur time: 2024-01-06T23:59:59.999 == next bar open time: 2024-01-07T00:00:00.000 == close pos time: 2024-01-12T00:00:00.000
2024-12-13 00:56:53,501 - INFO - pnl: 2024-01-06T23:59:59.999 143504.26176856825 === 1.414%
2024-12-13 00:56:53,507 - DEBUG - cur time: 2024-01-07T23:59:59.999 == next bar open time: 2024-01-08T00:00:00.000 == close pos time: 2024-01-13T00:00:00.000
2024-12-13 00:56:53,509 - INFO - pnl: 2024-01-07T23:59:59.999 141958.62615867823 === -1.077%
2024-12-13 00:56:53,513 - DEBUG - cur time: 2024-01-08T23:59:59.999 == next bar open time: 2024-01-09T00:00:00.000 == close pos time: 2024-01-14T00:00:00.000
2024-12-13 00:56:53,525 - DEBUG - close time 2024-01-08T23:59:59.999 == vol_threshold: 21957128.64999999
2024-12-13 00:56:53,525 - DEBUG - 2024-01-08T23:59:59.999 == all trade symbol 212 == remain 148 after VOL filter
2024-12-13 00:56:53,527 - DEBUG - sorted_long_factors: shape: (148, 4)
┌───────────┬──────────────┬──────┬──────────────┐
│ symbol    ┆ factor_value ┆ rank ┆ reverse_rank │
│ ---       ┆ ---          ┆ ---  ┆ ---          │
│ str       ┆ f64          ┆ u32  ┆ u32          │
╞═══════════╪══════════════╪══════╪══════════════╡
│ FILUSDT   ┆ -1.035371    ┆ 0    ┆ 147          │
│ SEIUSDT   ┆ -0.97953     ┆ 1    ┆ 146          │
│ GMTUSDT   ┆ -0.860504    ┆ 2    ┆ 145          │
│ STXUSDT   ┆ -0.858737    ┆ 3    ┆ 144          │
│ WLDUSDT   ┆ -0.844721    ┆ 4    ┆ 143          │
│ ONTUSDT   ┆ -0.800466    ┆ 5    ┆ 142          │
│ BAKEUSDT  ┆ -0.796293    ┆ 6    ┆ 141          │
│ PERPUSDT  ┆ -0.774163    ┆ 7    ┆ 140          │
│ YGGUSDT   ┆ -0.761628    ┆ 8    ┆ 139          │
│ ARBUSDT   ┆ -0.756187    ┆ 9    ┆ 138          │
│ …         ┆ …            ┆ …    ┆ …            │
│ TLMUSDT   ┆ 0.652971     ┆ 138  ┆ 9            │
│ SPELLUSDT ┆ 0.723325     ┆ 139  ┆ 8            │
│ COTIUSDT  ┆ 0.758965     ┆ 140  ┆ 7            │
│ AMBUSDT   ┆ 0.760797     ┆ 141  ┆ 6            │
│ REEFUSDT  ┆ 0.800199     ┆ 142  ┆ 5            │
│ KLAYUSDT  ┆ 0.853564     ┆ 143  ┆ 4            │
│ IDEXUSDT  ┆ 1.060948     ┆ 144  ┆ 3            │
│ DARUSDT   ┆ 1.076405     ┆ 145  ┆ 2            │
│ DGBUSDT   ┆ 1.14784      ┆ 146  ┆ 1            │
│ CKBUSDT   ┆ 1.363211     ┆ 147  ┆ 0            │
└───────────┴──────────────┴──────┴──────────────┘
2024-12-13 00:56:53,536 - WARNING - 2024-01-08T23:59:59.999=====cur_long_scale: 0.8 not match == long_value_ratio: 1.0
2024-12-13 00:56:53,536 - INFO - cur close time: 2024-01-08T23:59:59.999 == long_value_ratio: 1.0 == short_value_ratio: 1.0 --- 0.8
2024-12-13 00:56:53,537 - DEBUG - mean expected ret (mean factor): -0.05456016114047713
2024-12-13 00:56:53,543 - DEBUG - begin to update pos: =========
2024-12-13 00:56:53,543 - DEBUG - next_step_value: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ i64     ┆ i64    ┆ i64     ┆ i64     │
│ i64         ┆ i64         ┆ i64         ┆ i64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0           ┆ 0           ┆ 0           ┆ 0           ┆ … ┆ 0       ┆ 0      ┆ 0       ┆ 0       │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:53,543 - DEBUG - all_open_price_when_open_pos: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ f64     ┆ f64    ┆ f64     ┆ f64     │
│ f64         ┆ f64         ┆ f64         ┆ f64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ null        ┆ 0.03049     ┆ 0.12337     ┆ 0.0011943   ┆ … ┆ 0.02205 ┆ null   ┆ null    ┆ 0.3236  │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:53,577 - DEBUG - update position: 2024-01-08T23:59:59.999 === diff_trading_value: 164084.23461738284 == cash: 140046.27323946566 
2024-12-13 00:56:53,583 - INFO - pnl: 2024-01-08T23:59:59.999 140046.27323946566 === -1.347%
2024-12-13 00:56:53,593 - DEBUG - cur time: 2024-01-09T23:59:59.999 == next bar open time: 2024-01-10T00:00:00.000 == close pos time: 2024-01-15T00:00:00.000
2024-12-13 00:56:53,598 - INFO - pnl: 2024-01-09T23:59:59.999 142406.61632686105 === 1.685%
2024-12-13 00:56:53,607 - DEBUG - cur time: 2024-01-10T23:59:59.999 == next bar open time: 2024-01-11T00:00:00.000 == close pos time: 2024-01-16T00:00:00.000
2024-12-13 00:56:53,610 - INFO - pnl: 2024-01-10T23:59:59.999 142497.88347419692 === 0.064%
2024-12-13 00:56:53,618 - DEBUG - cur time: 2024-01-11T23:59:59.999 == next bar open time: 2024-01-12T00:00:00.000 == close pos time: 2024-01-17T00:00:00.000
2024-12-13 00:56:53,620 - INFO - pnl: 2024-01-11T23:59:59.999 141214.45508159196 === -0.901%
2024-12-13 00:56:53,630 - DEBUG - cur time: 2024-01-12T23:59:59.999 == next bar open time: 2024-01-13T00:00:00.000 == close pos time: 2024-01-18T00:00:00.000
2024-12-13 00:56:53,633 - INFO - pnl: 2024-01-12T23:59:59.999 140776.06648630952 === -0.310%
2024-12-13 00:56:53,638 - DEBUG - cur time: 2024-01-13T23:59:59.999 == next bar open time: 2024-01-14T00:00:00.000 == close pos time: 2024-01-19T00:00:00.000
2024-12-13 00:56:53,664 - DEBUG - close time 2024-01-13T23:59:59.999 == vol_threshold: 10322563.850000001
2024-12-13 00:56:53,666 - DEBUG - 2024-01-13T23:59:59.999 == all trade symbol 216 == remain 151 after VOL filter
2024-12-13 00:56:53,671 - DEBUG - sorted_long_factors: shape: (151, 4)
┌───────────┬──────────────┬──────┬──────────────┐
│ symbol    ┆ factor_value ┆ rank ┆ reverse_rank │
│ ---       ┆ ---          ┆ ---  ┆ ---          │
│ str       ┆ f64          ┆ u32  ┆ u32          │
╞═══════════╪══════════════╪══════╪══════════════╡
│ POWRUSDT  ┆ -1.44785     ┆ 0    ┆ 150          │
│ MASKUSDT  ┆ -1.404841    ┆ 1    ┆ 149          │
│ STRAXUSDT ┆ -1.111391    ┆ 2    ┆ 148          │
│ APTUSDT   ┆ -1.070324    ┆ 3    ┆ 147          │
│ BLURUSDT  ┆ -1.06895     ┆ 4    ┆ 146          │
│ HIFIUSDT  ┆ -1.047691    ┆ 5    ┆ 145          │
│ SUIUSDT   ┆ -0.966075    ┆ 6    ┆ 144          │
│ POLYXUSDT ┆ -0.839825    ┆ 7    ┆ 143          │
│ GMTUSDT   ┆ -0.818677    ┆ 8    ┆ 142          │
│ SEIUSDT   ┆ -0.817485    ┆ 9    ┆ 141          │
│ …         ┆ …            ┆ …    ┆ …            │
│ XVGUSDT   ┆ 0.711711     ┆ 141  ┆ 9            │
│ HFTUSDT   ┆ 0.75284      ┆ 142  ┆ 8            │
│ SPELLUSDT ┆ 0.800556     ┆ 143  ┆ 7            │
│ AMBUSDT   ┆ 0.814132     ┆ 144  ┆ 6            │
│ COTIUSDT  ┆ 0.903397     ┆ 145  ┆ 5            │
│ DARUSDT   ┆ 0.91563      ┆ 146  ┆ 4            │
│ DODOXUSDT ┆ 0.972866     ┆ 147  ┆ 3            │
│ CKBUSDT   ┆ 0.977251     ┆ 148  ┆ 2            │
│ IDEXUSDT  ┆ 0.980041     ┆ 149  ┆ 1            │
│ DGBUSDT   ┆ 1.03704      ┆ 150  ┆ 0            │
└───────────┴──────────────┴──────┴──────────────┘
2024-12-13 00:56:53,683 - INFO - cur close time: 2024-01-13T23:59:59.999 == long_value_ratio: 1.0 == short_value_ratio: 1.0 --- 1.0
2024-12-13 00:56:53,684 - DEBUG - mean expected ret (mean factor): -0.0644543797971795
2024-12-13 00:56:53,693 - DEBUG - begin to update pos: =========
2024-12-13 00:56:53,694 - DEBUG - next_step_value: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ i64     ┆ i64    ┆ i64     ┆ i64     │
│ i64         ┆ i64         ┆ i64         ┆ i64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0           ┆ 0           ┆ 0           ┆ 0           ┆ … ┆ 0       ┆ 0      ┆ 0       ┆ 0       │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:53,694 - DEBUG - all_open_price_when_open_pos: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ f64     ┆ f64    ┆ f64     ┆ f64     │
│ f64         ┆ f64         ┆ f64         ┆ f64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ null        ┆ 0.03092     ┆ 0.12497     ┆ 0.0012439   ┆ … ┆ 0.022   ┆ null   ┆ null    ┆ 0.3426  │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:53,707 - DEBUG - update position: 2024-01-13T23:59:59.999 === diff_trading_value: 238726.96275566713 == cash: 140753.81452190707 
2024-12-13 00:56:53,711 - INFO - pnl: 2024-01-13T23:59:59.999 140753.81452190707 === -0.016%
2024-12-13 00:56:53,717 - DEBUG - cur time: 2024-01-14T23:59:59.999 == next bar open time: 2024-01-15T00:00:00.000 == close pos time: 2024-01-20T00:00:00.000
2024-12-13 00:56:53,717 - INFO - pnl: 2024-01-14T23:59:59.999 140159.21242772337 === -0.422%
2024-12-13 00:56:53,726 - DEBUG - cur time: 2024-01-15T23:59:59.999 == next bar open time: 2024-01-16T00:00:00.000 == close pos time: 2024-01-21T00:00:00.000
2024-12-13 00:56:53,729 - INFO - pnl: 2024-01-15T23:59:59.999 138159.50692204258 === -1.427%
2024-12-13 00:56:53,730 - DEBUG - cur time: 2024-01-16T23:59:59.999 == next bar open time: 2024-01-17T00:00:00.000 == close pos time: 2024-01-22T00:00:00.000
2024-12-13 00:56:53,735 - INFO - pnl: 2024-01-16T23:59:59.999 140172.9369904518 === 1.457%
2024-12-13 00:56:53,737 - DEBUG - cur time: 2024-01-17T23:59:59.999 == next bar open time: 2024-01-18T00:00:00.000 == close pos time: 2024-01-23T00:00:00.000
2024-12-13 00:56:53,737 - INFO - pnl: 2024-01-17T23:59:59.999 139579.61438312734 === -0.423%
2024-12-13 00:56:53,742 - DEBUG - cur time: 2024-01-18T23:59:59.999 == next bar open time: 2024-01-19T00:00:00.000 == close pos time: 2024-01-24T00:00:00.000
2024-12-13 00:56:53,758 - DEBUG - close time 2024-01-18T23:59:59.999 == vol_threshold: 15701642.699999992
2024-12-13 00:56:53,759 - DEBUG - 2024-01-18T23:59:59.999 == all trade symbol 218 == remain 152 after VOL filter
2024-12-13 00:56:53,761 - DEBUG - sorted_long_factors: shape: (152, 4)
┌───────────┬──────────────┬──────┬──────────────┐
│ symbol    ┆ factor_value ┆ rank ┆ reverse_rank │
│ ---       ┆ ---          ┆ ---  ┆ ---          │
│ str       ┆ f64          ┆ u32  ┆ u32          │
╞═══════════╪══════════════╪══════╪══════════════╡
│ GASUSDT   ┆ -1.096576    ┆ 0    ┆ 151          │
│ RNDRUSDT  ┆ -0.984652    ┆ 1    ┆ 150          │
│ NTRNUSDT  ┆ -0.980597    ┆ 2    ┆ 149          │
│ APEUSDT   ┆ -0.915428    ┆ 3    ┆ 148          │
│ POWRUSDT  ┆ -0.897723    ┆ 4    ┆ 147          │
│ STXUSDT   ┆ -0.897005    ┆ 5    ┆ 146          │
│ MASKUSDT  ┆ -0.828341    ┆ 6    ┆ 145          │
│ WLDUSDT   ┆ -0.797011    ┆ 7    ┆ 144          │
│ CFXUSDT   ┆ -0.794067    ┆ 8    ┆ 143          │
│ RIFUSDT   ┆ -0.75339     ┆ 9    ┆ 142          │
│ …         ┆ …            ┆ …    ┆ …            │
│ CKBUSDT   ┆ 0.666045     ┆ 142  ┆ 9            │
│ XVGUSDT   ┆ 0.69236      ┆ 143  ┆ 8            │
│ KEYUSDT   ┆ 0.696414     ┆ 144  ┆ 7            │
│ TRUUSDT   ┆ 0.705497     ┆ 145  ┆ 6            │
│ DARUSDT   ┆ 0.794607     ┆ 146  ┆ 5            │
│ TLMUSDT   ┆ 0.837799     ┆ 147  ┆ 4            │
│ DODOXUSDT ┆ 0.872973     ┆ 148  ┆ 3            │
│ AMBUSDT   ┆ 0.961521     ┆ 149  ┆ 2            │
│ DGBUSDT   ┆ 1.183945     ┆ 150  ┆ 1            │
│ IDEXUSDT  ┆ 1.19854      ┆ 151  ┆ 0            │
└───────────┴──────────────┴──────┴──────────────┘
2024-12-13 00:56:53,768 - WARNING - 2024-01-18T23:59:59.999=====cur_long_scale: 0.8 not match == long_value_ratio: 1.0
2024-12-13 00:56:53,768 - INFO - cur close time: 2024-01-18T23:59:59.999 == long_value_ratio: 1.0 == short_value_ratio: 1.0 --- 0.8
2024-12-13 00:56:53,768 - DEBUG - mean expected ret (mean factor): -0.07979655625687944
2024-12-13 00:56:53,773 - DEBUG - begin to update pos: =========
2024-12-13 00:56:53,773 - DEBUG - next_step_value: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ i64     ┆ i64    ┆ i64     ┆ i64     │
│ i64         ┆ i64         ┆ i64         ┆ i64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0           ┆ 0           ┆ 0           ┆ 0           ┆ … ┆ 0       ┆ 0      ┆ 0       ┆ 0       │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:53,773 - DEBUG - all_open_price_when_open_pos: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ f64     ┆ f64    ┆ f64     ┆ f64     │
│ f64         ┆ f64         ┆ f64         ┆ f64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ null        ┆ 0.02928     ┆ 0.11452     ┆ 0.0011444   ┆ … ┆ 0.0215  ┆ null   ┆ null    ┆ 0.3186  │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:53,780 - DEBUG - update position: 2024-01-18T23:59:59.999 === diff_trading_value: 213558.04600161986 == cash: 139133.5861779576 
2024-12-13 00:56:53,783 - INFO - pnl: 2024-01-18T23:59:59.999 139133.5861779576 === -0.320%
2024-12-13 00:56:53,786 - DEBUG - cur time: 2024-01-19T23:59:59.999 == next bar open time: 2024-01-20T00:00:00.000 == close pos time: 2024-01-25T00:00:00.000
2024-12-13 00:56:53,789 - INFO - pnl: 2024-01-19T23:59:59.999 141586.1502907877 === 1.763%
2024-12-13 00:56:53,791 - DEBUG - cur time: 2024-01-20T23:59:59.999 == next bar open time: 2024-01-21T00:00:00.000 == close pos time: 2024-01-26T00:00:00.000
2024-12-13 00:56:53,795 - INFO - pnl: 2024-01-20T23:59:59.999 143594.0141463682 === 1.418%
2024-12-13 00:56:53,799 - DEBUG - cur time: 2024-01-21T23:59:59.999 == next bar open time: 2024-01-22T00:00:00.000 == close pos time: 2024-01-27T00:00:00.000
2024-12-13 00:56:53,800 - INFO - pnl: 2024-01-21T23:59:59.999 144732.648209383 === 0.793%
2024-12-13 00:56:53,803 - DEBUG - cur time: 2024-01-22T23:59:59.999 == next bar open time: 2024-01-23T00:00:00.000 == close pos time: 2024-01-28T00:00:00.000
2024-12-13 00:56:53,807 - INFO - pnl: 2024-01-22T23:59:59.999 144583.08729879992 === -0.103%
2024-12-13 00:56:53,810 - DEBUG - cur time: 2024-01-23T23:59:59.999 == next bar open time: 2024-01-24T00:00:00.000 == close pos time: 2024-01-29T00:00:00.000
2024-12-13 00:56:53,820 - DEBUG - close time 2024-01-23T23:59:59.999 == vol_threshold: 22056324.0
2024-12-13 00:56:53,824 - DEBUG - 2024-01-23T23:59:59.999 == all trade symbol 220 == remain 154 after VOL filter
2024-12-13 00:56:53,828 - DEBUG - sorted_long_factors: shape: (154, 4)
┌─────────────┬──────────────┬──────┬──────────────┐
│ symbol      ┆ factor_value ┆ rank ┆ reverse_rank │
│ ---         ┆ ---          ┆ ---  ┆ ---          │
│ str         ┆ f64          ┆ u32  ┆ u32          │
╞═════════════╪══════════════╪══════╪══════════════╡
│ ASTRUSDT    ┆ -1.020165    ┆ 0    ┆ 153          │
│ APEUSDT     ┆ -0.922523    ┆ 1    ┆ 152          │
│ PENDLEUSDT  ┆ -0.878803    ┆ 2    ┆ 151          │
│ TIAUSDT     ┆ -0.801872    ┆ 3    ┆ 150          │
│ BIGTIMEUSDT ┆ -0.794279    ┆ 4    ┆ 149          │
│ UMAUSDT     ┆ -0.770831    ┆ 5    ┆ 148          │
│ MAVUSDT     ┆ -0.760526    ┆ 6    ┆ 147          │
│ TUSDT       ┆ -0.724396    ┆ 7    ┆ 146          │
│ CTSIUSDT    ┆ -0.722473    ┆ 8    ┆ 145          │
│ SUIUSDT     ┆ -0.699427    ┆ 9    ┆ 144          │
│ …           ┆ …            ┆ …    ┆ …            │
│ RENUSDT     ┆ 0.510086     ┆ 144  ┆ 9            │
│ PHBUSDT     ┆ 0.53395      ┆ 145  ┆ 8            │
│ ENJUSDT     ┆ 0.557682     ┆ 146  ┆ 7            │
│ RSRUSDT     ┆ 0.622178     ┆ 147  ┆ 6            │
│ RVNUSDT     ┆ 0.628817     ┆ 148  ┆ 5            │
│ SPELLUSDT   ┆ 0.672841     ┆ 149  ┆ 4            │
│ CKBUSDT     ┆ 0.690708     ┆ 150  ┆ 3            │
│ TRUUSDT     ┆ 0.927283     ┆ 151  ┆ 2            │
│ TLMUSDT     ┆ 1.027574     ┆ 152  ┆ 1            │
│ DGBUSDT     ┆ 1.212978     ┆ 153  ┆ 0            │
└─────────────┴──────────────┴──────┴──────────────┘
2024-12-13 00:56:53,834 - WARNING - 2024-01-23T23:59:59.999=====cur_long_scale: 0.8 not match == long_value_ratio: 1.0
2024-12-13 00:56:53,834 - INFO - cur close time: 2024-01-23T23:59:59.999 == long_value_ratio: 1.0 == short_value_ratio: 1.0 --- 0.8
2024-12-13 00:56:53,834 - DEBUG - mean expected ret (mean factor): -0.10525003674022121
2024-12-13 00:56:53,839 - DEBUG - begin to update pos: =========
2024-12-13 00:56:53,840 - DEBUG - next_step_value: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ i64     ┆ i64    ┆ i64     ┆ i64     │
│ i64         ┆ f64         ┆ i64         ┆ i64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0           ┆ 5000.0      ┆ 0           ┆ 0           ┆ … ┆ 0       ┆ 0      ┆ 0       ┆ 0       │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:53,840 - DEBUG - all_open_price_when_open_pos: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ f64     ┆ f64    ┆ f64     ┆ f64     │
│ f64         ┆ f64         ┆ f64         ┆ f64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ null        ┆ 0.02849     ┆ 0.09393     ┆ 0.0010413   ┆ … ┆ 0.01961 ┆ null   ┆ null    ┆ 0.2947  │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:53,849 - DEBUG - update position: 2024-01-23T23:59:59.999 === diff_trading_value: 252578.90529290316 == cash: 143254.07109620728 
2024-12-13 00:56:53,850 - INFO - pnl: 2024-01-23T23:59:59.999 143254.07109620728 === -0.919%
2024-12-13 00:56:53,854 - DEBUG - cur time: 2024-01-24T23:59:59.999 == next bar open time: 2024-01-25T00:00:00.000 == close pos time: 2024-01-30T00:00:00.000
2024-12-13 00:56:53,856 - INFO - pnl: 2024-01-24T23:59:59.999 143197.74121925063 === -0.039%
2024-12-13 00:56:53,859 - DEBUG - cur time: 2024-01-25T23:59:59.999 == next bar open time: 2024-01-26T00:00:00.000 == close pos time: 2024-01-31T00:00:00.000
2024-12-13 00:56:53,862 - INFO - pnl: 2024-01-25T23:59:59.999 146390.82527810495 === 2.230%
2024-12-13 00:56:53,865 - DEBUG - cur time: 2024-01-26T23:59:59.999 == next bar open time: 2024-01-27T00:00:00.000 == close pos time: 2024-02-01T00:00:00.000
2024-12-13 00:56:53,867 - INFO - pnl: 2024-01-26T23:59:59.999 143404.3019428738 === -2.040%
2024-12-13 00:56:53,870 - DEBUG - cur time: 2024-01-27T23:59:59.999 == next bar open time: 2024-01-28T00:00:00.000 == close pos time: 2024-02-02T00:00:00.000
2024-12-13 00:56:53,870 - INFO - pnl: 2024-01-27T23:59:59.999 144534.8260130356 === 0.788%
2024-12-13 00:56:53,878 - DEBUG - cur time: 2024-01-28T23:59:59.999 == next bar open time: 2024-01-29T00:00:00.000 == close pos time: 2024-02-03T00:00:00.000
2024-12-13 00:56:53,891 - DEBUG - close time 2024-01-28T23:59:59.999 == vol_threshold: 10231514.809999999
2024-12-13 00:56:53,892 - DEBUG - 2024-01-28T23:59:59.999 == all trade symbol 222 == remain 155 after VOL filter
2024-12-13 00:56:53,894 - DEBUG - sorted_long_factors: shape: (155, 4)
┌───────────┬──────────────┬──────┬──────────────┐
│ symbol    ┆ factor_value ┆ rank ┆ reverse_rank │
│ ---       ┆ ---          ┆ ---  ┆ ---          │
│ str       ┆ f64          ┆ u32  ┆ u32          │
╞═══════════╪══════════════╪══════╪══════════════╡
│ OMGUSDT   ┆ -0.928139    ┆ 0    ┆ 154          │
│ RADUSDT   ┆ -0.908767    ┆ 1    ┆ 153          │
│ CTSIUSDT  ┆ -0.850664    ┆ 2    ┆ 152          │
│ MAGICUSDT ┆ -0.848733    ┆ 3    ┆ 151          │
│ KAVAUSDT  ┆ -0.773793    ┆ 4    ┆ 150          │
│ GTCUSDT   ┆ -0.759329    ┆ 5    ┆ 149          │
│ DYDXUSDT  ┆ -0.7514      ┆ 6    ┆ 148          │
│ RLCUSDT   ┆ -0.738606    ┆ 7    ┆ 147          │
│ SUSHIUSDT ┆ -0.678027    ┆ 8    ┆ 146          │
│ CFXUSDT   ┆ -0.631738    ┆ 9    ┆ 145          │
│ …         ┆ …            ┆ …    ┆ …            │
│ ICXUSDT   ┆ 0.501969     ┆ 145  ┆ 9            │
│ RVNUSDT   ┆ 0.529354     ┆ 146  ┆ 8            │
│ SPELLUSDT ┆ 0.548551     ┆ 147  ┆ 7            │
│ TLMUSDT   ┆ 0.665888     ┆ 148  ┆ 6            │
│ SNTUSDT   ┆ 0.669331     ┆ 149  ┆ 5            │
│ TRUUSDT   ┆ 0.682917     ┆ 150  ┆ 4            │
│ KEYUSDT   ┆ 0.685087     ┆ 151  ┆ 3            │
│ CKBUSDT   ┆ 0.855641     ┆ 152  ┆ 2            │
│ DGBUSDT   ┆ 0.860629     ┆ 153  ┆ 1            │
│ DODOXUSDT ┆ 1.694013     ┆ 154  ┆ 0            │
└───────────┴──────────────┴──────┴──────────────┘
2024-12-13 00:56:53,900 - WARNING - 2024-01-28T23:59:59.999=====cur_long_scale: 1.2 not match == long_value_ratio: 1.0
2024-12-13 00:56:53,900 - INFO - cur close time: 2024-01-28T23:59:59.999 == long_value_ratio: 1.0 == short_value_ratio: 1.0 --- 1.2
2024-12-13 00:56:53,900 - DEBUG - mean expected ret (mean factor): -0.07686172945740907
2024-12-13 00:56:53,903 - DEBUG - begin to update pos: =========
2024-12-13 00:56:53,903 - DEBUG - next_step_value: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ i64     ┆ i64    ┆ i64     ┆ i64     │
│ i64         ┆ i64         ┆ i64         ┆ i64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0           ┆ 0           ┆ 0           ┆ 0           ┆ … ┆ 0       ┆ 0      ┆ 0       ┆ 0       │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:53,903 - DEBUG - all_open_price_when_open_pos: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ f64     ┆ f64    ┆ f64     ┆ f64     │
│ f64         ┆ f64         ┆ f64         ┆ f64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0.011568    ┆ 0.0285      ┆ 0.09909     ┆ 0.0010658   ┆ … ┆ 0.02042 ┆ null   ┆ null    ┆ 0.3481  │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:53,912 - DEBUG - update position: 2024-01-28T23:59:59.999 === diff_trading_value: 277963.9475213669 == cash: 145593.97195922 
2024-12-13 00:56:53,916 - INFO - pnl: 2024-01-28T23:59:59.999 145593.97195922 === 0.733%
2024-12-13 00:56:53,917 - DEBUG - cur time: 2024-01-29T23:59:59.999 == next bar open time: 2024-01-30T00:00:00.000 == close pos time: 2024-02-04T00:00:00.000
2024-12-13 00:56:53,920 - INFO - pnl: 2024-01-29T23:59:59.999 145506.35963330886 === -0.060%
2024-12-13 00:56:53,925 - DEBUG - cur time: 2024-01-30T23:59:59.999 == next bar open time: 2024-01-31T00:00:00.000 == close pos time: 2024-02-05T00:00:00.000
2024-12-13 00:56:53,928 - INFO - pnl: 2024-01-30T23:59:59.999 145805.50897022372 === 0.206%
2024-12-13 00:56:53,929 - DEBUG - cur time: 2024-01-31T23:59:59.999 == next bar open time: 2024-02-01T00:00:00.000 == close pos time: 2024-02-06T00:00:00.000
2024-12-13 00:56:53,934 - INFO - pnl: 2024-01-31T23:59:59.999 147565.00779113942 === 1.207%
2024-12-13 00:56:53,937 - DEBUG - cur time: 2024-02-01T23:59:59.999 == next bar open time: 2024-02-02T00:00:00.000 == close pos time: 2024-02-07T00:00:00.000
2024-12-13 00:56:53,937 - INFO - pnl: 2024-02-01T23:59:59.999 147370.5638987904 === -0.132%
2024-12-13 00:56:53,942 - DEBUG - cur time: 2024-02-02T23:59:59.999 == next bar open time: 2024-02-03T00:00:00.000 == close pos time: 2024-02-08T00:00:00.000
2024-12-13 00:56:53,963 - DEBUG - close time 2024-02-02T23:59:59.999 == vol_threshold: 8694730.1
2024-12-13 00:56:53,966 - DEBUG - 2024-02-02T23:59:59.999 == all trade symbol 226 == remain 158 after VOL filter
2024-12-13 00:56:53,969 - DEBUG - sorted_long_factors: shape: (158, 4)
┌───────────┬──────────────┬──────┬──────────────┐
│ symbol    ┆ factor_value ┆ rank ┆ reverse_rank │
│ ---       ┆ ---          ┆ ---  ┆ ---          │
│ str       ┆ f64          ┆ u32  ┆ u32          │
╞═══════════╪══════════════╪══════╪══════════════╡
│ UMAUSDT   ┆ -1.098339    ┆ 0    ┆ 157          │
│ PYTHUSDT  ┆ -1.006319    ┆ 1    ┆ 156          │
│ RLCUSDT   ┆ -0.853267    ┆ 2    ┆ 155          │
│ MINAUSDT  ┆ -0.849555    ┆ 3    ┆ 154          │
│ ZRXUSDT   ┆ -0.770397    ┆ 4    ┆ 153          │
│ MAGICUSDT ┆ -0.767027    ┆ 5    ┆ 152          │
│ WLDUSDT   ┆ -0.725488    ┆ 6    ┆ 151          │
│ XEMUSDT   ┆ -0.720064    ┆ 7    ┆ 150          │
│ DOTUSDT   ┆ -0.701524    ┆ 8    ┆ 149          │
│ BANDUSDT  ┆ -0.699749    ┆ 9    ┆ 148          │
│ …         ┆ …            ┆ …    ┆ …            │
│ RVNUSDT   ┆ 0.517462     ┆ 148  ┆ 9            │
│ MBLUSDT   ┆ 0.522446     ┆ 149  ┆ 8            │
│ TRUUSDT   ┆ 0.577107     ┆ 150  ┆ 7            │
│ KEYUSDT   ┆ 0.63007      ┆ 151  ┆ 6            │
│ TLMUSDT   ┆ 0.645779     ┆ 152  ┆ 5            │
│ CKBUSDT   ┆ 0.696208     ┆ 153  ┆ 4            │
│ SNTUSDT   ┆ 0.702435     ┆ 154  ┆ 3            │
│ IDEXUSDT  ┆ 0.711486     ┆ 155  ┆ 2            │
│ DGBUSDT   ┆ 0.74059      ┆ 156  ┆ 1            │
│ DODOXUSDT ┆ 1.65516      ┆ 157  ┆ 0            │
└───────────┴──────────────┴──────┴──────────────┘
2024-12-13 00:56:53,978 - WARNING - 2024-02-02T23:59:59.999=====cur_long_scale: 1.2 not match == long_value_ratio: 1.0
2024-12-13 00:56:53,979 - INFO - cur close time: 2024-02-02T23:59:59.999 == long_value_ratio: 1.0 == short_value_ratio: 1.0 --- 1.2
2024-12-13 00:56:53,979 - DEBUG - mean expected ret (mean factor): -0.0924794136302452
2024-12-13 00:56:53,984 - DEBUG - begin to update pos: =========
2024-12-13 00:56:53,984 - DEBUG - next_step_value: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬────────────┬───┬─────────┬────────┬─────────┬──────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUS ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT  │
│ T           ┆ DT          ┆ T           ┆ DT         ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---      │
│ ---         ┆ ---         ┆ ---         ┆ ---        ┆   ┆ i64     ┆ i64    ┆ i64     ┆ f64      │
│ i64         ┆ i64         ┆ i64         ┆ i64        ┆   ┆         ┆        ┆         ┆          │
╞═════════════╪═════════════╪═════════════╪════════════╪═══╪═════════╪════════╪═════════╪══════════╡
│ 0           ┆ 0           ┆ 0           ┆ 0          ┆ … ┆ 0       ┆ 0      ┆ 0       ┆ -10000.0 │
└─────────────┴─────────────┴─────────────┴────────────┴───┴─────────┴────────┴─────────┴──────────┘
2024-12-13 00:56:53,984 - DEBUG - all_open_price_when_open_pos: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ f64     ┆ f64    ┆ f64     ┆ f64     │
│ f64         ┆ f64         ┆ f64         ┆ f64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0.010541    ┆ 0.02806     ┆ 0.09615     ┆ 0.0009294   ┆ … ┆ 0.02036 ┆ null   ┆ null    ┆ 0.3227  │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:53,992 - DEBUG - update position: 2024-02-02T23:59:59.999 === diff_trading_value: 253618.92264984036 == cash: 144970.09686520256 
2024-12-13 00:56:53,992 - INFO - pnl: 2024-02-02T23:59:59.999 144970.09686520256 === -1.629%
2024-12-13 00:56:53,998 - DEBUG - cur time: 2024-02-03T23:59:59.999 == next bar open time: 2024-02-04T00:00:00.000 == close pos time: 2024-02-09T00:00:00.000
2024-12-13 00:56:53,999 - INFO - pnl: 2024-02-03T23:59:59.999 145880.26238072573 === 0.628%
2024-12-13 00:56:54,003 - DEBUG - cur time: 2024-02-04T23:59:59.999 == next bar open time: 2024-02-05T00:00:00.000 == close pos time: 2024-02-10T00:00:00.000
2024-12-13 00:56:54,004 - INFO - pnl: 2024-02-04T23:59:59.999 146012.1108816221 === 0.090%
2024-12-13 00:56:54,008 - DEBUG - cur time: 2024-02-05T23:59:59.999 == next bar open time: 2024-02-06T00:00:00.000 == close pos time: 2024-02-11T00:00:00.000
2024-12-13 00:56:54,009 - INFO - pnl: 2024-02-05T23:59:59.999 146283.49826334807 === 0.186%
2024-12-13 00:56:54,013 - DEBUG - cur time: 2024-02-06T23:59:59.999 == next bar open time: 2024-02-07T00:00:00.000 == close pos time: 2024-02-12T00:00:00.000
2024-12-13 00:56:54,013 - INFO - pnl: 2024-02-06T23:59:59.999 148814.54166095256 === 1.730%
2024-12-13 00:56:54,019 - DEBUG - cur time: 2024-02-07T23:59:59.999 == next bar open time: 2024-02-08T00:00:00.000 == close pos time: 2024-02-13T00:00:00.000
2024-12-13 00:56:54,029 - DEBUG - close time 2024-02-07T23:59:59.999 == vol_threshold: 9641298.0
2024-12-13 00:56:54,029 - DEBUG - 2024-02-07T23:59:59.999 == all trade symbol 226 == remain 158 after VOL filter
2024-12-13 00:56:54,033 - DEBUG - sorted_long_factors: shape: (158, 4)
┌───────────┬──────────────┬──────┬──────────────┐
│ symbol    ┆ factor_value ┆ rank ┆ reverse_rank │
│ ---       ┆ ---          ┆ ---  ┆ ---          │
│ str       ┆ f64          ┆ u32  ┆ u32          │
╞═══════════╪══════════════╪══════╪══════════════╡
│ UMAUSDT   ┆ -1.163075    ┆ 0    ┆ 157          │
│ RUNEUSDT  ┆ -0.974055    ┆ 1    ┆ 156          │
│ WLDUSDT   ┆ -0.923369    ┆ 2    ┆ 155          │
│ OPUSDT    ┆ -0.827506    ┆ 3    ┆ 154          │
│ ARKUSDT   ┆ -0.825866    ┆ 4    ┆ 153          │
│ DOTUSDT   ┆ -0.787872    ┆ 5    ┆ 152          │
│ SEIUSDT   ┆ -0.78721     ┆ 6    ┆ 151          │
│ STORJUSDT ┆ -0.76422     ┆ 7    ┆ 150          │
│ ZRXUSDT   ┆ -0.742538    ┆ 8    ┆ 149          │
│ RLCUSDT   ┆ -0.716505    ┆ 9    ┆ 148          │
│ …         ┆ …            ┆ …    ┆ …            │
│ MBLUSDT   ┆ 0.736735     ┆ 148  ┆ 9            │
│ REEFUSDT  ┆ 0.738491     ┆ 149  ┆ 8            │
│ TLMUSDT   ┆ 0.742458     ┆ 150  ┆ 7            │
│ KEYUSDT   ┆ 0.746195     ┆ 151  ┆ 6            │
│ RVNUSDT   ┆ 0.848662     ┆ 152  ┆ 5            │
│ TRUUSDT   ┆ 0.88724      ┆ 153  ┆ 4            │
│ XVGUSDT   ┆ 1.005204     ┆ 154  ┆ 3            │
│ DGBUSDT   ┆ 1.077377     ┆ 155  ┆ 2            │
│ IDEXUSDT  ┆ 1.105535     ┆ 156  ┆ 1            │
│ DODOXUSDT ┆ 1.264226     ┆ 157  ┆ 0            │
└───────────┴──────────────┴──────┴──────────────┘
2024-12-13 00:56:54,037 - INFO - cur close time: 2024-02-07T23:59:59.999 == long_value_ratio: 1.0 == short_value_ratio: 1.0 --- 1.0
2024-12-13 00:56:54,037 - DEBUG - mean expected ret (mean factor): -0.05871060150091199
2024-12-13 00:56:54,044 - DEBUG - begin to update pos: =========
2024-12-13 00:56:54,044 - DEBUG - next_step_value: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬────────────┬───┬─────────┬────────┬─────────┬──────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUS ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT  │
│ T           ┆ DT          ┆ T           ┆ DT         ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---      │
│ ---         ┆ ---         ┆ ---         ┆ ---        ┆   ┆ i64     ┆ i64    ┆ i64     ┆ f64      │
│ i64         ┆ i64         ┆ i64         ┆ i64        ┆   ┆         ┆        ┆         ┆          │
╞═════════════╪═════════════╪═════════════╪════════════╪═══╪═════════╪════════╪═════════╪══════════╡
│ 0           ┆ 0           ┆ 0           ┆ 0          ┆ … ┆ 0       ┆ 0      ┆ 0       ┆ -10000.0 │
└─────────────┴─────────────┴─────────────┴────────────┴───┴─────────┴────────┴─────────┴──────────┘
2024-12-13 00:56:54,044 - DEBUG - all_open_price_when_open_pos: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ f64     ┆ f64    ┆ f64     ┆ f64     │
│ f64         ┆ f64         ┆ f64         ┆ f64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0.010431    ┆ 0.02857     ┆ 0.10866     ┆ 0.0009668   ┆ … ┆ 0.02031 ┆ null   ┆ null    ┆ 0.3199  │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:54,052 - DEBUG - update position: 2024-02-07T23:59:59.999 === diff_trading_value: 173178.67648921214 == cash: 149445.69174255335 
2024-12-13 00:56:54,053 - INFO - pnl: 2024-02-07T23:59:59.999 149445.69174255335 === 0.424%
2024-12-13 00:56:54,055 - DEBUG - cur time: 2024-02-08T23:59:59.999 == next bar open time: 2024-02-09T00:00:00.000 == close pos time: 2024-02-14T00:00:00.000
2024-12-13 00:56:54,059 - INFO - pnl: 2024-02-08T23:59:59.999 150704.08953483484 === 0.842%
2024-12-13 00:56:54,063 - DEBUG - cur time: 2024-02-09T23:59:59.999 == next bar open time: 2024-02-10T00:00:00.000 == close pos time: 2024-02-15T00:00:00.000
2024-12-13 00:56:54,064 - INFO - pnl: 2024-02-09T23:59:59.999 150449.13593409458 === -0.169%
2024-12-13 00:56:54,067 - DEBUG - cur time: 2024-02-10T23:59:59.999 == next bar open time: 2024-02-11T00:00:00.000 == close pos time: 2024-02-16T00:00:00.000
2024-12-13 00:56:54,069 - INFO - pnl: 2024-02-10T23:59:59.999 151596.46128203208 === 0.763%
2024-12-13 00:56:54,070 - DEBUG - cur time: 2024-02-11T23:59:59.999 == next bar open time: 2024-02-12T00:00:00.000 == close pos time: 2024-02-17T00:00:00.000
2024-12-13 00:56:54,070 - INFO - pnl: 2024-02-11T23:59:59.999 151273.11224593385 === -0.213%
2024-12-13 00:56:54,077 - DEBUG - cur time: 2024-02-12T23:59:59.999 == next bar open time: 2024-02-13T00:00:00.000 == close pos time: 2024-02-18T00:00:00.000
2024-12-13 00:56:54,087 - DEBUG - close time 2024-02-12T23:59:59.999 == vol_threshold: 12137696.2
2024-12-13 00:56:54,087 - DEBUG - 2024-02-12T23:59:59.999 == all trade symbol 227 == remain 159 after VOL filter
2024-12-13 00:56:54,092 - DEBUG - sorted_long_factors: shape: (159, 4)
┌───────────┬──────────────┬──────┬──────────────┐
│ symbol    ┆ factor_value ┆ rank ┆ reverse_rank │
│ ---       ┆ ---          ┆ ---  ┆ ---          │
│ str       ┆ f64          ┆ u32  ┆ u32          │
╞═══════════╪══════════════╪══════╪══════════════╡
│ MINAUSDT  ┆ -0.872242    ┆ 0    ┆ 158          │
│ SUPERUSDT ┆ -0.860988    ┆ 1    ┆ 157          │
│ NEARUSDT  ┆ -0.851587    ┆ 2    ┆ 156          │
│ ORDIUSDT  ┆ -0.851215    ┆ 3    ┆ 155          │
│ MAGICUSDT ┆ -0.838311    ┆ 4    ┆ 154          │
│ API3USDT  ┆ -0.837138    ┆ 5    ┆ 153          │
│ UMAUSDT   ┆ -0.767142    ┆ 6    ┆ 152          │
│ RUNEUSDT  ┆ -0.759953    ┆ 7    ┆ 151          │
│ JTOUSDT   ┆ -0.752656    ┆ 8    ┆ 150          │
│ POWRUSDT  ┆ -0.750663    ┆ 9    ┆ 149          │
│ …         ┆ …            ┆ …    ┆ …            │
│ NKNUSDT   ┆ 0.692438     ┆ 149  ┆ 9            │
│ TRUUSDT   ┆ 0.701511     ┆ 150  ┆ 8            │
│ KEYUSDT   ┆ 0.808164     ┆ 151  ┆ 7            │
│ MBLUSDT   ┆ 0.842883     ┆ 152  ┆ 6            │
│ MDTUSDT   ┆ 0.852657     ┆ 153  ┆ 5            │
│ ATAUSDT   ┆ 0.8547       ┆ 154  ┆ 4            │
│ DENTUSDT  ┆ 1.100287     ┆ 155  ┆ 3            │
│ XVGUSDT   ┆ 1.310644     ┆ 156  ┆ 2            │
│ DODOXUSDT ┆ 1.39476      ┆ 157  ┆ 1            │
│ DGBUSDT   ┆ 1.518623     ┆ 158  ┆ 0            │
└───────────┴──────────────┴──────┴──────────────┘
2024-12-13 00:56:54,099 - WARNING - 2024-02-12T23:59:59.999=====cur_long_scale: 1.2 not match == long_value_ratio: 1.0
2024-12-13 00:56:54,099 - INFO - cur close time: 2024-02-12T23:59:59.999 == long_value_ratio: 1.0 == short_value_ratio: 1.0 --- 1.2
2024-12-13 00:56:54,100 - DEBUG - mean expected ret (mean factor): -0.059121353477632144
2024-12-13 00:56:54,105 - DEBUG - begin to update pos: =========
2024-12-13 00:56:54,105 - DEBUG - next_step_value: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ i64     ┆ i64    ┆ i64     ┆ i64     │
│ i64         ┆ f64         ┆ i64         ┆ i64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0           ┆ 5000.0      ┆ 0           ┆ 0           ┆ … ┆ 0       ┆ 0      ┆ 0       ┆ 0       │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:54,105 - DEBUG - all_open_price_when_open_pos: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ f64     ┆ f64    ┆ f64     ┆ f64     │
│ f64         ┆ f64         ┆ f64         ┆ f64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0.013185    ┆ 0.03205     ┆ 0.11723     ┆ 0.0010807   ┆ … ┆ 0.02153 ┆ null   ┆ null    ┆ 0.3284  │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:54,112 - DEBUG - update position: 2024-02-12T23:59:59.999 === diff_trading_value: 235855.54815106452 == cash: 148491.19365117484 
2024-12-13 00:56:54,112 - INFO - pnl: 2024-02-12T23:59:59.999 148491.19365117484 === -1.839%
2024-12-13 00:56:54,117 - DEBUG - cur time: 2024-02-13T23:59:59.999 == next bar open time: 2024-02-14T00:00:00.000 == close pos time: 2024-02-19T00:00:00.000
2024-12-13 00:56:54,121 - INFO - pnl: 2024-02-13T23:59:59.999 150135.2132237162 === 1.107%
2024-12-13 00:56:54,124 - DEBUG - cur time: 2024-02-14T23:59:59.999 == next bar open time: 2024-02-15T00:00:00.000 == close pos time: 2024-02-20T00:00:00.000
2024-12-13 00:56:54,127 - INFO - pnl: 2024-02-14T23:59:59.999 149686.06766261792 === -0.299%
2024-12-13 00:56:54,130 - DEBUG - cur time: 2024-02-15T23:59:59.999 == next bar open time: 2024-02-16T00:00:00.000 == close pos time: 2024-02-21T00:00:00.000
2024-12-13 00:56:54,132 - INFO - pnl: 2024-02-15T23:59:59.999 155500.86430018043 === 3.885%
2024-12-13 00:56:54,135 - DEBUG - cur time: 2024-02-16T23:59:59.999 == next bar open time: 2024-02-17T00:00:00.000 == close pos time: 2024-02-22T00:00:00.000
2024-12-13 00:56:54,137 - INFO - pnl: 2024-02-16T23:59:59.999 158425.54538326297 === 1.881%
2024-12-13 00:56:54,141 - DEBUG - cur time: 2024-02-17T23:59:59.999 == next bar open time: 2024-02-18T00:00:00.000 == close pos time: 2024-02-23T00:00:00.000
2024-12-13 00:56:54,152 - DEBUG - close time 2024-02-17T23:59:59.999 == vol_threshold: 13943784.4
2024-12-13 00:56:54,153 - DEBUG - 2024-02-17T23:59:59.999 == all trade symbol 230 == remain 161 after VOL filter
2024-12-13 00:56:54,156 - DEBUG - sorted_long_factors: shape: (161, 4)
┌───────────┬──────────────┬──────┬──────────────┐
│ symbol    ┆ factor_value ┆ rank ┆ reverse_rank │
│ ---       ┆ ---          ┆ ---  ┆ ---          │
│ str       ┆ f64          ┆ u32  ┆ u32          │
╞═══════════╪══════════════╪══════╪══════════════╡
│ WLDUSDT   ┆ -0.785375    ┆ 0    ┆ 160          │
│ RNDRUSDT  ┆ -0.762489    ┆ 1    ┆ 159          │
│ LPTUSDT   ┆ -0.725647    ┆ 2    ┆ 158          │
│ ARKUSDT   ┆ -0.722235    ┆ 3    ┆ 157          │
│ FILUSDT   ┆ -0.7089      ┆ 4    ┆ 156          │
│ SEIUSDT   ┆ -0.685226    ┆ 5    ┆ 155          │
│ RLCUSDT   ┆ -0.677934    ┆ 6    ┆ 154          │
│ APEUSDT   ┆ -0.636511    ┆ 7    ┆ 153          │
│ POLYXUSDT ┆ -0.593717    ┆ 8    ┆ 152          │
│ SANDUSDT  ┆ -0.592524    ┆ 9    ┆ 151          │
│ …         ┆ …            ┆ …    ┆ …            │
│ REEFUSDT  ┆ 0.428377     ┆ 151  ┆ 9            │
│ IDEXUSDT  ┆ 0.490695     ┆ 152  ┆ 8            │
│ ACHUSDT   ┆ 0.520041     ┆ 153  ┆ 7            │
│ CELRUSDT  ┆ 0.543036     ┆ 154  ┆ 6            │
│ BICOUSDT  ┆ 0.567947     ┆ 155  ┆ 5            │
│ ONEUSDT   ┆ 0.608256     ┆ 156  ┆ 4            │
│ KEYUSDT   ┆ 0.617871     ┆ 157  ┆ 3            │
│ TLMUSDT   ┆ 0.666239     ┆ 158  ┆ 2            │
│ LEVERUSDT ┆ 0.737161     ┆ 159  ┆ 1            │
│ DGBUSDT   ┆ 1.31584      ┆ 160  ┆ 0            │
└───────────┴──────────────┴──────┴──────────────┘
2024-12-13 00:56:54,161 - WARNING - 2024-02-17T23:59:59.999=====cur_long_scale: 1.2 not match == long_value_ratio: 1.0
2024-12-13 00:56:54,161 - INFO - cur close time: 2024-02-17T23:59:59.999 == long_value_ratio: 1.0 == short_value_ratio: 1.0 --- 1.2
2024-12-13 00:56:54,161 - DEBUG - mean expected ret (mean factor): -0.07923115321348159
2024-12-13 00:56:54,167 - DEBUG - begin to update pos: =========
2024-12-13 00:56:54,167 - DEBUG - next_step_value: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ i64     ┆ i64    ┆ i64     ┆ i64     │
│ i64         ┆ f64         ┆ i64         ┆ i64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0           ┆ 5000.0      ┆ 0           ┆ 0           ┆ … ┆ 0       ┆ 0      ┆ 0       ┆ 0       │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:54,167 - DEBUG - all_open_price_when_open_pos: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ f64     ┆ f64    ┆ f64     ┆ f64     │
│ f64         ┆ f64         ┆ f64         ┆ f64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0.012845    ┆ 0.03339     ┆ 0.1296      ┆ 0.0011883   ┆ … ┆ 0.02286 ┆ null   ┆ null    ┆ 0.3428  │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:54,172 - DEBUG - update position: 2024-02-17T23:59:59.999 === diff_trading_value: 285122.4914472942 == cash: 162260.70433257427 
2024-12-13 00:56:54,174 - INFO - pnl: 2024-02-17T23:59:59.999 162260.70433257427 === 2.421%
2024-12-13 00:56:54,177 - DEBUG - cur time: 2024-02-18T23:59:59.999 == next bar open time: 2024-02-19T00:00:00.000 == close pos time: 2024-02-24T00:00:00.000
2024-12-13 00:56:54,178 - INFO - pnl: 2024-02-18T23:59:59.999 161193.6340598483 === -0.658%
2024-12-13 00:56:54,178 - DEBUG - cur time: 2024-02-19T23:59:59.999 == next bar open time: 2024-02-20T00:00:00.000 == close pos time: 2024-02-25T00:00:00.000
2024-12-13 00:56:54,183 - INFO - pnl: 2024-02-19T23:59:59.999 156337.64901675208 === -3.013%
2024-12-13 00:56:54,187 - DEBUG - cur time: 2024-02-20T23:59:59.999 == next bar open time: 2024-02-21T00:00:00.000 == close pos time: 2024-02-26T00:00:00.000
2024-12-13 00:56:54,187 - INFO - pnl: 2024-02-20T23:59:59.999 155958.00676025142 === -0.243%
2024-12-13 00:56:54,191 - DEBUG - cur time: 2024-02-21T23:59:59.999 == next bar open time: 2024-02-22T00:00:00.000 == close pos time: 2024-02-27T00:00:00.000
2024-12-13 00:56:54,191 - INFO - pnl: 2024-02-21T23:59:59.999 155224.8247424568 === -0.470%
2024-12-13 00:56:54,197 - DEBUG - cur time: 2024-02-22T23:59:59.999 == next bar open time: 2024-02-23T00:00:00.000 == close pos time: 2024-02-28T00:00:00.000
2024-12-13 00:56:54,208 - DEBUG - close time 2024-02-22T23:59:59.999 == vol_threshold: 14769611.0
2024-12-13 00:56:54,208 - DEBUG - 2024-02-22T23:59:59.999 == all trade symbol 231 == remain 161 after VOL filter
2024-12-13 00:56:54,212 - DEBUG - sorted_long_factors: shape: (161, 4)
┌─────────────┬──────────────┬──────┬──────────────┐
│ symbol      ┆ factor_value ┆ rank ┆ reverse_rank │
│ ---         ┆ ---          ┆ ---  ┆ ---          │
│ str         ┆ f64          ┆ u32  ┆ u32          │
╞═════════════╪══════════════╪══════╪══════════════╡
│ WLDUSDT     ┆ -0.940711    ┆ 0    ┆ 160          │
│ RNDRUSDT    ┆ -0.888904    ┆ 1    ┆ 159          │
│ FILUSDT     ┆ -0.851332    ┆ 2    ┆ 158          │
│ MASKUSDT    ┆ -0.847799    ┆ 3    ┆ 157          │
│ MATICUSDT   ┆ -0.820772    ┆ 4    ┆ 156          │
│ API3USDT    ┆ -0.735536    ┆ 5    ┆ 155          │
│ EOSUSDT     ┆ -0.732246    ┆ 6    ┆ 154          │
│ FETUSDT     ┆ -0.726679    ┆ 7    ┆ 153          │
│ SUSHIUSDT   ┆ -0.701606    ┆ 8    ┆ 152          │
│ RLCUSDT     ┆ -0.699511    ┆ 9    ┆ 151          │
│ …           ┆ …            ┆ …    ┆ …            │
│ BNXUSDT     ┆ 0.467345     ┆ 151  ┆ 9            │
│ SNTUSDT     ┆ 0.53472      ┆ 152  ┆ 8            │
│ IOSTUSDT    ┆ 0.545396     ┆ 153  ┆ 7            │
│ 1000XECUSDT ┆ 0.559099     ┆ 154  ┆ 6            │
│ REEFUSDT    ┆ 0.652259     ┆ 155  ┆ 5            │
│ XVGUSDT     ┆ 0.721222     ┆ 156  ┆ 4            │
│ TLMUSDT     ┆ 0.776935     ┆ 157  ┆ 3            │
│ BICOUSDT    ┆ 0.804264     ┆ 158  ┆ 2            │
│ CTKUSDT     ┆ 0.953092     ┆ 159  ┆ 1            │
│ DGBUSDT     ┆ 1.039894     ┆ 160  ┆ 0            │
└─────────────┴──────────────┴──────┴──────────────┘
2024-12-13 00:56:54,220 - WARNING - 2024-02-22T23:59:59.999=====cur_long_scale: 1.2 not match == long_value_ratio: 1.0
2024-12-13 00:56:54,220 - INFO - cur close time: 2024-02-22T23:59:59.999 == long_value_ratio: 1.0 == short_value_ratio: 1.0 --- 1.2
2024-12-13 00:56:54,220 - DEBUG - mean expected ret (mean factor): -0.06054710262206895
2024-12-13 00:56:54,228 - DEBUG - begin to update pos: =========
2024-12-13 00:56:54,228 - DEBUG - next_step_value: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ i64     ┆ i64    ┆ i64     ┆ i64     │
│ i64         ┆ i64         ┆ i64         ┆ i64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0           ┆ 0           ┆ 0           ┆ 0           ┆ … ┆ 0       ┆ 0      ┆ 0       ┆ 0       │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:54,228 - DEBUG - all_open_price_when_open_pos: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ f64     ┆ f64    ┆ f64     ┆ f64     │
│ f64         ┆ f64         ┆ f64         ┆ f64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0.011664    ┆ 0.03365     ┆ 0.12141     ┆ 0.0012105   ┆ … ┆ 0.02339 ┆ null   ┆ null    ┆ 0.3528  │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:54,237 - DEBUG - update position: 2024-02-22T23:59:59.999 === diff_trading_value: 239364.5857118115 == cash: 153743.55191884958 
2024-12-13 00:56:54,237 - INFO - pnl: 2024-02-22T23:59:59.999 153743.55191884958 === -0.954%
2024-12-13 00:56:54,243 - DEBUG - cur time: 2024-02-23T23:59:59.999 == next bar open time: 2024-02-24T00:00:00.000 == close pos time: 2024-02-29T00:00:00.000
2024-12-13 00:56:54,244 - INFO - pnl: 2024-02-23T23:59:59.999 153757.46512633795 === 0.009%
2024-12-13 00:56:54,252 - DEBUG - cur time: 2024-02-24T23:59:59.999 == next bar open time: 2024-02-25T00:00:00.000 == close pos time: 2024-03-01T00:00:00.000
2024-12-13 00:56:54,254 - INFO - pnl: 2024-02-24T23:59:59.999 156455.50558417925 === 1.755%
2024-12-13 00:56:54,258 - DEBUG - cur time: 2024-02-25T23:59:59.999 == next bar open time: 2024-02-26T00:00:00.000 == close pos time: 2024-03-02T00:00:00.000
2024-12-13 00:56:54,262 - INFO - pnl: 2024-02-25T23:59:59.999 163502.11663908692 === 4.504%
2024-12-13 00:56:54,269 - DEBUG - cur time: 2024-02-26T23:59:59.999 == next bar open time: 2024-02-27T00:00:00.000 == close pos time: 2024-03-03T00:00:00.000
2024-12-13 00:56:54,270 - INFO - pnl: 2024-02-26T23:59:59.999 165690.15855402278 === 1.338%
2024-12-13 00:56:54,275 - DEBUG - cur time: 2024-02-27T23:59:59.999 == next bar open time: 2024-02-28T00:00:00.000 == close pos time: 2024-03-04T00:00:00.000
2024-12-13 00:56:54,283 - DEBUG - close time 2024-02-27T23:59:59.999 == vol_threshold: 16033893.5
2024-12-13 00:56:54,287 - DEBUG - 2024-02-27T23:59:59.999 == all trade symbol 231 == remain 161 after VOL filter
2024-12-13 00:56:54,287 - DEBUG - sorted_long_factors: shape: (161, 4)
┌───────────┬──────────────┬──────┬──────────────┐
│ symbol    ┆ factor_value ┆ rank ┆ reverse_rank │
│ ---       ┆ ---          ┆ ---  ┆ ---          │
│ str       ┆ f64          ┆ u32  ┆ u32          │
╞═══════════╪══════════════╪══════╪══════════════╡
│ JTOUSDT   ┆ -0.868953    ┆ 0    ┆ 160          │
│ API3USDT  ┆ -0.808693    ┆ 1    ┆ 159          │
│ STORJUSDT ┆ -0.777193    ┆ 2    ┆ 158          │
│ STXUSDT   ┆ -0.739124    ┆ 3    ┆ 157          │
│ DOTUSDT   ┆ -0.694279    ┆ 4    ┆ 156          │
│ PYTHUSDT  ┆ -0.656768    ┆ 5    ┆ 155          │
│ POWRUSDT  ┆ -0.613607    ┆ 6    ┆ 154          │
│ IMXUSDT   ┆ -0.590905    ┆ 7    ┆ 153          │
│ SEIUSDT   ┆ -0.590747    ┆ 8    ┆ 152          │
│ EOSUSDT   ┆ -0.588729    ┆ 9    ┆ 151          │
│ …         ┆ …            ┆ …    ┆ …            │
│ HFTUSDT   ┆ 0.625514     ┆ 151  ┆ 9            │
│ IDEXUSDT  ┆ 0.659991     ┆ 152  ┆ 8            │
│ DODOXUSDT ┆ 0.662824     ┆ 153  ┆ 7            │
│ REEFUSDT  ┆ 0.701238     ┆ 154  ┆ 6            │
│ TLMUSDT   ┆ 0.720888     ┆ 155  ┆ 5            │
│ WAXPUSDT  ┆ 0.735156     ┆ 156  ┆ 4            │
│ RSRUSDT   ┆ 0.795136     ┆ 157  ┆ 3            │
│ RENUSDT   ┆ 0.804952     ┆ 158  ┆ 2            │
│ DGBUSDT   ┆ 0.830847     ┆ 159  ┆ 1            │
│ BICOUSDT  ┆ 0.996869     ┆ 160  ┆ 0            │
└───────────┴──────────────┴──────┴──────────────┘
2024-12-13 00:56:54,302 - WARNING - 2024-02-27T23:59:59.999=====cur_long_scale: 1.2 not match == long_value_ratio: 1.0
2024-12-13 00:56:54,302 - INFO - cur close time: 2024-02-27T23:59:59.999 == long_value_ratio: 1.0 == short_value_ratio: 1.0 --- 1.2
2024-12-13 00:56:54,303 - DEBUG - mean expected ret (mean factor): -0.03892423178852738
2024-12-13 00:56:54,307 - DEBUG - begin to update pos: =========
2024-12-13 00:56:54,307 - DEBUG - next_step_value: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ i64     ┆ i64    ┆ i64     ┆ i64     │
│ i64         ┆ i64         ┆ i64         ┆ i64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0           ┆ 0           ┆ 0           ┆ 0           ┆ … ┆ 0       ┆ 0      ┆ 0       ┆ 0       │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:54,308 - DEBUG - all_open_price_when_open_pos: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ f64     ┆ f64    ┆ f64     ┆ f64     │
│ f64         ┆ f64         ┆ f64         ┆ f64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0.014885    ┆ 0.05097     ┆ 0.13141     ┆ 0.0026636   ┆ … ┆ 0.02624 ┆ null   ┆ null    ┆ 0.3801  │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:54,313 - DEBUG - update position: 2024-02-27T23:59:59.999 === diff_trading_value: 274876.762224522 == cash: 167245.16165263898 
2024-12-13 00:56:54,316 - INFO - pnl: 2024-02-27T23:59:59.999 167245.16165263898 === 0.939%
2024-12-13 00:56:54,320 - DEBUG - cur time: 2024-02-28T23:59:59.999 == next bar open time: 2024-02-29T00:00:00.000 == close pos time: 2024-03-05T00:00:00.000
2024-12-13 00:56:54,321 - INFO - pnl: 2024-02-28T23:59:59.999 173945.04693957276 === 4.006%
2024-12-13 00:56:54,325 - DEBUG - cur time: 2024-02-29T23:59:59.999 == next bar open time: 2024-03-01T00:00:00.000 == close pos time: 2024-03-06T00:00:00.000
2024-12-13 00:56:54,325 - INFO - pnl: 2024-02-29T23:59:59.999 176495.06807185948 === 1.466%
2024-12-13 00:56:54,329 - DEBUG - cur time: 2024-03-01T23:59:59.999 == next bar open time: 2024-03-02T00:00:00.000 == close pos time: 2024-03-07T00:00:00.000
2024-12-13 00:56:54,329 - INFO - pnl: 2024-03-01T23:59:59.999 182919.37082293368 === 3.640%
2024-12-13 00:56:54,336 - DEBUG - cur time: 2024-03-02T23:59:59.999 == next bar open time: 2024-03-03T00:00:00.000 == close pos time: 2024-03-08T00:00:00.000
2024-12-13 00:56:54,337 - INFO - pnl: 2024-03-02T23:59:59.999 182516.40761303355 === -0.220%
2024-12-13 00:56:54,341 - DEBUG - cur time: 2024-03-03T23:59:59.999 == next bar open time: 2024-03-04T00:00:00.000 == close pos time: 2024-03-09T00:00:00.000
2024-12-13 00:56:54,353 - DEBUG - close time 2024-03-03T23:59:59.999 == vol_threshold: 20500245.599999983
2024-12-13 00:56:54,353 - DEBUG - 2024-03-03T23:59:59.999 == all trade symbol 233 == remain 163 after VOL filter
2024-12-13 00:56:54,357 - DEBUG - sorted_long_factors: shape: (163, 4)
┌──────────────┬──────────────┬──────┬──────────────┐
│ symbol       ┆ factor_value ┆ rank ┆ reverse_rank │
│ ---          ┆ ---          ┆ ---  ┆ ---          │
│ str          ┆ f64          ┆ u32  ┆ u32          │
╞══════════════╪══════════════╪══════╪══════════════╡
│ IMXUSDT      ┆ -0.934591    ┆ 0    ┆ 162          │
│ STXUSDT      ┆ -0.90196     ┆ 1    ┆ 161          │
│ DOTUSDT      ┆ -0.840653    ┆ 2    ┆ 160          │
│ ARBUSDT      ┆ -0.829985    ┆ 3    ┆ 159          │
│ 1000RATSUSDT ┆ -0.809425    ┆ 4    ┆ 158          │
│ FILUSDT      ┆ -0.766925    ┆ 5    ┆ 157          │
│ WAVESUSDT    ┆ -0.732687    ┆ 6    ┆ 156          │
│ JTOUSDT      ┆ -0.724242    ┆ 7    ┆ 155          │
│ WLDUSDT      ┆ -0.717495    ┆ 8    ┆ 154          │
│ MEMEUSDT     ┆ -0.712508    ┆ 9    ┆ 153          │
│ …            ┆ …            ┆ …    ┆ …            │
│ CELOUSDT     ┆ 0.504694     ┆ 153  ┆ 9            │
│ STPTUSDT     ┆ 0.511107     ┆ 154  ┆ 8            │
│ TRUUSDT      ┆ 0.521028     ┆ 155  ┆ 7            │
│ IOSTUSDT     ┆ 0.523319     ┆ 156  ┆ 6            │
│ RENUSDT      ┆ 0.534582     ┆ 157  ┆ 5            │
│ WAXPUSDT     ┆ 0.586483     ┆ 158  ┆ 4            │
│ DGBUSDT      ┆ 0.591225     ┆ 159  ┆ 3            │
│ PEOPLEUSDT   ┆ 0.675049     ┆ 160  ┆ 2            │
│ DODOXUSDT    ┆ 0.741845     ┆ 161  ┆ 1            │
│ OXTUSDT      ┆ 1.057666     ┆ 162  ┆ 0            │
└──────────────┴──────────────┴──────┴──────────────┘
2024-12-13 00:56:54,364 - WARNING - 2024-03-03T23:59:59.999=====cur_long_scale: 1.2 not match == long_value_ratio: 1.0
2024-12-13 00:56:54,364 - INFO - cur close time: 2024-03-03T23:59:59.999 == long_value_ratio: 1.0 == short_value_ratio: 1.0 --- 1.2
2024-12-13 00:56:54,366 - DEBUG - mean expected ret (mean factor): -0.07850708100677652
2024-12-13 00:56:54,371 - DEBUG - begin to update pos: =========
2024-12-13 00:56:54,371 - DEBUG - next_step_value: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ i64     ┆ i64    ┆ i64     ┆ i64     │
│ i64         ┆ i64         ┆ i64         ┆ i64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0           ┆ 0           ┆ 0           ┆ 0           ┆ … ┆ 0       ┆ 0      ┆ 0       ┆ 0       │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:54,371 - DEBUG - all_open_price_when_open_pos: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ f64     ┆ f64    ┆ f64     ┆ f64     │
│ f64         ┆ f64         ┆ f64         ┆ f64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0.027227    ┆ 0.14651     ┆ 0.18078     ┆ 0.0059289   ┆ … ┆ 0.03028 ┆ null   ┆ null    ┆ 0.4202  │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:54,378 - DEBUG - update position: 2024-03-03T23:59:59.999 === diff_trading_value: 259773.3482819779 == cash: 184714.70247677862 
2024-12-13 00:56:54,379 - INFO - pnl: 2024-03-03T23:59:59.999 184714.70247677862 === 1.204%
2024-12-13 00:56:54,386 - DEBUG - cur time: 2024-03-04T23:59:59.999 == next bar open time: 2024-03-05T00:00:00.000 == close pos time: 2024-03-10T00:00:00.000
2024-12-13 00:56:54,387 - INFO - pnl: 2024-03-04T23:59:59.999 184662.5955650895 === -0.028%
2024-12-13 00:56:54,394 - DEBUG - cur time: 2024-03-05T23:59:59.999 == next bar open time: 2024-03-06T00:00:00.000 == close pos time: 2024-03-11T00:00:00.000
2024-12-13 00:56:54,396 - INFO - pnl: 2024-03-05T23:59:59.999 187091.87241835834 === 1.316%
2024-12-13 00:56:54,402 - DEBUG - cur time: 2024-03-06T23:59:59.999 == next bar open time: 2024-03-07T00:00:00.000 == close pos time: 2024-03-12T00:00:00.000
2024-12-13 00:56:54,406 - INFO - pnl: 2024-03-06T23:59:59.999 190310.8313984233 === 1.721%
2024-12-13 00:56:54,416 - DEBUG - cur time: 2024-03-07T23:59:59.999 == next bar open time: 2024-03-08T00:00:00.000 == close pos time: 2024-03-13T00:00:00.000
2024-12-13 00:56:54,420 - INFO - pnl: 2024-03-07T23:59:59.999 193261.3371570041 === 1.550%
2024-12-13 00:56:54,427 - DEBUG - cur time: 2024-03-08T23:59:59.999 == next bar open time: 2024-03-09T00:00:00.000 == close pos time: 2024-03-14T00:00:00.000
2024-12-13 00:56:54,443 - DEBUG - close time 2024-03-08T23:59:59.999 == vol_threshold: 18281207.4
2024-12-13 00:56:54,445 - DEBUG - 2024-03-08T23:59:59.999 == all trade symbol 233 == remain 163 after VOL filter
2024-12-13 00:56:54,449 - DEBUG - sorted_long_factors: shape: (163, 4)
┌─────────────┬──────────────┬──────┬──────────────┐
│ symbol      ┆ factor_value ┆ rank ┆ reverse_rank │
│ ---         ┆ ---          ┆ ---  ┆ ---          │
│ str         ┆ f64          ┆ u32  ┆ u32          │
╞═════════════╪══════════════╪══════╪══════════════╡
│ LPTUSDT     ┆ -0.953847    ┆ 0    ┆ 162          │
│ STXUSDT     ┆ -0.816539    ┆ 1    ┆ 161          │
│ PHBUSDT     ┆ -0.768079    ┆ 2    ┆ 160          │
│ RUNEUSDT    ┆ -0.751226    ┆ 3    ┆ 159          │
│ RNDRUSDT    ┆ -0.687028    ┆ 4    ┆ 158          │
│ NEARUSDT    ┆ -0.660742    ┆ 5    ┆ 157          │
│ PYTHUSDT    ┆ -0.638488    ┆ 6    ┆ 156          │
│ STORJUSDT   ┆ -0.637708    ┆ 7    ┆ 155          │
│ IDUSDT      ┆ -0.630886    ┆ 8    ┆ 154          │
│ BIGTIMEUSDT ┆ -0.598209    ┆ 9    ┆ 153          │
│ …           ┆ …            ┆ …    ┆ …            │
│ KNCUSDT     ┆ 0.464159     ┆ 153  ┆ 9            │
│ OGNUSDT     ┆ 0.476812     ┆ 154  ┆ 8            │
│ NKNUSDT     ┆ 0.488644     ┆ 155  ┆ 7            │
│ ARKMUSDT    ┆ 0.499091     ┆ 156  ┆ 6            │
│ JOEUSDT     ┆ 0.510147     ┆ 157  ┆ 5            │
│ CELOUSDT    ┆ 0.618591     ┆ 158  ┆ 4            │
│ DODOXUSDT   ┆ 0.647418     ┆ 159  ┆ 3            │
│ ONGUSDT     ┆ 0.726335     ┆ 160  ┆ 2            │
│ OXTUSDT     ┆ 0.746662     ┆ 161  ┆ 1            │
│ IDEXUSDT    ┆ 1.119353     ┆ 162  ┆ 0            │
└─────────────┴──────────────┴──────┴──────────────┘
2024-12-13 00:56:54,461 - WARNING - 2024-03-08T23:59:59.999=====cur_long_scale: 1.2 not match == long_value_ratio: 1.0
2024-12-13 00:56:54,461 - INFO - cur close time: 2024-03-08T23:59:59.999 == long_value_ratio: 1.0 == short_value_ratio: 1.0 --- 1.2
2024-12-13 00:56:54,461 - DEBUG - mean expected ret (mean factor): -0.08283958678600009
2024-12-13 00:56:54,467 - DEBUG - begin to update pos: =========
2024-12-13 00:56:54,468 - DEBUG - next_step_value: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ i64     ┆ i64    ┆ i64     ┆ i64     │
│ i64         ┆ i64         ┆ i64         ┆ i64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0           ┆ 0           ┆ 0           ┆ 0           ┆ … ┆ 0       ┆ 0      ┆ 0       ┆ 0       │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:54,468 - DEBUG - all_open_price_when_open_pos: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ f64     ┆ f64    ┆ f64     ┆ f64     │
│ f64         ┆ f64         ┆ f64         ┆ f64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0.031768    ┆ 0.23232     ┆ 0.19463     ┆ 0.0090253   ┆ … ┆ 0.0349  ┆ null   ┆ null    ┆ 0.5576  │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:54,477 - DEBUG - update position: 2024-03-08T23:59:59.999 === diff_trading_value: 301086.2239379567 == cash: 189472.79886524568 
2024-12-13 00:56:54,479 - INFO - pnl: 2024-03-08T23:59:59.999 189472.79886524568 === -1.960%
2024-12-13 00:56:54,483 - DEBUG - cur time: 2024-03-09T23:59:59.999 == next bar open time: 2024-03-10T00:00:00.000 == close pos time: 2024-03-15T00:00:00.000
2024-12-13 00:56:54,483 - INFO - pnl: 2024-03-09T23:59:59.999 188368.7875812151 === -0.583%
2024-12-13 00:56:54,492 - DEBUG - cur time: 2024-03-10T23:59:59.999 == next bar open time: 2024-03-11T00:00:00.000 == close pos time: 2024-03-16T00:00:00.000
2024-12-13 00:56:54,492 - INFO - pnl: 2024-03-10T23:59:59.999 181043.76490266545 === -3.889%
2024-12-13 00:56:54,500 - DEBUG - cur time: 2024-03-11T23:59:59.999 == next bar open time: 2024-03-12T00:00:00.000 == close pos time: 2024-03-17T00:00:00.000
2024-12-13 00:56:54,504 - INFO - pnl: 2024-03-11T23:59:59.999 186908.49786051505 === 3.239%
2024-12-13 00:56:54,508 - DEBUG - cur time: 2024-03-12T23:59:59.999 == next bar open time: 2024-03-13T00:00:00.000 == close pos time: 2024-03-18T00:00:00.000
2024-12-13 00:56:54,510 - INFO - pnl: 2024-03-12T23:59:59.999 185739.0128992471 === -0.626%
2024-12-13 00:56:54,513 - DEBUG - cur time: 2024-03-13T23:59:59.999 == next bar open time: 2024-03-14T00:00:00.000 == close pos time: 2024-03-19T00:00:00.000
2024-12-13 00:56:54,530 - DEBUG - close time 2024-03-13T23:59:59.999 == vol_threshold: 16595224.497999998
2024-12-13 00:56:54,531 - DEBUG - 2024-03-13T23:59:59.999 == all trade symbol 234 == remain 164 after VOL filter
2024-12-13 00:56:54,533 - DEBUG - sorted_long_factors: shape: (164, 4)
┌──────────────┬──────────────┬──────┬──────────────┐
│ symbol       ┆ factor_value ┆ rank ┆ reverse_rank │
│ ---          ┆ ---          ┆ ---  ┆ ---          │
│ str          ┆ f64          ┆ u32  ┆ u32          │
╞══════════════╪══════════════╪══════╪══════════════╡
│ MTLUSDT      ┆ -0.846526    ┆ 0    ┆ 163          │
│ HIFIUSDT     ┆ -0.749921    ┆ 1    ┆ 162          │
│ 1000RATSUSDT ┆ -0.655139    ┆ 2    ┆ 161          │
│ STXUSDT      ┆ -0.649596    ┆ 3    ┆ 160          │
│ CAKEUSDT     ┆ -0.64442     ┆ 4    ┆ 159          │
│ POWRUSDT     ┆ -0.642865    ┆ 5    ┆ 158          │
│ LOOMUSDT     ┆ -0.574159    ┆ 6    ┆ 157          │
│ 1000BONKUSDT ┆ -0.571281    ┆ 7    ┆ 156          │
│ PYTHUSDT     ┆ -0.564359    ┆ 8    ┆ 155          │
│ LUNA2USDT    ┆ -0.547826    ┆ 9    ┆ 154          │
│ …            ┆ …            ┆ …    ┆ …            │
│ AGIXUSDT     ┆ 0.310766     ┆ 154  ┆ 9            │
│ OXTUSDT      ┆ 0.31554      ┆ 155  ┆ 8            │
│ OCEANUSDT    ┆ 0.345378     ┆ 156  ┆ 7            │
│ YGGUSDT      ┆ 0.379797     ┆ 157  ┆ 6            │
│ EDUUSDT      ┆ 0.385243     ┆ 158  ┆ 5            │
│ SNTUSDT      ┆ 0.400906     ┆ 159  ┆ 4            │
│ IMXUSDT      ┆ 0.470503     ┆ 160  ┆ 3            │
│ ONGUSDT      ┆ 0.642373     ┆ 161  ┆ 2            │
│ DGBUSDT      ┆ 0.68034      ┆ 162  ┆ 1            │
│ IDEXUSDT     ┆ 1.012734     ┆ 163  ┆ 0            │
└──────────────┴──────────────┴──────┴──────────────┘
2024-12-13 00:56:54,537 - WARNING - 2024-03-13T23:59:59.999=====cur_long_scale: 1.2 not match == long_value_ratio: 1.0
2024-12-13 00:56:54,537 - INFO - cur close time: 2024-03-13T23:59:59.999 == long_value_ratio: 1.0 == short_value_ratio: 1.0 --- 1.2
2024-12-13 00:56:54,537 - DEBUG - mean expected ret (mean factor): -0.07776785391520796
2024-12-13 00:56:54,545 - DEBUG - begin to update pos: =========
2024-12-13 00:56:54,545 - DEBUG - next_step_value: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ i64     ┆ i64    ┆ i64     ┆ i64     │
│ f64         ┆ i64         ┆ i64         ┆ i64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ -10000.0    ┆ 0           ┆ 0           ┆ 0           ┆ … ┆ 0       ┆ 0      ┆ 0       ┆ 0       │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:54,545 - DEBUG - all_open_price_when_open_pos: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ f64     ┆ f64    ┆ f64     ┆ f64     │
│ f64         ┆ f64         ┆ f64         ┆ f64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0.03192     ┆ 0.26886     ┆ 0.18291     ┆ 0.0090412   ┆ … ┆ 0.04054 ┆ null   ┆ null    ┆ 1.0997  │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:54,552 - DEBUG - update position: 2024-03-13T23:59:59.999 === diff_trading_value: 335390.79946858715 == cash: 188644.4780584374 
2024-12-13 00:56:54,553 - INFO - pnl: 2024-03-13T23:59:59.999 188644.4780584374 === 1.564%
2024-12-13 00:56:54,557 - DEBUG - cur time: 2024-03-14T23:59:59.999 == next bar open time: 2024-03-15T00:00:00.000 == close pos time: 2024-03-20T00:00:00.000
2024-12-13 00:56:54,559 - INFO - pnl: 2024-03-14T23:59:59.999 190239.1757774902 === 0.845%
2024-12-13 00:56:54,562 - DEBUG - cur time: 2024-03-15T23:59:59.999 == next bar open time: 2024-03-16T00:00:00.000 == close pos time: 2024-03-21T00:00:00.000
2024-12-13 00:56:54,564 - INFO - pnl: 2024-03-15T23:59:59.999 192252.98846006958 === 1.059%
2024-12-13 00:56:54,567 - DEBUG - cur time: 2024-03-16T23:59:59.999 == next bar open time: 2024-03-17T00:00:00.000 == close pos time: 2024-03-22T00:00:00.000
2024-12-13 00:56:54,567 - INFO - pnl: 2024-03-16T23:59:59.999 189991.25854988306 === -1.176%
2024-12-13 00:56:54,570 - DEBUG - cur time: 2024-03-17T23:59:59.999 == next bar open time: 2024-03-18T00:00:00.000 == close pos time: 2024-03-23T00:00:00.000
2024-12-13 00:56:54,570 - INFO - pnl: 2024-03-17T23:59:59.999 190779.00864037155 === 0.415%
2024-12-13 00:56:54,578 - DEBUG - cur time: 2024-03-18T23:59:59.999 == next bar open time: 2024-03-19T00:00:00.000 == close pos time: 2024-03-24T00:00:00.000
2024-12-13 00:56:54,592 - DEBUG - close time 2024-03-18T23:59:59.999 == vol_threshold: 15313516.599999998
2024-12-13 00:56:54,593 - DEBUG - 2024-03-18T23:59:59.999 == all trade symbol 234 == remain 164 after VOL filter
2024-12-13 00:56:54,595 - DEBUG - sorted_long_factors: shape: (164, 4)
┌───────────┬──────────────┬──────┬──────────────┐
│ symbol    ┆ factor_value ┆ rank ┆ reverse_rank │
│ ---       ┆ ---          ┆ ---  ┆ ---          │
│ str       ┆ f64          ┆ u32  ┆ u32          │
╞═══════════╪══════════════╪══════╪══════════════╡
│ APTUSDT   ┆ -1.169128    ┆ 0    ┆ 163          │
│ JTOUSDT   ┆ -1.128146    ┆ 1    ┆ 162          │
│ FTMUSDT   ┆ -0.808299    ┆ 2    ┆ 161          │
│ PYTHUSDT  ┆ -0.785961    ┆ 3    ┆ 160          │
│ WLDUSDT   ┆ -0.757925    ┆ 4    ┆ 159          │
│ XRPUSDT   ┆ -0.754457    ┆ 5    ┆ 158          │
│ HIFIUSDT  ┆ -0.744316    ┆ 6    ┆ 157          │
│ JOEUSDT   ┆ -0.733074    ┆ 7    ┆ 156          │
│ CYBERUSDT ┆ -0.684064    ┆ 8    ┆ 155          │
│ EDUUSDT   ┆ -0.62625     ┆ 9    ┆ 154          │
│ …         ┆ …            ┆ …    ┆ …            │
│ LDOUSDT   ┆ 0.485709     ┆ 154  ┆ 9            │
│ DGBUSDT   ┆ 0.556335     ┆ 155  ┆ 8            │
│ WOOUSDT   ┆ 0.602439     ┆ 156  ┆ 7            │
│ TRUUSDT   ┆ 0.705243     ┆ 157  ┆ 6            │
│ ONGUSDT   ┆ 0.736938     ┆ 158  ┆ 5            │
│ ARBUSDT   ┆ 0.74001      ┆ 159  ┆ 4            │
│ OXTUSDT   ┆ 0.76595      ┆ 160  ┆ 3            │
│ SNTUSDT   ┆ 0.832881     ┆ 161  ┆ 2            │
│ IDEXUSDT  ┆ 0.929125     ┆ 162  ┆ 1            │
│ KEYUSDT   ┆ 1.05868      ┆ 163  ┆ 0            │
└───────────┴──────────────┴──────┴──────────────┘
2024-12-13 00:56:54,603 - WARNING - 2024-03-18T23:59:59.999=====cur_long_scale: 0.8 not match == long_value_ratio: 1.0
2024-12-13 00:56:54,603 - INFO - cur close time: 2024-03-18T23:59:59.999 == long_value_ratio: 1.0 == short_value_ratio: 1.0 --- 0.8
2024-12-13 00:56:54,603 - DEBUG - mean expected ret (mean factor): -0.06810319834341752
2024-12-13 00:56:54,609 - DEBUG - begin to update pos: =========
2024-12-13 00:56:54,609 - DEBUG - next_step_value: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ i64     ┆ i64    ┆ i64     ┆ i64     │
│ i64         ┆ i64         ┆ i64         ┆ i64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0           ┆ 0           ┆ 0           ┆ 0           ┆ … ┆ 0       ┆ 0      ┆ 0       ┆ 0       │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:54,609 - DEBUG - all_open_price_when_open_pos: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ f64     ┆ f64    ┆ f64     ┆ f64     │
│ f64         ┆ f64         ┆ f64         ┆ f64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0.023598    ┆ 0.19294     ┆ 0.14091     ┆ 0.0068171   ┆ … ┆ 0.03181 ┆ null   ┆ null    ┆ 1.1823  │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:54,617 - DEBUG - update position: 2024-03-18T23:59:59.999 === diff_trading_value: 264157.11115919694 == cash: 189899.64574655096 
2024-12-13 00:56:54,619 - INFO - pnl: 2024-03-18T23:59:59.999 189899.64574655096 === -0.461%
2024-12-13 00:56:54,624 - DEBUG - cur time: 2024-03-19T23:59:59.999 == next bar open time: 2024-03-20T00:00:00.000 == close pos time: 2024-03-25T00:00:00.000
2024-12-13 00:56:54,627 - INFO - pnl: 2024-03-19T23:59:59.999 187614.63327902838 === -1.203%
2024-12-13 00:56:54,629 - DEBUG - cur time: 2024-03-20T23:59:59.999 == next bar open time: 2024-03-21T00:00:00.000 == close pos time: 2024-03-26T00:00:00.000
2024-12-13 00:56:54,634 - INFO - pnl: 2024-03-20T23:59:59.999 193777.21139858797 === 3.285%
2024-12-13 00:56:54,637 - DEBUG - cur time: 2024-03-21T23:59:59.999 == next bar open time: 2024-03-22T00:00:00.000 == close pos time: 2024-03-27T00:00:00.000
2024-12-13 00:56:54,639 - INFO - pnl: 2024-03-21T23:59:59.999 198482.50715685193 === 2.428%
2024-12-13 00:56:54,644 - DEBUG - cur time: 2024-03-22T23:59:59.999 == next bar open time: 2024-03-23T00:00:00.000 == close pos time: 2024-03-28T00:00:00.000
2024-12-13 00:56:54,647 - INFO - pnl: 2024-03-22T23:59:59.999 198264.492962998 === -0.110%
2024-12-13 00:56:54,654 - DEBUG - cur time: 2024-03-23T23:59:59.999 == next bar open time: 2024-03-24T00:00:00.000 == close pos time: 2024-03-29T00:00:00.000
2024-12-13 00:56:54,668 - DEBUG - close time 2024-03-23T23:59:59.999 == vol_threshold: 11453672.28
2024-12-13 00:56:54,669 - DEBUG - 2024-03-23T23:59:59.999 == all trade symbol 234 == remain 164 after VOL filter
2024-12-13 00:56:54,671 - DEBUG - sorted_long_factors: shape: (164, 4)
┌────────────┬──────────────┬──────┬──────────────┐
│ symbol     ┆ factor_value ┆ rank ┆ reverse_rank │
│ ---        ┆ ---          ┆ ---  ┆ ---          │
│ str        ┆ f64          ┆ u32  ┆ u32          │
╞════════════╪══════════════╪══════╪══════════════╡
│ MASKUSDT   ┆ -1.043447    ┆ 0    ┆ 163          │
│ WAVESUSDT  ┆ -1.016745    ┆ 1    ┆ 162          │
│ BADGERUSDT ┆ -0.965679    ┆ 2    ┆ 161          │
│ WLDUSDT    ┆ -0.889299    ┆ 3    ┆ 160          │
│ HIFIUSDT   ┆ -0.882309    ┆ 4    ┆ 159          │
│ DOTUSDT    ┆ -0.869129    ┆ 5    ┆ 158          │
│ WIFUSDT    ┆ -0.801569    ┆ 6    ┆ 157          │
│ LUNA2USDT  ┆ -0.80121     ┆ 7    ┆ 156          │
│ PENDLEUSDT ┆ -0.795496    ┆ 8    ┆ 155          │
│ NEARUSDT   ┆ -0.793979    ┆ 9    ┆ 154          │
│ …          ┆ …            ┆ …    ┆ …            │
│ DODOXUSDT  ┆ 0.524389     ┆ 154  ┆ 9            │
│ CTSIUSDT   ┆ 0.546125     ┆ 155  ┆ 8            │
│ HOOKUSDT   ┆ 0.546539     ┆ 156  ┆ 7            │
│ DENTUSDT   ┆ 0.550744     ┆ 157  ┆ 6            │
│ SKLUSDT    ┆ 0.553955     ┆ 158  ┆ 5            │
│ ONGUSDT    ┆ 0.583001     ┆ 159  ┆ 4            │
│ CELRUSDT   ┆ 0.594902     ┆ 160  ┆ 3            │
│ XVGUSDT    ┆ 0.622738     ┆ 161  ┆ 2            │
│ DGBUSDT    ┆ 0.680269     ┆ 162  ┆ 1            │
│ OXTUSDT    ┆ 1.522952     ┆ 163  ┆ 0            │
└────────────┴──────────────┴──────┴──────────────┘
2024-12-13 00:56:54,679 - INFO - cur close time: 2024-03-23T23:59:59.999 == long_value_ratio: 1.0 == short_value_ratio: 1.0 --- 1.0
2024-12-13 00:56:54,679 - DEBUG - mean expected ret (mean factor): -0.06294352901494184
2024-12-13 00:56:54,684 - DEBUG - begin to update pos: =========
2024-12-13 00:56:54,684 - DEBUG - next_step_value: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ i64     ┆ i64    ┆ i64     ┆ i64     │
│ i64         ┆ i64         ┆ i64         ┆ i64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0           ┆ 0           ┆ 0           ┆ 0           ┆ … ┆ 0       ┆ 0      ┆ 0       ┆ 0       │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:54,684 - DEBUG - all_open_price_when_open_pos: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ f64     ┆ f64    ┆ f64     ┆ f64     │
│ f64         ┆ f64         ┆ f64         ┆ f64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0.022022    ┆ 0.22865     ┆ 0.15329     ┆ 0.0073248   ┆ … ┆ 0.03287 ┆ null   ┆ null    ┆ 0.8537  │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:54,691 - DEBUG - update position: 2024-03-23T23:59:59.999 === diff_trading_value: 266314.1150572148 == cash: 200332.51883520783 
2024-12-13 00:56:54,692 - INFO - pnl: 2024-03-23T23:59:59.999 200332.51883520783 === 1.043%
2024-12-13 00:56:54,696 - DEBUG - cur time: 2024-03-24T23:59:59.999 == next bar open time: 2024-03-25T00:00:00.000 == close pos time: 2024-03-30T00:00:00.000
2024-12-13 00:56:54,697 - INFO - pnl: 2024-03-24T23:59:59.999 199891.69725708792 === -0.220%
2024-12-13 00:56:54,701 - DEBUG - cur time: 2024-03-25T23:59:59.999 == next bar open time: 2024-03-26T00:00:00.000 == close pos time: 2024-03-31T00:00:00.000
2024-12-13 00:56:54,703 - INFO - pnl: 2024-03-25T23:59:59.999 195757.4120539246 === -2.068%
2024-12-13 00:56:54,708 - DEBUG - cur time: 2024-03-26T23:59:59.999 == next bar open time: 2024-03-27T00:00:00.000 == close pos time: 2024-04-01T00:00:00.000
2024-12-13 00:56:54,710 - INFO - pnl: 2024-03-26T23:59:59.999 195707.26291722525 === -0.026%
2024-12-13 00:56:54,711 - DEBUG - cur time: 2024-03-27T23:59:59.999 == next bar open time: 2024-03-28T00:00:00.000 == close pos time: 2024-04-02T00:00:00.000
2024-12-13 00:56:54,715 - INFO - pnl: 2024-03-27T23:59:59.999 197383.87696120312 === 0.857%
2024-12-13 00:56:54,719 - DEBUG - cur time: 2024-03-28T23:59:59.999 == next bar open time: 2024-03-29T00:00:00.000 == close pos time: 2024-04-03T00:00:00.000
2024-12-13 00:56:54,730 - DEBUG - close time 2024-03-28T23:59:59.999 == vol_threshold: 13509784.76
2024-12-13 00:56:54,733 - DEBUG - 2024-03-28T23:59:59.999 == all trade symbol 232 == remain 162 after VOL filter
2024-12-13 00:56:54,737 - DEBUG - sorted_long_factors: shape: (162, 4)
┌─────────────┬──────────────┬──────┬──────────────┐
│ symbol      ┆ factor_value ┆ rank ┆ reverse_rank │
│ ---         ┆ ---          ┆ ---  ┆ ---          │
│ str         ┆ f64          ┆ u32  ┆ u32          │
╞═════════════╪══════════════╪══════╪══════════════╡
│ BONDUSDT    ┆ -1.292359    ┆ 0    ┆ 161          │
│ JTOUSDT     ┆ -1.098783    ┆ 1    ┆ 160          │
│ OCEANUSDT   ┆ -1.03166     ┆ 2    ┆ 159          │
│ FETUSDT     ┆ -0.944421    ┆ 3    ┆ 158          │
│ AGIXUSDT    ┆ -0.903374    ┆ 4    ┆ 157          │
│ RNDRUSDT    ┆ -0.825134    ┆ 5    ┆ 156          │
│ CELOUSDT    ┆ -0.821814    ┆ 6    ┆ 155          │
│ BIGTIMEUSDT ┆ -0.790065    ┆ 7    ┆ 154          │
│ NFPUSDT     ┆ -0.699535    ┆ 8    ┆ 153          │
│ PYTHUSDT    ┆ -0.66332     ┆ 9    ┆ 152          │
│ …           ┆ …            ┆ …    ┆ …            │
│ LDOUSDT     ┆ 0.458288     ┆ 152  ┆ 9            │
│ ALPHAUSDT   ┆ 0.477098     ┆ 153  ┆ 8            │
│ NKNUSDT     ┆ 0.480151     ┆ 154  ┆ 7            │
│ BATUSDT     ┆ 0.497103     ┆ 155  ┆ 6            │
│ TUSDT       ┆ 0.543405     ┆ 156  ┆ 5            │
│ CELRUSDT    ┆ 0.585406     ┆ 157  ┆ 4            │
│ DENTUSDT    ┆ 0.639839     ┆ 158  ┆ 3            │
│ XVGUSDT     ┆ 0.87487      ┆ 159  ┆ 2            │
│ IDEXUSDT    ┆ 0.902194     ┆ 160  ┆ 1            │
│ OXTUSDT     ┆ 1.529843     ┆ 161  ┆ 0            │
└─────────────┴──────────────┴──────┴──────────────┘
2024-12-13 00:56:54,749 - WARNING - 2024-03-28T23:59:59.999=====cur_long_scale: 1.2 not match == long_value_ratio: 1.0
2024-12-13 00:56:54,749 - INFO - cur close time: 2024-03-28T23:59:59.999 == long_value_ratio: 1.0 == short_value_ratio: 1.0 --- 1.2
2024-12-13 00:56:54,749 - DEBUG - mean expected ret (mean factor): -0.13294226242196647
2024-12-13 00:56:54,754 - DEBUG - begin to update pos: =========
2024-12-13 00:56:54,754 - DEBUG - next_step_value: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ i64     ┆ i64    ┆ i64     ┆ i64     │
│ i64         ┆ i64         ┆ i64         ┆ i64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0           ┆ 0           ┆ 0           ┆ 0           ┆ … ┆ 0       ┆ 0      ┆ 0       ┆ 0       │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:54,755 - DEBUG - all_open_price_when_open_pos: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ f64     ┆ f64    ┆ f64     ┆ f64     │
│ f64         ┆ f64         ┆ f64         ┆ f64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0.028402    ┆ 0.25239     ┆ 0.16038     ┆ 0.0080362   ┆ … ┆ 0.03733 ┆ null   ┆ null    ┆ 1.0475  │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:54,767 - DEBUG - update position: 2024-03-28T23:59:59.999 === diff_trading_value: 318122.602854621 == cash: 194434.78583643617 
2024-12-13 00:56:54,772 - INFO - pnl: 2024-03-28T23:59:59.999 194434.78583643617 === -1.494%
2024-12-13 00:56:54,775 - DEBUG - cur time: 2024-03-29T23:59:59.999 == next bar open time: 2024-03-30T00:00:00.000 == close pos time: 2024-04-04T00:00:00.000
2024-12-13 00:56:54,777 - INFO - pnl: 2024-03-29T23:59:59.999 196895.0480162145 === 1.265%
2024-12-13 00:56:54,781 - DEBUG - cur time: 2024-03-30T23:59:59.999 == next bar open time: 2024-03-31T00:00:00.000 == close pos time: 2024-04-05T00:00:00.000
2024-12-13 00:56:54,783 - INFO - pnl: 2024-03-30T23:59:59.999 196395.03069955242 === -0.254%
2024-12-13 00:56:54,783 - DEBUG - cur time: 2024-03-31T23:59:59.999 == next bar open time: 2024-04-01T00:00:00.000 == close pos time: 2024-04-06T00:00:00.000
2024-12-13 00:56:54,787 - INFO - pnl: 2024-03-31T23:59:59.999 196355.193383415 === -0.020%
2024-12-13 00:56:54,792 - DEBUG - cur time: 2024-04-01T23:59:59.999 == next bar open time: 2024-04-02T00:00:00.000 == close pos time: 2024-04-07T00:00:00.000
2024-12-13 00:56:54,792 - INFO - pnl: 2024-04-01T23:59:59.999 196248.2988100812 === -0.054%
2024-12-13 00:56:54,796 - DEBUG - cur time: 2024-04-02T23:59:59.999 == next bar open time: 2024-04-03T00:00:00.000 == close pos time: 2024-04-08T00:00:00.000
2024-12-13 00:56:54,808 - DEBUG - close time 2024-04-02T23:59:59.999 == vol_threshold: 16408415.83
2024-12-13 00:56:54,808 - DEBUG - 2024-04-02T23:59:59.999 == all trade symbol 234 == remain 164 after VOL filter
2024-12-13 00:56:54,808 - DEBUG - sorted_long_factors: shape: (164, 4)
┌───────────┬──────────────┬──────┬──────────────┐
│ symbol    ┆ factor_value ┆ rank ┆ reverse_rank │
│ ---       ┆ ---          ┆ ---  ┆ ---          │
│ str       ┆ f64          ┆ u32  ┆ u32          │
╞═══════════╪══════════════╪══════╪══════════════╡
│ MASKUSDT  ┆ -1.060633    ┆ 0    ┆ 163          │
│ JTOUSDT   ┆ -1.031921    ┆ 1    ┆ 162          │
│ WAVESUSDT ┆ -0.873191    ┆ 2    ┆ 161          │
│ LQTYUSDT  ┆ -0.835386    ┆ 3    ┆ 160          │
│ SUIUSDT   ┆ -0.807506    ┆ 4    ┆ 159          │
│ HIGHUSDT  ┆ -0.75142     ┆ 5    ┆ 158          │
│ APTUSDT   ┆ -0.745018    ┆ 6    ┆ 157          │
│ BICOUSDT  ┆ -0.701945    ┆ 7    ┆ 156          │
│ MEMEUSDT  ┆ -0.664557    ┆ 8    ┆ 155          │
│ POLYXUSDT ┆ -0.657968    ┆ 9    ┆ 154          │
│ …         ┆ …            ┆ …    ┆ …            │
│ MTLUSDT   ┆ 0.492655     ┆ 154  ┆ 9            │
│ TLMUSDT   ┆ 0.510879     ┆ 155  ┆ 8            │
│ CTSIUSDT  ┆ 0.585365     ┆ 156  ┆ 7            │
│ DODOXUSDT ┆ 0.646157     ┆ 157  ┆ 6            │
│ DENTUSDT  ┆ 0.66836      ┆ 158  ┆ 5            │
│ HFTUSDT   ┆ 0.688522     ┆ 159  ┆ 4            │
│ ALPHAUSDT ┆ 0.794586     ┆ 160  ┆ 3            │
│ SNTUSDT   ┆ 1.043708     ┆ 161  ┆ 2            │
│ RVNUSDT   ┆ 1.095938     ┆ 162  ┆ 1            │
│ OXTUSDT   ┆ 1.436433     ┆ 163  ┆ 0            │
└───────────┴──────────────┴──────┴──────────────┘
2024-12-13 00:56:54,817 - WARNING - 2024-04-02T23:59:59.999=====cur_long_scale: 0.8 not match == long_value_ratio: 1.0
2024-12-13 00:56:54,817 - INFO - cur close time: 2024-04-02T23:59:59.999 == long_value_ratio: 1.0 == short_value_ratio: 1.0 --- 0.8
2024-12-13 00:56:54,817 - DEBUG - mean expected ret (mean factor): -0.08119685504828804
2024-12-13 00:56:54,825 - DEBUG - begin to update pos: =========
2024-12-13 00:56:54,825 - DEBUG - next_step_value: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ i64     ┆ i64    ┆ i64     ┆ i64     │
│ i64         ┆ i64         ┆ i64         ┆ i64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0           ┆ 0           ┆ 0           ┆ 0           ┆ … ┆ 0       ┆ 0      ┆ 0       ┆ 0       │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:54,825 - DEBUG - all_open_price_when_open_pos: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ f64     ┆ f64    ┆ f64     ┆ f64     │
│ f64         ┆ f64         ┆ f64         ┆ f64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0.022675    ┆ 0.2095      ┆ 0.13708     ┆ 0.0072585   ┆ … ┆ 0.03259 ┆ null   ┆ null    ┆ 0.6554  │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:54,833 - DEBUG - update position: 2024-04-02T23:59:59.999 === diff_trading_value: 283989.42525135993 == cash: 198876.38224815344 
2024-12-13 00:56:54,833 - INFO - pnl: 2024-04-02T23:59:59.999 198876.38224815344 === 1.339%
2024-12-13 00:56:54,837 - DEBUG - cur time: 2024-04-03T23:59:59.999 == next bar open time: 2024-04-04T00:00:00.000 == close pos time: 2024-04-09T00:00:00.000
2024-12-13 00:56:54,841 - INFO - pnl: 2024-04-03T23:59:59.999 201563.18845417807 === 1.351%
2024-12-13 00:56:54,846 - DEBUG - cur time: 2024-04-04T23:59:59.999 == next bar open time: 2024-04-05T00:00:00.000 == close pos time: 2024-04-10T00:00:00.000
2024-12-13 00:56:54,847 - INFO - pnl: 2024-04-04T23:59:59.999 205380.8220886632 === 1.894%
2024-12-13 00:56:54,852 - DEBUG - cur time: 2024-04-05T23:59:59.999 == next bar open time: 2024-04-06T00:00:00.000 == close pos time: 2024-04-11T00:00:00.000
2024-12-13 00:56:54,852 - INFO - pnl: 2024-04-05T23:59:59.999 206935.06431466626 === 0.757%
2024-12-13 00:56:54,858 - DEBUG - cur time: 2024-04-06T23:59:59.999 == next bar open time: 2024-04-07T00:00:00.000 == close pos time: 2024-04-12T00:00:00.000
2024-12-13 00:56:54,858 - INFO - pnl: 2024-04-06T23:59:59.999 206829.87128941462 === -0.051%
2024-12-13 00:56:54,862 - DEBUG - cur time: 2024-04-07T23:59:59.999 == next bar open time: 2024-04-08T00:00:00.000 == close pos time: 2024-04-13T00:00:00.000
2024-12-13 00:56:54,875 - DEBUG - close time 2024-04-07T23:59:59.999 == vol_threshold: 9023298.15
2024-12-13 00:56:54,875 - DEBUG - 2024-04-07T23:59:59.999 == all trade symbol 236 == remain 165 after VOL filter
2024-12-13 00:56:54,878 - DEBUG - sorted_long_factors: shape: (165, 4)
┌───────────┬──────────────┬──────┬──────────────┐
│ symbol    ┆ factor_value ┆ rank ┆ reverse_rank │
│ ---       ┆ ---          ┆ ---  ┆ ---          │
│ str       ┆ f64          ┆ u32  ┆ u32          │
╞═══════════╪══════════════╪══════╪══════════════╡
│ MASKUSDT  ┆ -1.346016    ┆ 0    ┆ 164          │
│ LQTYUSDT  ┆ -1.17989     ┆ 1    ┆ 163          │
│ POLYXUSDT ┆ -1.028486    ┆ 2    ┆ 162          │
│ SUIUSDT   ┆ -0.998145    ┆ 3    ┆ 161          │
│ ONDOUSDT  ┆ -0.967737    ┆ 4    ┆ 160          │
│ ORDIUSDT  ┆ -0.873125    ┆ 5    ┆ 159          │
│ FILUSDT   ┆ -0.826019    ┆ 6    ┆ 158          │
│ BELUSDT   ┆ -0.802388    ┆ 7    ┆ 157          │
│ WIFUSDT   ┆ -0.789207    ┆ 8    ┆ 156          │
│ ZRXUSDT   ┆ -0.755561    ┆ 9    ┆ 155          │
│ …         ┆ …            ┆ …    ┆ …            │
│ STPTUSDT  ┆ 0.556123     ┆ 155  ┆ 9            │
│ KLAYUSDT  ┆ 0.563439     ┆ 156  ┆ 8            │
│ ONGUSDT   ┆ 0.568044     ┆ 157  ┆ 7            │
│ HFTUSDT   ┆ 0.580245     ┆ 158  ┆ 6            │
│ DENTUSDT  ┆ 0.71061      ┆ 159  ┆ 5            │
│ SNTUSDT   ┆ 0.756734     ┆ 160  ┆ 4            │
│ REEFUSDT  ┆ 0.797404     ┆ 161  ┆ 3            │
│ TLMUSDT   ┆ 0.808273     ┆ 162  ┆ 2            │
│ DODOXUSDT ┆ 1.107822     ┆ 163  ┆ 1            │
│ OXTUSDT   ┆ 1.271423     ┆ 164  ┆ 0            │
└───────────┴──────────────┴──────┴──────────────┘
2024-12-13 00:56:54,884 - WARNING - 2024-04-07T23:59:59.999=====cur_long_scale: 1.2 not match == long_value_ratio: 1.0
2024-12-13 00:56:54,884 - INFO - cur close time: 2024-04-07T23:59:59.999 == long_value_ratio: 1.0 == short_value_ratio: 1.0 --- 1.2
2024-12-13 00:56:54,884 - DEBUG - mean expected ret (mean factor): -0.09858298940907112
2024-12-13 00:56:54,887 - DEBUG - begin to update pos: =========
2024-12-13 00:56:54,887 - DEBUG - next_step_value: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬────────────┬───┬─────────┬────────┬─────────┬──────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUS ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT  │
│ T           ┆ DT          ┆ T           ┆ DT         ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---      │
│ ---         ┆ ---         ┆ ---         ┆ ---        ┆   ┆ i64     ┆ i64    ┆ i64     ┆ f64      │
│ i64         ┆ i64         ┆ i64         ┆ i64        ┆   ┆         ┆        ┆         ┆          │
╞═════════════╪═════════════╪═════════════╪════════════╪═══╪═════════╪════════╪═════════╪══════════╡
│ 0           ┆ 0           ┆ 0           ┆ 0          ┆ … ┆ 0       ┆ 0      ┆ 0       ┆ -10000.0 │
└─────────────┴─────────────┴─────────────┴────────────┴───┴─────────┴────────┴─────────┴──────────┘
2024-12-13 00:56:54,889 - DEBUG - all_open_price_when_open_pos: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ f64     ┆ f64    ┆ f64     ┆ f64     │
│ f64         ┆ f64         ┆ f64         ┆ f64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0.023528    ┆ 0.20562     ┆ 0.13404     ┆ 0.0074516   ┆ … ┆ 0.03349 ┆ null   ┆ null    ┆ 0.6931  │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:54,891 - DEBUG - update position: 2024-04-07T23:59:59.999 === diff_trading_value: 219653.79614820337 == cash: 204712.60866664292 
2024-12-13 00:56:54,895 - INFO - pnl: 2024-04-07T23:59:59.999 204712.60866664292 === -1.024%
2024-12-13 00:56:54,899 - DEBUG - cur time: 2024-04-08T23:59:59.999 == next bar open time: 2024-04-09T00:00:00.000 == close pos time: 2024-04-14T00:00:00.000
2024-12-13 00:56:54,900 - INFO - pnl: 2024-04-08T23:59:59.999 206615.44445587654 === 0.930%
2024-12-13 00:56:54,904 - DEBUG - cur time: 2024-04-09T23:59:59.999 == next bar open time: 2024-04-10T00:00:00.000 == close pos time: 2024-04-15T00:00:00.000
2024-12-13 00:56:54,904 - INFO - pnl: 2024-04-09T23:59:59.999 209072.8401796767 === 1.189%
2024-12-13 00:56:54,908 - DEBUG - cur time: 2024-04-10T23:59:59.999 == next bar open time: 2024-04-11T00:00:00.000 == close pos time: 2024-04-16T00:00:00.000
2024-12-13 00:56:54,909 - INFO - pnl: 2024-04-10T23:59:59.999 208868.75412968016 === -0.098%
2024-12-13 00:56:54,909 - DEBUG - cur time: 2024-04-11T23:59:59.999 == next bar open time: 2024-04-12T00:00:00.000 == close pos time: 2024-04-17T00:00:00.000
2024-12-13 00:56:54,913 - INFO - pnl: 2024-04-11T23:59:59.999 214988.32440764873 === 2.930%
2024-12-13 00:56:54,913 - DEBUG - cur time: 2024-04-12T23:59:59.999 == next bar open time: 2024-04-13T00:00:00.000 == close pos time: 2024-04-18T00:00:00.000
2024-12-13 00:56:54,925 - DEBUG - close time 2024-04-12T23:59:59.999 == vol_threshold: 31832978.47
2024-12-13 00:56:54,925 - DEBUG - 2024-04-12T23:59:59.999 == all trade symbol 238 == remain 166 after VOL filter
2024-12-13 00:56:54,928 - DEBUG - sorted_long_factors: shape: (166, 4)
┌───────────┬──────────────┬──────┬──────────────┐
│ symbol    ┆ factor_value ┆ rank ┆ reverse_rank │
│ ---       ┆ ---          ┆ ---  ┆ ---          │
│ str       ┆ f64          ┆ u32  ┆ u32          │
╞═══════════╪══════════════╪══════╪══════════════╡
│ JTOUSDT   ┆ -1.095462    ┆ 0    ┆ 165          │
│ YGGUSDT   ┆ -0.899833    ┆ 1    ┆ 164          │
│ ONGUSDT   ┆ -0.868985    ┆ 2    ┆ 163          │
│ QTUMUSDT  ┆ -0.860398    ┆ 3    ┆ 162          │
│ POLYXUSDT ┆ -0.787325    ┆ 4    ┆ 161          │
│ JASMYUSDT ┆ -0.780244    ┆ 5    ┆ 160          │
│ ONTUSDT   ┆ -0.779338    ┆ 6    ┆ 159          │
│ NEOUSDT   ┆ -0.775464    ┆ 7    ┆ 158          │
│ EOSUSDT   ┆ -0.771085    ┆ 8    ┆ 157          │
│ ONDOUSDT  ┆ -0.764617    ┆ 9    ┆ 156          │
│ …         ┆ …            ┆ …    ┆ …            │
│ DENTUSDT  ┆ 0.414106     ┆ 156  ┆ 9            │
│ OMGUSDT   ┆ 0.437204     ┆ 157  ┆ 8            │
│ CTSIUSDT  ┆ 0.437893     ┆ 158  ┆ 7            │
│ SUSHIUSDT ┆ 0.481389     ┆ 159  ┆ 6            │
│ EDUUSDT   ┆ 0.536121     ┆ 160  ┆ 5            │
│ HFTUSDT   ┆ 0.629698     ┆ 161  ┆ 4            │
│ DODOXUSDT ┆ 0.65829      ┆ 162  ┆ 3            │
│ TLMUSDT   ┆ 0.676034     ┆ 163  ┆ 2            │
│ OXTUSDT   ┆ 0.835069     ┆ 164  ┆ 1            │
│ UNIUSDT   ┆ 0.897077     ┆ 165  ┆ 0            │
└───────────┴──────────────┴──────┴──────────────┘
2024-12-13 00:56:54,933 - WARNING - 2024-04-12T23:59:59.999=====cur_long_scale: 0.8 not match == long_value_ratio: 1.0
2024-12-13 00:56:54,933 - INFO - cur close time: 2024-04-12T23:59:59.999 == long_value_ratio: 1.0 == short_value_ratio: 1.0 --- 0.8
2024-12-13 00:56:54,933 - DEBUG - mean expected ret (mean factor): -0.16532382687556915
2024-12-13 00:56:54,937 - DEBUG - begin to update pos: =========
2024-12-13 00:56:54,937 - DEBUG - next_step_value: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ i64     ┆ i64    ┆ i64     ┆ i64     │
│ i64         ┆ i64         ┆ i64         ┆ i64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0           ┆ 0           ┆ 0           ┆ 0           ┆ … ┆ 0       ┆ 0      ┆ 0       ┆ 0       │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:54,937 - DEBUG - all_open_price_when_open_pos: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ f64     ┆ f64    ┆ f64     ┆ f64     │
│ f64         ┆ f64         ┆ f64         ┆ f64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0.017343    ┆ 0.15814     ┆ 0.10662     ┆ 0.0059116   ┆ … ┆ 0.02784 ┆ null   ┆ null    ┆ 0.5445  │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:54,945 - DEBUG - update position: 2024-04-12T23:59:59.999 === diff_trading_value: 272391.4916453518 == cash: 214762.46837557163 
2024-12-13 00:56:54,947 - INFO - pnl: 2024-04-12T23:59:59.999 214762.46837557163 === -0.105%
2024-12-13 00:56:54,950 - DEBUG - cur time: 2024-04-13T23:59:59.999 == next bar open time: 2024-04-14T00:00:00.000 == close pos time: 2024-04-19T00:00:00.000
2024-12-13 00:56:54,954 - INFO - pnl: 2024-04-13T23:59:59.999 211685.99109552256 === -1.433%
2024-12-13 00:56:54,962 - DEBUG - cur time: 2024-04-14T23:59:59.999 == next bar open time: 2024-04-15T00:00:00.000 == close pos time: 2024-04-20T00:00:00.000
2024-12-13 00:56:54,962 - INFO - pnl: 2024-04-14T23:59:59.999 210047.83190639457 === -0.774%
2024-12-13 00:56:54,967 - DEBUG - cur time: 2024-04-15T23:59:59.999 == next bar open time: 2024-04-16T00:00:00.000 == close pos time: 2024-04-21T00:00:00.000
2024-12-13 00:56:54,970 - INFO - pnl: 2024-04-15T23:59:59.999 208127.9794651904 === -0.914%
2024-12-13 00:56:54,974 - DEBUG - cur time: 2024-04-16T23:59:59.999 == next bar open time: 2024-04-17T00:00:00.000 == close pos time: 2024-04-22T00:00:00.000
2024-12-13 00:56:54,975 - INFO - pnl: 2024-04-16T23:59:59.999 209058.82037029252 === 0.447%
2024-12-13 00:56:54,982 - DEBUG - cur time: 2024-04-17T23:59:59.999 == next bar open time: 2024-04-18T00:00:00.000 == close pos time: 2024-04-23T00:00:00.000
2024-12-13 00:56:54,997 - DEBUG - close time 2024-04-17T23:59:59.999 == vol_threshold: 19865589.719999995
2024-12-13 00:56:54,997 - DEBUG - 2024-04-17T23:59:59.999 == all trade symbol 239 == remain 167 after VOL filter
2024-12-13 00:56:55,000 - DEBUG - sorted_long_factors: shape: (167, 4)
┌───────────┬──────────────┬──────┬──────────────┐
│ symbol    ┆ factor_value ┆ rank ┆ reverse_rank │
│ ---       ┆ ---          ┆ ---  ┆ ---          │
│ str       ┆ f64          ┆ u32  ┆ u32          │
╞═══════════╪══════════════╪══════╪══════════════╡
│ ONGUSDT   ┆ -1.23548     ┆ 0    ┆ 166          │
│ BELUSDT   ┆ -1.152892    ┆ 1    ┆ 165          │
│ ONTUSDT   ┆ -1.081279    ┆ 2    ┆ 164          │
│ BICOUSDT  ┆ -1.016427    ┆ 3    ┆ 163          │
│ OMUSDT    ┆ -0.83617     ┆ 4    ┆ 162          │
│ JASMYUSDT ┆ -0.806574    ┆ 5    ┆ 161          │
│ MEMEUSDT  ┆ -0.80538     ┆ 6    ┆ 160          │
│ ALTUSDT   ┆ -0.79506     ┆ 7    ┆ 159          │
│ SFPUSDT   ┆ -0.787684    ┆ 8    ┆ 158          │
│ JTOUSDT   ┆ -0.786001    ┆ 9    ┆ 157          │
│ …         ┆ …            ┆ …    ┆ …            │
│ MDTUSDT   ┆ 0.372635     ┆ 157  ┆ 9            │
│ STXUSDT   ┆ 0.378299     ┆ 158  ┆ 8            │
│ KLAYUSDT  ┆ 0.44369      ┆ 159  ┆ 7            │
│ CTSIUSDT  ┆ 0.485765     ┆ 160  ┆ 6            │
│ RNDRUSDT  ┆ 0.490024     ┆ 161  ┆ 5            │
│ DUSKUSDT  ┆ 0.510975     ┆ 162  ┆ 4            │
│ HFTUSDT   ┆ 0.565466     ┆ 163  ┆ 3            │
│ IDEXUSDT  ┆ 0.660791     ┆ 164  ┆ 2            │
│ OXTUSDT   ┆ 0.701746     ┆ 165  ┆ 1            │
│ DODOXUSDT ┆ 0.897705     ┆ 166  ┆ 0            │
└───────────┴──────────────┴──────┴──────────────┘
2024-12-13 00:56:55,010 - WARNING - 2024-04-17T23:59:59.999=====cur_long_scale: 0.8 not match == long_value_ratio: 1.0
2024-12-13 00:56:55,010 - INFO - cur close time: 2024-04-17T23:59:59.999 == long_value_ratio: 1.0 == short_value_ratio: 1.0 --- 0.8
2024-12-13 00:56:55,010 - DEBUG - mean expected ret (mean factor): -0.16444610487897718
2024-12-13 00:56:55,016 - DEBUG - begin to update pos: =========
2024-12-13 00:56:55,016 - DEBUG - next_step_value: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ i64     ┆ i64    ┆ i64     ┆ i64     │
│ i64         ┆ i64         ┆ i64         ┆ i64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0           ┆ 0           ┆ 0           ┆ 0           ┆ … ┆ 0       ┆ 0      ┆ 0       ┆ 0       │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:55,016 - DEBUG - all_open_price_when_open_pos: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ f64     ┆ f64    ┆ f64     ┆ f64     │
│ f64         ┆ f64         ┆ f64         ┆ f64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0.01393     ┆ 0.13324     ┆ 0.09816     ┆ 0.0049112   ┆ … ┆ 0.02339 ┆ null   ┆ null    ┆ 0.4871  │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:55,020 - DEBUG - update position: 2024-04-17T23:59:59.999 === diff_trading_value: 219241.01242818555 == cash: 211421.83060192253 
2024-12-13 00:56:55,024 - INFO - pnl: 2024-04-17T23:59:59.999 211421.83060192253 === 1.130%
2024-12-13 00:56:55,028 - DEBUG - cur time: 2024-04-18T23:59:59.999 == next bar open time: 2024-04-19T00:00:00.000 == close pos time: 2024-04-24T00:00:00.000
2024-12-13 00:56:55,028 - INFO - pnl: 2024-04-18T23:59:59.999 207340.20586877785 === -1.931%
2024-12-13 00:56:55,033 - DEBUG - cur time: 2024-04-19T23:59:59.999 == next bar open time: 2024-04-20T00:00:00.000 == close pos time: 2024-04-25T00:00:00.000
2024-12-13 00:56:55,033 - INFO - pnl: 2024-04-19T23:59:59.999 204321.00714468956 === -1.456%
2024-12-13 00:56:55,037 - DEBUG - cur time: 2024-04-20T23:59:59.999 == next bar open time: 2024-04-21T00:00:00.000 == close pos time: 2024-04-26T00:00:00.000
2024-12-13 00:56:55,037 - INFO - pnl: 2024-04-20T23:59:59.999 208281.07878724803 === 1.938%
2024-12-13 00:56:55,042 - DEBUG - cur time: 2024-04-21T23:59:59.999 == next bar open time: 2024-04-22T00:00:00.000 == close pos time: 2024-04-27T00:00:00.000
2024-12-13 00:56:55,042 - INFO - pnl: 2024-04-21T23:59:59.999 205322.29964474245 === -1.421%
2024-12-13 00:56:55,045 - DEBUG - cur time: 2024-04-22T23:59:59.999 == next bar open time: 2024-04-23T00:00:00.000 == close pos time: 2024-04-28T00:00:00.000
2024-12-13 00:56:55,057 - DEBUG - close time 2024-04-22T23:59:59.999 == vol_threshold: 13640154.191999998
2024-12-13 00:56:55,058 - DEBUG - 2024-04-22T23:59:59.999 == all trade symbol 239 == remain 167 after VOL filter
2024-12-13 00:56:55,058 - DEBUG - sorted_long_factors: shape: (167, 4)
┌──────────────┬──────────────┬──────┬──────────────┐
│ symbol       ┆ factor_value ┆ rank ┆ reverse_rank │
│ ---          ┆ ---          ┆ ---  ┆ ---          │
│ str          ┆ f64          ┆ u32  ┆ u32          │
╞══════════════╪══════════════╪══════╪══════════════╡
│ OMUSDT       ┆ -1.180649    ┆ 0    ┆ 166          │
│ ONTUSDT      ┆ -1.155373    ┆ 1    ┆ 165          │
│ GALUSDT      ┆ -1.012092    ┆ 2    ┆ 164          │
│ PENDLEUSDT   ┆ -0.883095    ┆ 3    ┆ 163          │
│ JTOUSDT      ┆ -0.858316    ┆ 4    ┆ 162          │
│ BELUSDT      ┆ -0.839205    ┆ 5    ┆ 161          │
│ TRXUSDT      ┆ -0.832707    ┆ 6    ┆ 160          │
│ MANTAUSDT    ┆ -0.815443    ┆ 7    ┆ 159          │
│ 1000PEPEUSDT ┆ -0.753178    ┆ 8    ┆ 158          │
│ ORBSUSDT     ┆ -0.723986    ┆ 9    ┆ 157          │
│ …            ┆ …            ┆ …    ┆ …            │
│ MBLUSDT      ┆ 0.53912      ┆ 157  ┆ 9            │
│ AMBUSDT      ┆ 0.553217     ┆ 158  ┆ 8            │
│ EDUUSDT      ┆ 0.563345     ┆ 159  ┆ 7            │
│ SNTUSDT      ┆ 0.609068     ┆ 160  ┆ 6            │
│ IDEXUSDT     ┆ 0.666987     ┆ 161  ┆ 5            │
│ STPTUSDT     ┆ 0.734966     ┆ 162  ┆ 4            │
│ DODOXUSDT    ┆ 0.748362     ┆ 163  ┆ 3            │
│ MDTUSDT      ┆ 0.779975     ┆ 164  ┆ 2            │
│ TLMUSDT      ┆ 0.806321     ┆ 165  ┆ 1            │
│ OXTUSDT      ┆ 0.869753     ┆ 166  ┆ 0            │
└──────────────┴──────────────┴──────┴──────────────┘
2024-12-13 00:56:55,067 - WARNING - 2024-04-22T23:59:59.999=====cur_long_scale: 1.2 not match == long_value_ratio: 1.0
2024-12-13 00:56:55,067 - INFO - cur close time: 2024-04-22T23:59:59.999 == long_value_ratio: 1.0 == short_value_ratio: 1.0 --- 1.2
2024-12-13 00:56:55,067 - DEBUG - mean expected ret (mean factor): -0.09373080389744438
2024-12-13 00:56:55,070 - DEBUG - begin to update pos: =========
2024-12-13 00:56:55,070 - DEBUG - next_step_value: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ i64     ┆ i64    ┆ i64     ┆ i64     │
│ i64         ┆ i64         ┆ i64         ┆ f64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0           ┆ 0           ┆ 0           ┆ -10000.0    ┆ … ┆ 0       ┆ 0      ┆ 0       ┆ 0       │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:55,070 - DEBUG - all_open_price_when_open_pos: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ f64     ┆ f64    ┆ f64     ┆ f64     │
│ f64         ┆ f64         ┆ f64         ┆ f64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0.020219    ┆ 0.17626     ┆ 0.11081     ┆ 0.0068702   ┆ … ┆ 0.02659 ┆ null   ┆ null    ┆ 0.5697  │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:55,078 - DEBUG - update position: 2024-04-22T23:59:59.999 === diff_trading_value: 249056.1264966135 == cash: 205594.70357970695 
2024-12-13 00:56:55,078 - INFO - pnl: 2024-04-22T23:59:59.999 205594.70357970695 === 0.133%
2024-12-13 00:56:55,083 - DEBUG - cur time: 2024-04-23T23:59:59.999 == next bar open time: 2024-04-24T00:00:00.000 == close pos time: 2024-04-29T00:00:00.000
2024-12-13 00:56:55,083 - INFO - pnl: 2024-04-23T23:59:59.999 207872.83485438806 === 1.108%
2024-12-13 00:56:55,087 - DEBUG - cur time: 2024-04-24T23:59:59.999 == next bar open time: 2024-04-25T00:00:00.000 == close pos time: 2024-04-30T00:00:00.000
2024-12-13 00:56:55,087 - INFO - pnl: 2024-04-24T23:59:59.999 206101.3031357293 === -0.852%
2024-12-13 00:56:55,092 - DEBUG - cur time: 2024-04-25T23:59:59.999 == next bar open time: 2024-04-26T00:00:00.000 == close pos time: 2024-05-01T00:00:00.000
2024-12-13 00:56:55,092 - INFO - pnl: 2024-04-25T23:59:59.999 205458.58025938622 === -0.312%
2024-12-13 00:56:55,097 - DEBUG - cur time: 2024-04-26T23:59:59.999 == next bar open time: 2024-04-27T00:00:00.000 == close pos time: 2024-05-02T00:00:00.000
2024-12-13 00:56:55,097 - INFO - pnl: 2024-04-26T23:59:59.999 204197.9875404089 === -0.614%
2024-12-13 00:56:55,101 - DEBUG - cur time: 2024-04-27T23:59:59.999 == next bar open time: 2024-04-28T00:00:00.000 == close pos time: 2024-05-03T00:00:00.000
2024-12-13 00:56:55,112 - DEBUG - close time 2024-04-27T23:59:59.999 == vol_threshold: 13456554.999999998
2024-12-13 00:56:55,112 - DEBUG - 2024-04-27T23:59:59.999 == all trade symbol 243 == remain 170 after VOL filter
2024-12-13 00:56:55,117 - DEBUG - sorted_long_factors: shape: (170, 4)
┌───────────┬──────────────┬──────┬──────────────┐
│ symbol    ┆ factor_value ┆ rank ┆ reverse_rank │
│ ---       ┆ ---          ┆ ---  ┆ ---          │
│ str       ┆ f64          ┆ u32  ┆ u32          │
╞═══════════╪══════════════╪══════╪══════════════╡
│ HIGHUSDT  ┆ -1.128104    ┆ 0    ┆ 169          │
│ NEARUSDT  ┆ -0.996578    ┆ 1    ┆ 168          │
│ JTOUSDT   ┆ -0.962844    ┆ 2    ┆ 167          │
│ BNXUSDT   ┆ -0.961307    ┆ 3    ┆ 166          │
│ WIFUSDT   ┆ -0.922121    ┆ 4    ┆ 165          │
│ MAVIAUSDT ┆ -0.894365    ┆ 5    ┆ 164          │
│ GALUSDT   ┆ -0.870547    ┆ 6    ┆ 163          │
│ BLZUSDT   ┆ -0.826271    ┆ 7    ┆ 162          │
│ ORBSUSDT  ┆ -0.695979    ┆ 8    ┆ 161          │
│ LOOMUSDT  ┆ -0.695275    ┆ 9    ┆ 160          │
│ …         ┆ …            ┆ …    ┆ …            │
│ DENTUSDT  ┆ 0.419515     ┆ 160  ┆ 9            │
│ TLMUSDT   ┆ 0.453698     ┆ 161  ┆ 8            │
│ HBARUSDT  ┆ 0.471465     ┆ 162  ┆ 7            │
│ HFTUSDT   ┆ 0.501056     ┆ 163  ┆ 6            │
│ MDTUSDT   ┆ 0.52509      ┆ 164  ┆ 5            │
│ COMBOUSDT ┆ 0.539089     ┆ 165  ┆ 4            │
│ GLMRUSDT  ┆ 0.62357      ┆ 166  ┆ 3            │
│ RIFUSDT   ┆ 0.675992     ┆ 167  ┆ 2            │
│ IDEXUSDT  ┆ 0.789935     ┆ 168  ┆ 1            │
│ OXTUSDT   ┆ 1.047284     ┆ 169  ┆ 0            │
└───────────┴──────────────┴──────┴──────────────┘
2024-12-13 00:56:55,121 - WARNING - 2024-04-27T23:59:59.999=====cur_long_scale: 0.8 not match == long_value_ratio: 1.0
2024-12-13 00:56:55,121 - INFO - cur close time: 2024-04-27T23:59:59.999 == long_value_ratio: 1.0 == short_value_ratio: 1.0 --- 0.8
2024-12-13 00:56:55,121 - DEBUG - mean expected ret (mean factor): -0.13712461767488845
2024-12-13 00:56:55,127 - DEBUG - begin to update pos: =========
2024-12-13 00:56:55,127 - DEBUG - next_step_value: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ i64     ┆ i64    ┆ i64     ┆ i64     │
│ i64         ┆ i64         ┆ i64         ┆ i64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0           ┆ 0           ┆ 0           ┆ 0           ┆ … ┆ 0       ┆ 0      ┆ 0       ┆ 0       │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:55,127 - DEBUG - all_open_price_when_open_pos: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ f64     ┆ f64    ┆ f64     ┆ f64     │
│ f64         ┆ f64         ┆ f64         ┆ f64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0.024502    ┆ 0.17292     ┆ 0.10685     ┆ 0.0072025   ┆ … ┆ 0.02511 ┆ null   ┆ null    ┆ 0.5064  │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:55,134 - DEBUG - update position: 2024-04-27T23:59:59.999 === diff_trading_value: 221202.31894726428 == cash: 203996.10509573633 
2024-12-13 00:56:55,134 - INFO - pnl: 2024-04-27T23:59:59.999 203996.10509573633 === -0.099%
2024-12-13 00:56:55,138 - DEBUG - cur time: 2024-04-28T23:59:59.999 == next bar open time: 2024-04-29T00:00:00.000 == close pos time: 2024-05-04T00:00:00.000
2024-12-13 00:56:55,138 - INFO - pnl: 2024-04-28T23:59:59.999 205475.3486709905 === 0.725%
2024-12-13 00:56:55,142 - DEBUG - cur time: 2024-04-29T23:59:59.999 == next bar open time: 2024-04-30T00:00:00.000 == close pos time: 2024-05-05T00:00:00.000
2024-12-13 00:56:55,142 - INFO - pnl: 2024-04-29T23:59:59.999 205804.9241925605 === 0.160%
2024-12-13 00:56:55,149 - DEBUG - cur time: 2024-04-30T23:59:59.999 == next bar open time: 2024-05-01T00:00:00.000 == close pos time: 2024-05-06T00:00:00.000
2024-12-13 00:56:55,150 - INFO - pnl: 2024-04-30T23:59:59.999 204189.9860113447 === -0.785%
2024-12-13 00:56:55,151 - DEBUG - cur time: 2024-05-01T23:59:59.999 == next bar open time: 2024-05-02T00:00:00.000 == close pos time: 2024-05-07T00:00:00.000
2024-12-13 00:56:55,155 - INFO - pnl: 2024-05-01T23:59:59.999 204402.8530697318 === 0.104%
2024-12-13 00:56:55,158 - DEBUG - cur time: 2024-05-02T23:59:59.999 == next bar open time: 2024-05-03T00:00:00.000 == close pos time: 2024-05-08T00:00:00.000
2024-12-13 00:56:55,167 - DEBUG - close time 2024-05-02T23:59:59.999 == vol_threshold: 12817541.319999993
2024-12-13 00:56:55,170 - DEBUG - 2024-05-02T23:59:59.999 == all trade symbol 243 == remain 170 after VOL filter
2024-12-13 00:56:55,170 - DEBUG - sorted_long_factors: shape: (170, 4)
┌───────────┬──────────────┬──────┬──────────────┐
│ symbol    ┆ factor_value ┆ rank ┆ reverse_rank │
│ ---       ┆ ---          ┆ ---  ┆ ---          │
│ str       ┆ f64          ┆ u32  ┆ u32          │
╞═══════════╪══════════════╪══════╪══════════════╡
│ WIFUSDT   ┆ -1.015796    ┆ 0    ┆ 169          │
│ LSKUSDT   ┆ -0.995287    ┆ 1    ┆ 168          │
│ JTOUSDT   ┆ -0.986752    ┆ 2    ┆ 167          │
│ ONDOUSDT  ┆ -0.95524     ┆ 3    ┆ 166          │
│ ONGUSDT   ┆ -0.949054    ┆ 4    ┆ 165          │
│ OPUSDT    ┆ -0.939252    ┆ 5    ┆ 164          │
│ HBARUSDT  ┆ -0.813363    ┆ 6    ┆ 163          │
│ HIGHUSDT  ┆ -0.792253    ┆ 7    ┆ 162          │
│ ALGOUSDT  ┆ -0.781004    ┆ 8    ┆ 161          │
│ ZETAUSDT  ┆ -0.776211    ┆ 9    ┆ 160          │
│ …         ┆ …            ┆ …    ┆ …            │
│ DENTUSDT  ┆ 0.496556     ┆ 160  ┆ 9            │
│ OMGUSDT   ┆ 0.506656     ┆ 161  ┆ 8            │
│ DUSKUSDT  ┆ 0.536149     ┆ 162  ┆ 7            │
│ RIFUSDT   ┆ 0.626604     ┆ 163  ┆ 6            │
│ GLMRUSDT  ┆ 0.636971     ┆ 164  ┆ 5            │
│ IDEXUSDT  ┆ 0.697035     ┆ 165  ┆ 4            │
│ MDTUSDT   ┆ 0.716964     ┆ 166  ┆ 3            │
│ HFTUSDT   ┆ 0.719998     ┆ 167  ┆ 2            │
│ COMBOUSDT ┆ 0.831212     ┆ 168  ┆ 1            │
│ OXTUSDT   ┆ 1.24086      ┆ 169  ┆ 0            │
└───────────┴──────────────┴──────┴──────────────┘
2024-12-13 00:56:55,178 - WARNING - 2024-05-02T23:59:59.999=====cur_long_scale: 0.8 not match == long_value_ratio: 1.0
2024-12-13 00:56:55,178 - INFO - cur close time: 2024-05-02T23:59:59.999 == long_value_ratio: 1.0 == short_value_ratio: 1.0 --- 0.8
2024-12-13 00:56:55,178 - DEBUG - mean expected ret (mean factor): -0.13507464539036868
2024-12-13 00:56:55,183 - DEBUG - begin to update pos: =========
2024-12-13 00:56:55,183 - DEBUG - next_step_value: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ i64     ┆ i64    ┆ i64     ┆ i64     │
│ i64         ┆ i64         ┆ i64         ┆ i64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0           ┆ 0           ┆ 0           ┆ 0           ┆ … ┆ 0       ┆ 0      ┆ 0       ┆ 0       │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:55,183 - DEBUG - all_open_price_when_open_pos: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ f64     ┆ f64    ┆ f64     ┆ f64     │
│ f64         ┆ f64         ┆ f64         ┆ f64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0.025304    ┆ 0.16383     ┆ 0.10372     ┆ 0.0075418   ┆ … ┆ 0.0234  ┆ null   ┆ null    ┆ 0.4728  │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:55,191 - DEBUG - update position: 2024-05-02T23:59:59.999 === diff_trading_value: 208900.95723599734 == cash: 203045.59549825042 
2024-12-13 00:56:55,191 - INFO - pnl: 2024-05-02T23:59:59.999 203045.59549825042 === -0.664%
2024-12-13 00:56:55,199 - DEBUG - cur time: 2024-05-03T23:59:59.999 == next bar open time: 2024-05-04T00:00:00.000 == close pos time: 2024-05-09T00:00:00.000
2024-12-13 00:56:55,201 - INFO - pnl: 2024-05-03T23:59:59.999 200971.30858645332 === -1.022%
2024-12-13 00:56:55,207 - DEBUG - cur time: 2024-05-04T23:59:59.999 == next bar open time: 2024-05-05T00:00:00.000 == close pos time: 2024-05-10T00:00:00.000
2024-12-13 00:56:55,208 - INFO - pnl: 2024-05-04T23:59:59.999 198207.65654895228 === -1.375%
2024-12-13 00:56:55,212 - DEBUG - cur time: 2024-05-05T23:59:59.999 == next bar open time: 2024-05-06T00:00:00.000 == close pos time: 2024-05-11T00:00:00.000
2024-12-13 00:56:55,212 - INFO - pnl: 2024-05-05T23:59:59.999 199976.36652675303 === 0.892%
2024-12-13 00:56:55,217 - DEBUG - cur time: 2024-05-06T23:59:59.999 == next bar open time: 2024-05-07T00:00:00.000 == close pos time: 2024-05-12T00:00:00.000
2024-12-13 00:56:55,217 - INFO - pnl: 2024-05-06T23:59:59.999 192963.72878145106 === -3.507%
2024-12-13 00:56:55,220 - DEBUG - cur time: 2024-05-07T23:59:59.999 == next bar open time: 2024-05-08T00:00:00.000 == close pos time: 2024-05-13T00:00:00.000
2024-12-13 00:56:55,234 - DEBUG - close time 2024-05-07T23:59:59.999 == vol_threshold: 10867359.92
2024-12-13 00:56:55,235 - DEBUG - 2024-05-07T23:59:59.999 == all trade symbol 243 == remain 170 after VOL filter
2024-12-13 00:56:55,237 - DEBUG - sorted_long_factors: shape: (170, 4)
┌───────────┬──────────────┬──────┬──────────────┐
│ symbol    ┆ factor_value ┆ rank ┆ reverse_rank │
│ ---       ┆ ---          ┆ ---  ┆ ---          │
│ str       ┆ f64          ┆ u32  ┆ u32          │
╞═══════════╪══════════════╪══════╪══════════════╡
│ POWRUSDT  ┆ -1.213632    ┆ 0    ┆ 169          │
│ RNDRUSDT  ┆ -1.195211    ┆ 1    ┆ 168          │
│ ONGUSDT   ┆ -1.123583    ┆ 2    ┆ 167          │
│ WLDUSDT   ┆ -1.109363    ┆ 3    ┆ 166          │
│ JTOUSDT   ┆ -1.056145    ┆ 4    ┆ 165          │
│ ATAUSDT   ┆ -0.969969    ┆ 5    ┆ 164          │
│ TRBUSDT   ┆ -0.942548    ┆ 6    ┆ 163          │
│ RLCUSDT   ┆ -0.888753    ┆ 7    ┆ 162          │
│ PHBUSDT   ┆ -0.878473    ┆ 8    ┆ 161          │
│ ONTUSDT   ┆ -0.869076    ┆ 9    ┆ 160          │
│ …         ┆ …            ┆ …    ┆ …            │
│ GLMRUSDT  ┆ 0.442387     ┆ 160  ┆ 9            │
│ OMGUSDT   ┆ 0.44269      ┆ 161  ┆ 8            │
│ DARUSDT   ┆ 0.494445     ┆ 162  ┆ 7            │
│ IOTXUSDT  ┆ 0.499334     ┆ 163  ┆ 6            │
│ TLMUSDT   ┆ 0.532205     ┆ 164  ┆ 5            │
│ STXUSDT   ┆ 0.57499      ┆ 165  ┆ 4            │
│ DODOXUSDT ┆ 0.614379     ┆ 166  ┆ 3            │
│ C98USDT   ┆ 0.694891     ┆ 167  ┆ 2            │
│ HFTUSDT   ┆ 0.708696     ┆ 168  ┆ 1            │
│ RIFUSDT   ┆ 1.01073      ┆ 169  ┆ 0            │
└───────────┴──────────────┴──────┴──────────────┘
2024-12-13 00:56:55,245 - WARNING - 2024-05-07T23:59:59.999=====cur_long_scale: 1.2 not match == long_value_ratio: 1.0
2024-12-13 00:56:55,245 - INFO - cur close time: 2024-05-07T23:59:59.999 == long_value_ratio: 1.0 == short_value_ratio: 1.0 --- 1.2
2024-12-13 00:56:55,245 - DEBUG - mean expected ret (mean factor): -0.1524208255549616
2024-12-13 00:56:55,250 - DEBUG - begin to update pos: =========
2024-12-13 00:56:55,251 - DEBUG - next_step_value: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ i64     ┆ i64    ┆ i64     ┆ i64     │
│ i64         ┆ i64         ┆ i64         ┆ i64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0           ┆ 0           ┆ 0           ┆ 0           ┆ … ┆ 0       ┆ 0      ┆ 0       ┆ 0       │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:55,251 - DEBUG - all_open_price_when_open_pos: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ f64     ┆ f64    ┆ f64     ┆ f64     │
│ f64         ┆ f64         ┆ f64         ┆ f64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0.023788    ┆ 0.17124     ┆ 0.10276     ┆ 0.0079028   ┆ … ┆ 0.02359 ┆ null   ┆ null    ┆ 0.4753  │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:55,260 - DEBUG - update position: 2024-05-07T23:59:59.999 === diff_trading_value: 273834.9139501081 == cash: 194569.176491921 
2024-12-13 00:56:55,263 - INFO - pnl: 2024-05-07T23:59:59.999 194569.176491921 === 0.832%
2024-12-13 00:56:55,269 - DEBUG - cur time: 2024-05-08T23:59:59.999 == next bar open time: 2024-05-09T00:00:00.000 == close pos time: 2024-05-14T00:00:00.000
2024-12-13 00:56:55,270 - INFO - pnl: 2024-05-08T23:59:59.999 190351.53428163327 === -2.168%
2024-12-13 00:56:55,274 - DEBUG - cur time: 2024-05-09T23:59:59.999 == next bar open time: 2024-05-10T00:00:00.000 == close pos time: 2024-05-15T00:00:00.000
2024-12-13 00:56:55,275 - INFO - pnl: 2024-05-09T23:59:59.999 184668.32864464298 === -2.986%
2024-12-13 00:56:55,280 - DEBUG - cur time: 2024-05-10T23:59:59.999 == next bar open time: 2024-05-11T00:00:00.000 == close pos time: 2024-05-16T00:00:00.000
2024-12-13 00:56:55,280 - INFO - pnl: 2024-05-10T23:59:59.999 182289.25676908536 === -1.288%
2024-12-13 00:56:55,287 - DEBUG - cur time: 2024-05-11T23:59:59.999 == next bar open time: 2024-05-12T00:00:00.000 == close pos time: 2024-05-17T00:00:00.000
2024-12-13 00:56:55,289 - INFO - pnl: 2024-05-11T23:59:59.999 181022.6837572602 === -0.695%
2024-12-13 00:56:55,293 - DEBUG - cur time: 2024-05-12T23:59:59.999 == next bar open time: 2024-05-13T00:00:00.000 == close pos time: 2024-05-18T00:00:00.000
2024-12-13 00:56:55,308 - DEBUG - close time 2024-05-12T23:59:59.999 == vol_threshold: 8055477.789999999
2024-12-13 00:56:55,308 - DEBUG - 2024-05-12T23:59:59.999 == all trade symbol 238 == remain 166 after VOL filter
2024-12-13 00:56:55,310 - DEBUG - sorted_long_factors: shape: (166, 4)
┌───────────┬──────────────┬──────┬──────────────┐
│ symbol    ┆ factor_value ┆ rank ┆ reverse_rank │
│ ---       ┆ ---          ┆ ---  ┆ ---          │
│ str       ┆ f64          ┆ u32  ┆ u32          │
╞═══════════╪══════════════╪══════╪══════════════╡
│ TONUSDT   ┆ -1.121374    ┆ 0    ┆ 165          │
│ WLDUSDT   ┆ -1.120565    ┆ 1    ┆ 164          │
│ JTOUSDT   ┆ -1.027393    ┆ 2    ┆ 163          │
│ UMAUSDT   ┆ -0.999437    ┆ 3    ┆ 162          │
│ BNXUSDT   ┆ -0.952915    ┆ 4    ┆ 161          │
│ ZETAUSDT  ┆ -0.940843    ┆ 5    ┆ 160          │
│ POWRUSDT  ┆ -0.905088    ┆ 6    ┆ 159          │
│ SUIUSDT   ┆ -0.873455    ┆ 7    ┆ 158          │
│ SUPERUSDT ┆ -0.864034    ┆ 8    ┆ 157          │
│ WIFUSDT   ┆ -0.853859    ┆ 9    ┆ 156          │
│ …         ┆ …            ┆ …    ┆ …            │
│ KLAYUSDT  ┆ 0.778455     ┆ 156  ┆ 9            │
│ IOTXUSDT  ┆ 0.794873     ┆ 157  ┆ 8            │
│ REEFUSDT  ┆ 0.810666     ┆ 158  ┆ 7            │
│ OGNUSDT   ┆ 0.824281     ┆ 159  ┆ 6            │
│ BICOUSDT  ┆ 0.831955     ┆ 160  ┆ 5            │
│ JOEUSDT   ┆ 0.875143     ┆ 161  ┆ 4            │
│ HFTUSDT   ┆ 0.968852     ┆ 162  ┆ 3            │
│ TLMUSDT   ┆ 0.980495     ┆ 163  ┆ 2            │
│ DENTUSDT  ┆ 0.99061      ┆ 164  ┆ 1            │
│ DODOXUSDT ┆ 1.076001     ┆ 165  ┆ 0            │
└───────────┴──────────────┴──────┴──────────────┘
2024-12-13 00:56:55,319 - INFO - cur close time: 2024-05-12T23:59:59.999 == long_value_ratio: 1.0 == short_value_ratio: 1.0 --- 1.0
2024-12-13 00:56:55,319 - DEBUG - mean expected ret (mean factor): -0.08926457566557694
2024-12-13 00:56:55,324 - DEBUG - begin to update pos: =========
2024-12-13 00:56:55,325 - DEBUG - next_step_value: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ i64     ┆ i64    ┆ i64     ┆ i64     │
│ i64         ┆ i64         ┆ i64         ┆ i64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0           ┆ 0           ┆ 0           ┆ 0           ┆ … ┆ 0       ┆ 0      ┆ 0       ┆ 0       │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:55,325 - DEBUG - all_open_price_when_open_pos: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ f64     ┆ f64    ┆ f64     ┆ f64     │
│ f64         ┆ f64         ┆ f64         ┆ f64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0.022745    ┆ 0.16922     ┆ 0.10434     ┆ 0.008745    ┆ … ┆ 0.02266 ┆ null   ┆ null    ┆ 0.4515  │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:55,338 - DEBUG - update position: 2024-05-12T23:59:59.999 === diff_trading_value: 233733.97447791928 == cash: 178957.15068198423 
2024-12-13 00:56:55,338 - INFO - pnl: 2024-05-12T23:59:59.999 178957.15068198423 === -1.141%
2024-12-13 00:56:55,345 - DEBUG - cur time: 2024-05-13T23:59:59.999 == next bar open time: 2024-05-14T00:00:00.000 == close pos time: 2024-05-19T00:00:00.000
2024-12-13 00:56:55,347 - INFO - pnl: 2024-05-13T23:59:59.999 180610.4051076086 === 0.924%
2024-12-13 00:56:55,353 - DEBUG - cur time: 2024-05-14T23:59:59.999 == next bar open time: 2024-05-15T00:00:00.000 == close pos time: 2024-05-20T00:00:00.000
2024-12-13 00:56:55,353 - INFO - pnl: 2024-05-14T23:59:59.999 182765.79466603804 === 1.193%
2024-12-13 00:56:55,360 - DEBUG - cur time: 2024-05-15T23:59:59.999 == next bar open time: 2024-05-16T00:00:00.000 == close pos time: 2024-05-21T00:00:00.000
2024-12-13 00:56:55,362 - INFO - pnl: 2024-05-15T23:59:59.999 184059.22218975605 === 0.708%
2024-12-13 00:56:55,368 - DEBUG - cur time: 2024-05-16T23:59:59.999 == next bar open time: 2024-05-17T00:00:00.000 == close pos time: 2024-05-22T00:00:00.000
2024-12-13 00:56:55,370 - INFO - pnl: 2024-05-16T23:59:59.999 184011.62111343455 === -0.026%
2024-12-13 00:56:55,378 - DEBUG - cur time: 2024-05-17T23:59:59.999 == next bar open time: 2024-05-18T00:00:00.000 == close pos time: 2024-05-23T00:00:00.000
2024-12-13 00:56:55,393 - DEBUG - close time 2024-05-17T23:59:59.999 == vol_threshold: 9933666.0
2024-12-13 00:56:55,394 - DEBUG - 2024-05-17T23:59:59.999 == all trade symbol 241 == remain 168 after VOL filter
2024-12-13 00:56:55,396 - DEBUG - sorted_long_factors: shape: (168, 4)
┌────────────┬──────────────┬──────┬──────────────┐
│ symbol     ┆ factor_value ┆ rank ┆ reverse_rank │
│ ---        ┆ ---          ┆ ---  ┆ ---          │
│ str        ┆ f64          ┆ u32  ┆ u32          │
╞════════════╪══════════════╪══════╪══════════════╡
│ ONDOUSDT   ┆ -1.092523    ┆ 0    ┆ 167          │
│ GLMUSDT    ┆ -1.069436    ┆ 1    ┆ 166          │
│ API3USDT   ┆ -0.952852    ┆ 2    ┆ 165          │
│ PORTALUSDT ┆ -0.933869    ┆ 3    ┆ 164          │
│ BELUSDT    ┆ -0.91209     ┆ 4    ┆ 163          │
│ ZETAUSDT   ┆ -0.879112    ┆ 5    ┆ 162          │
│ ORDIUSDT   ┆ -0.84835     ┆ 6    ┆ 161          │
│ UMAUSDT    ┆ -0.82902     ┆ 7    ┆ 160          │
│ LSKUSDT    ┆ -0.804436    ┆ 8    ┆ 159          │
│ FETUSDT    ┆ -0.792788    ┆ 9    ┆ 158          │
│ …          ┆ …            ┆ …    ┆ …            │
│ AEVOUSDT   ┆ 0.656697     ┆ 158  ┆ 9            │
│ RIFUSDT    ┆ 0.688794     ┆ 159  ┆ 8            │
│ REEFUSDT   ┆ 0.702134     ┆ 160  ┆ 7            │
│ DENTUSDT   ┆ 0.7496       ┆ 161  ┆ 6            │
│ DARUSDT    ┆ 0.775351     ┆ 162  ┆ 5            │
│ AMBUSDT    ┆ 0.858965     ┆ 163  ┆ 4            │
│ KEYUSDT    ┆ 0.883414     ┆ 164  ┆ 3            │
│ TLMUSDT    ┆ 0.987741     ┆ 165  ┆ 2            │
│ JOEUSDT    ┆ 0.993372     ┆ 166  ┆ 1            │
│ OGNUSDT    ┆ 1.049348     ┆ 167  ┆ 0            │
└────────────┴──────────────┴──────┴──────────────┘
2024-12-13 00:56:55,405 - WARNING - 2024-05-17T23:59:59.999=====cur_long_scale: 1.2 not match == long_value_ratio: 1.0
2024-12-13 00:56:55,405 - INFO - cur close time: 2024-05-17T23:59:59.999 == long_value_ratio: 1.0 == short_value_ratio: 1.0 --- 1.2
2024-12-13 00:56:55,407 - DEBUG - mean expected ret (mean factor): -0.10720634959678932
2024-12-13 00:56:55,411 - DEBUG - begin to update pos: =========
2024-12-13 00:56:55,411 - DEBUG - next_step_value: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ i64     ┆ i64    ┆ i64     ┆ i64     │
│ i64         ┆ i64         ┆ i64         ┆ i64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0           ┆ 0           ┆ 0           ┆ 0           ┆ … ┆ 0       ┆ 0      ┆ 0       ┆ 0       │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:55,411 - DEBUG - all_open_price_when_open_pos: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ f64     ┆ f64    ┆ f64     ┆ f64     │
│ f64         ┆ f64         ┆ f64         ┆ f64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0.024387    ┆ 0.21015     ┆ 0.10877     ┆ 0.0101651   ┆ … ┆ 0.0238  ┆ null   ┆ null    ┆ 0.578   │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:55,420 - DEBUG - update position: 2024-05-17T23:59:59.999 === diff_trading_value: 250454.97007068386 == cash: 185572.9307045387 
2024-12-13 00:56:55,425 - INFO - pnl: 2024-05-17T23:59:59.999 185572.9307045387 === 0.848%
2024-12-13 00:56:55,432 - DEBUG - cur time: 2024-05-18T23:59:59.999 == next bar open time: 2024-05-19T00:00:00.000 == close pos time: 2024-05-24T00:00:00.000
2024-12-13 00:56:55,434 - INFO - pnl: 2024-05-18T23:59:59.999 186939.403046163 === 0.736%
2024-12-13 00:56:55,441 - DEBUG - cur time: 2024-05-19T23:59:59.999 == next bar open time: 2024-05-20T00:00:00.000 == close pos time: 2024-05-25T00:00:00.000
2024-12-13 00:56:55,443 - INFO - pnl: 2024-05-19T23:59:59.999 186637.0927312268 === -0.162%
2024-12-13 00:56:55,447 - DEBUG - cur time: 2024-05-20T23:59:59.999 == next bar open time: 2024-05-21T00:00:00.000 == close pos time: 2024-05-26T00:00:00.000
2024-12-13 00:56:55,452 - INFO - pnl: 2024-05-20T23:59:59.999 189200.3790778991 === 1.373%
2024-12-13 00:56:55,458 - DEBUG - cur time: 2024-05-21T23:59:59.999 == next bar open time: 2024-05-22T00:00:00.000 == close pos time: 2024-05-27T00:00:00.000
2024-12-13 00:56:55,460 - INFO - pnl: 2024-05-21T23:59:59.999 190825.17389742934 === 0.859%
2024-12-13 00:56:55,466 - DEBUG - cur time: 2024-05-22T23:59:59.999 == next bar open time: 2024-05-23T00:00:00.000 == close pos time: 2024-05-28T00:00:00.000
2024-12-13 00:56:55,479 - DEBUG - close time 2024-05-22T23:59:59.999 == vol_threshold: 13065807.999999996
2024-12-13 00:56:55,479 - DEBUG - 2024-05-22T23:59:59.999 == all trade symbol 243 == remain 170 after VOL filter
2024-12-13 00:56:55,484 - DEBUG - sorted_long_factors: shape: (170, 4)
┌───────────┬──────────────┬──────┬──────────────┐
│ symbol    ┆ factor_value ┆ rank ┆ reverse_rank │
│ ---       ┆ ---          ┆ ---  ┆ ---          │
│ str       ┆ f64          ┆ u32  ┆ u32          │
╞═══════════╪══════════════╪══════╪══════════════╡
│ TONUSDT   ┆ -1.142584    ┆ 0    ┆ 169          │
│ UMAUSDT   ┆ -1.12494     ┆ 1    ┆ 168          │
│ ENSUSDT   ┆ -1.029702    ┆ 2    ┆ 167          │
│ WLDUSDT   ┆ -1.028421    ┆ 3    ┆ 166          │
│ ETHFIUSDT ┆ -1.008751    ┆ 4    ┆ 165          │
│ RNDRUSDT  ┆ -0.978016    ┆ 5    ┆ 164          │
│ YGGUSDT   ┆ -0.94718     ┆ 6    ┆ 163          │
│ FETUSDT   ┆ -0.943931    ┆ 7    ┆ 162          │
│ WIFUSDT   ┆ -0.884796    ┆ 8    ┆ 161          │
│ BNXUSDT   ┆ -0.855788    ┆ 9    ┆ 160          │
│ …         ┆ …            ┆ …    ┆ …            │
│ ALPHAUSDT ┆ 0.673487     ┆ 160  ┆ 9            │
│ RIFUSDT   ┆ 0.68556      ┆ 161  ┆ 8            │
│ FLMUSDT   ┆ 0.709234     ┆ 162  ┆ 7            │
│ OGNUSDT   ┆ 0.744803     ┆ 163  ┆ 6            │
│ REEFUSDT  ┆ 0.759229     ┆ 164  ┆ 5            │
│ TLMUSDT   ┆ 0.810077     ┆ 165  ┆ 4            │
│ JOEUSDT   ┆ 0.821831     ┆ 166  ┆ 3            │
│ OXTUSDT   ┆ 0.848936     ┆ 167  ┆ 2            │
│ DARUSDT   ┆ 0.914659     ┆ 168  ┆ 1            │
│ DODOXUSDT ┆ 1.930632     ┆ 169  ┆ 0            │
└───────────┴──────────────┴──────┴──────────────┘
2024-12-13 00:56:55,493 - WARNING - 2024-05-22T23:59:59.999=====cur_long_scale: 1.2 not match == long_value_ratio: 1.0
2024-12-13 00:56:55,493 - INFO - cur close time: 2024-05-22T23:59:59.999 == long_value_ratio: 1.0 == short_value_ratio: 1.0 --- 1.2
2024-12-13 00:56:55,493 - DEBUG - mean expected ret (mean factor): -0.1258862235873387
2024-12-13 00:56:55,497 - DEBUG - begin to update pos: =========
2024-12-13 00:56:55,499 - DEBUG - next_step_value: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ i64     ┆ i64    ┆ i64     ┆ i64     │
│ i64         ┆ i64         ┆ i64         ┆ i64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0           ┆ 0           ┆ 0           ┆ 0           ┆ … ┆ 0       ┆ 0      ┆ 0       ┆ 0       │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:55,499 - DEBUG - all_open_price_when_open_pos: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ f64     ┆ f64    ┆ f64     ┆ f64     │
│ f64         ┆ f64         ┆ f64         ┆ f64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0.032401    ┆ 0.22345     ┆ 0.11615     ┆ 0.0133987   ┆ … ┆ 0.02428 ┆ null   ┆ null    ┆ 0.5592  │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:55,509 - DEBUG - update position: 2024-05-22T23:59:59.999 === diff_trading_value: 224957.11898556596 == cash: 190446.73604108035 
2024-12-13 00:56:55,511 - INFO - pnl: 2024-05-22T23:59:59.999 190446.73604108035 === -0.198%
2024-12-13 00:56:55,519 - DEBUG - cur time: 2024-05-23T23:59:59.999 == next bar open time: 2024-05-24T00:00:00.000 == close pos time: 2024-05-29T00:00:00.000
2024-12-13 00:56:55,520 - INFO - pnl: 2024-05-23T23:59:59.999 188872.70788148243 === -0.826%
2024-12-13 00:56:55,525 - DEBUG - cur time: 2024-05-24T23:59:59.999 == next bar open time: 2024-05-25T00:00:00.000 == close pos time: 2024-05-30T00:00:00.000
2024-12-13 00:56:55,527 - INFO - pnl: 2024-05-24T23:59:59.999 191137.5619896367 === 1.199%
2024-12-13 00:56:55,529 - DEBUG - cur time: 2024-05-25T23:59:59.999 == next bar open time: 2024-05-26T00:00:00.000 == close pos time: 2024-05-31T00:00:00.000
2024-12-13 00:56:55,533 - INFO - pnl: 2024-05-25T23:59:59.999 190007.33270821098 === -0.591%
2024-12-13 00:56:55,537 - DEBUG - cur time: 2024-05-26T23:59:59.999 == next bar open time: 2024-05-27T00:00:00.000 == close pos time: 2024-06-01T00:00:00.000
2024-12-13 00:56:55,538 - INFO - pnl: 2024-05-26T23:59:59.999 188793.7185549192 === -0.639%
2024-12-13 00:56:55,545 - DEBUG - cur time: 2024-05-27T23:59:59.999 == next bar open time: 2024-05-28T00:00:00.000 == close pos time: 2024-06-02T00:00:00.000
2024-12-13 00:56:55,559 - DEBUG - close time 2024-05-27T23:59:59.999 == vol_threshold: 11241832.959999997
2024-12-13 00:56:55,560 - DEBUG - 2024-05-27T23:59:59.999 == all trade symbol 243 == remain 170 after VOL filter
2024-12-13 00:56:55,562 - DEBUG - sorted_long_factors: shape: (170, 4)
┌───────────┬──────────────┬──────┬──────────────┐
│ symbol    ┆ factor_value ┆ rank ┆ reverse_rank │
│ ---       ┆ ---          ┆ ---  ┆ ---          │
│ str       ┆ f64          ┆ u32  ┆ u32          │
╞═══════════╪══════════════╪══════╪══════════════╡
│ JTOUSDT   ┆ -1.011309    ┆ 0    ┆ 169          │
│ DOTUSDT   ┆ -0.950116    ┆ 1    ┆ 168          │
│ FETUSDT   ┆ -0.904689    ┆ 2    ┆ 167          │
│ TIAUSDT   ┆ -0.846955    ┆ 3    ┆ 166          │
│ DYMUSDT   ┆ -0.842536    ┆ 4    ┆ 165          │
│ HIGHUSDT  ┆ -0.829106    ┆ 5    ┆ 164          │
│ PYTHUSDT  ┆ -0.823387    ┆ 6    ┆ 163          │
│ AGIXUSDT  ┆ -0.789757    ┆ 7    ┆ 162          │
│ THETAUSDT ┆ -0.771864    ┆ 8    ┆ 161          │
│ ARBUSDT   ┆ -0.768228    ┆ 9    ┆ 160          │
│ …         ┆ …            ┆ …    ┆ …            │
│ DENTUSDT  ┆ 0.652556     ┆ 160  ┆ 9            │
│ AMBUSDT   ┆ 0.669256     ┆ 161  ┆ 8            │
│ STEEMUSDT ┆ 0.68961      ┆ 162  ┆ 7            │
│ REEFUSDT  ┆ 0.691001     ┆ 163  ┆ 6            │
│ ORBSUSDT  ┆ 0.702597     ┆ 164  ┆ 5            │
│ SPELLUSDT ┆ 0.739963     ┆ 165  ┆ 4            │
│ KEYUSDT   ┆ 0.816819     ┆ 166  ┆ 3            │
│ TLMUSDT   ┆ 0.982688     ┆ 167  ┆ 2            │
│ DODOXUSDT ┆ 1.131098     ┆ 168  ┆ 1            │
│ OXTUSDT   ┆ 1.168633     ┆ 169  ┆ 0            │
└───────────┴──────────────┴──────┴──────────────┘
2024-12-13 00:56:55,570 - WARNING - 2024-05-27T23:59:59.999=====cur_long_scale: 1.2 not match == long_value_ratio: 1.0
2024-12-13 00:56:55,570 - INFO - cur close time: 2024-05-27T23:59:59.999 == long_value_ratio: 1.0 == short_value_ratio: 1.0 --- 1.2
2024-12-13 00:56:55,571 - DEBUG - mean expected ret (mean factor): -0.07514399031379056
2024-12-13 00:56:55,575 - DEBUG - begin to update pos: =========
2024-12-13 00:56:55,577 - DEBUG - next_step_value: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ i64     ┆ i64    ┆ i64     ┆ i64     │
│ i64         ┆ i64         ┆ i64         ┆ i64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0           ┆ 0           ┆ 0           ┆ 0           ┆ … ┆ 0       ┆ 0      ┆ 0       ┆ 0       │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:55,577 - DEBUG - all_open_price_when_open_pos: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ f64     ┆ f64    ┆ f64     ┆ f64     │
│ f64         ┆ f64         ┆ f64         ┆ f64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0.039223    ┆ 0.27812     ┆ 0.11594     ┆ 0.0167246   ┆ … ┆ 0.02505 ┆ null   ┆ null    ┆ 0.5595  │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:55,584 - DEBUG - update position: 2024-05-27T23:59:59.999 === diff_trading_value: 239160.17697895784 == cash: 191630.30317390375 
2024-12-13 00:56:55,586 - INFO - pnl: 2024-05-27T23:59:59.999 191630.30317390375 === 1.502%
2024-12-13 00:56:55,590 - DEBUG - cur time: 2024-05-28T23:59:59.999 == next bar open time: 2024-05-29T00:00:00.000 == close pos time: 2024-06-03T00:00:00.000
2024-12-13 00:56:55,592 - INFO - pnl: 2024-05-28T23:59:59.999 191233.17281069406 === -0.207%
2024-12-13 00:56:55,597 - DEBUG - cur time: 2024-05-29T23:59:59.999 == next bar open time: 2024-05-30T00:00:00.000 == close pos time: 2024-06-04T00:00:00.000
2024-12-13 00:56:55,597 - INFO - pnl: 2024-05-29T23:59:59.999 192147.05868374 === 0.478%
2024-12-13 00:56:55,604 - DEBUG - cur time: 2024-05-30T23:59:59.999 == next bar open time: 2024-05-31T00:00:00.000 == close pos time: 2024-06-05T00:00:00.000
2024-12-13 00:56:55,604 - INFO - pnl: 2024-05-30T23:59:59.999 192961.7944164965 === 0.424%
2024-12-13 00:56:55,611 - DEBUG - cur time: 2024-05-31T23:59:59.999 == next bar open time: 2024-06-01T00:00:00.000 == close pos time: 2024-06-06T00:00:00.000
2024-12-13 00:56:55,613 - INFO - pnl: 2024-05-31T23:59:59.999 194491.34264335874 === 0.793%
2024-12-13 00:56:55,616 - DEBUG - cur time: 2024-06-01T23:59:59.999 == next bar open time: 2024-06-02T00:00:00.000 == close pos time: 2024-06-07T00:00:00.000
2024-12-13 00:56:55,627 - DEBUG - close time 2024-06-01T23:59:59.999 == vol_threshold: 7100327.8
2024-12-13 00:56:55,628 - DEBUG - 2024-06-01T23:59:59.999 == all trade symbol 243 == remain 170 after VOL filter
2024-12-13 00:56:55,629 - DEBUG - sorted_long_factors: shape: (170, 4)
┌───────────┬──────────────┬──────┬──────────────┐
│ symbol    ┆ factor_value ┆ rank ┆ reverse_rank │
│ ---       ┆ ---          ┆ ---  ┆ ---          │
│ str       ┆ f64          ┆ u32  ┆ u32          │
╞═══════════╪══════════════╪══════╪══════════════╡
│ OMUSDT    ┆ -0.946146    ┆ 0    ┆ 169          │
│ OPUSDT    ┆ -0.878966    ┆ 1    ┆ 168          │
│ JTOUSDT   ┆ -0.843276    ┆ 2    ┆ 167          │
│ ACEUSDT   ┆ -0.83974     ┆ 3    ┆ 166          │
│ ETHFIUSDT ┆ -0.771171    ┆ 4    ┆ 165          │
│ AIUSDT    ┆ -0.743573    ┆ 5    ┆ 164          │
│ PYTHUSDT  ┆ -0.717079    ┆ 6    ┆ 163          │
│ TIAUSDT   ┆ -0.684831    ┆ 7    ┆ 162          │
│ ARBUSDT   ┆ -0.684399    ┆ 8    ┆ 161          │
│ WIFUSDT   ┆ -0.654108    ┆ 9    ┆ 160          │
│ …         ┆ …            ┆ …    ┆ …            │
│ TUSDT     ┆ 0.684099     ┆ 160  ┆ 9            │
│ STEEMUSDT ┆ 0.687535     ┆ 161  ┆ 8            │
│ FLMUSDT   ┆ 0.69794      ┆ 162  ┆ 7            │
│ RIFUSDT   ┆ 0.727817     ┆ 163  ┆ 6            │
│ KEYUSDT   ┆ 0.749011     ┆ 164  ┆ 5            │
│ DENTUSDT  ┆ 0.791934     ┆ 165  ┆ 4            │
│ ICXUSDT   ┆ 0.79713      ┆ 166  ┆ 3            │
│ OXTUSDT   ┆ 0.822971     ┆ 167  ┆ 2            │
│ DODOXUSDT ┆ 0.840281     ┆ 168  ┆ 1            │
│ RVNUSDT   ┆ 0.935484     ┆ 169  ┆ 0            │
└───────────┴──────────────┴──────┴──────────────┘
2024-12-13 00:56:55,637 - INFO - cur close time: 2024-06-01T23:59:59.999 == long_value_ratio: 1.0 == short_value_ratio: 1.0 --- 1.0
2024-12-13 00:56:55,638 - DEBUG - mean expected ret (mean factor): -0.07058956451202775
2024-12-13 00:56:55,642 - DEBUG - begin to update pos: =========
2024-12-13 00:56:55,642 - DEBUG - next_step_value: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ i64     ┆ i64    ┆ i64     ┆ i64     │
│ i64         ┆ i64         ┆ i64         ┆ i64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0           ┆ 0           ┆ 0           ┆ 0           ┆ … ┆ 0       ┆ 0      ┆ 0       ┆ 0       │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:55,643 - DEBUG - all_open_price_when_open_pos: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ f64     ┆ f64    ┆ f64     ┆ f64     │
│ f64         ┆ f64         ┆ f64         ┆ f64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0.033153    ┆ 0.25271     ┆ 0.12039     ┆ 0.014871    ┆ … ┆ 0.02363 ┆ null   ┆ null    ┆ 0.5212  │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:55,649 - DEBUG - update position: 2024-06-01T23:59:59.999 === diff_trading_value: 213060.71929963242 == cash: 194908.4407832112 
2024-12-13 00:56:55,650 - INFO - pnl: 2024-06-01T23:59:59.999 194908.4407832112 === 0.214%
2024-12-13 00:56:55,657 - DEBUG - cur time: 2024-06-02T23:59:59.999 == next bar open time: 2024-06-03T00:00:00.000 == close pos time: 2024-06-08T00:00:00.000
2024-12-13 00:56:55,658 - INFO - pnl: 2024-06-02T23:59:59.999 193808.96802128418 === -0.564%
2024-12-13 00:56:55,662 - DEBUG - cur time: 2024-06-03T23:59:59.999 == next bar open time: 2024-06-04T00:00:00.000 == close pos time: 2024-06-09T00:00:00.000
2024-12-13 00:56:55,662 - INFO - pnl: 2024-06-03T23:59:59.999 193680.63044481148 === -0.066%
2024-12-13 00:56:55,667 - DEBUG - cur time: 2024-06-04T23:59:59.999 == next bar open time: 2024-06-05T00:00:00.000 == close pos time: 2024-06-10T00:00:00.000
2024-12-13 00:56:55,667 - INFO - pnl: 2024-06-04T23:59:59.999 194834.15627492112 === 0.596%
2024-12-13 00:56:55,670 - DEBUG - cur time: 2024-06-05T23:59:59.999 == next bar open time: 2024-06-06T00:00:00.000 == close pos time: 2024-06-11T00:00:00.000
2024-12-13 00:56:55,670 - INFO - pnl: 2024-06-05T23:59:59.999 194694.37459931485 === -0.072%
2024-12-13 00:56:55,675 - DEBUG - cur time: 2024-06-06T23:59:59.999 == next bar open time: 2024-06-07T00:00:00.000 == close pos time: 2024-06-12T00:00:00.000
2024-12-13 00:56:55,687 - DEBUG - close time 2024-06-06T23:59:59.999 == vol_threshold: 10119871.489999996
2024-12-13 00:56:55,688 - DEBUG - 2024-06-06T23:59:59.999 == all trade symbol 244 == remain 171 after VOL filter
2024-12-13 00:56:55,688 - DEBUG - sorted_long_factors: shape: (171, 4)
┌───────────────┬──────────────┬──────┬──────────────┐
│ symbol        ┆ factor_value ┆ rank ┆ reverse_rank │
│ ---           ┆ ---          ┆ ---  ┆ ---          │
│ str           ┆ f64          ┆ u32  ┆ u32          │
╞═══════════════╪══════════════╪══════╪══════════════╡
│ TONUSDT       ┆ -1.038508    ┆ 0    ┆ 170          │
│ MOVRUSDT      ┆ -1.013433    ┆ 1    ┆ 169          │
│ WIFUSDT       ┆ -0.972428    ┆ 2    ┆ 168          │
│ JTOUSDT       ┆ -0.889703    ┆ 3    ┆ 167          │
│ PYTHUSDT      ┆ -0.84332     ┆ 4    ┆ 166          │
│ 1000FLOKIUSDT ┆ -0.814877    ┆ 5    ┆ 165          │
│ AEVOUSDT      ┆ -0.776145    ┆ 6    ┆ 164          │
│ LUNA2USDT     ┆ -0.757296    ┆ 7    ┆ 163          │
│ MATICUSDT     ┆ -0.75427     ┆ 8    ┆ 162          │
│ JUPUSDT       ┆ -0.736999    ┆ 9    ┆ 161          │
│ …             ┆ …            ┆ …    ┆ …            │
│ TUSDT         ┆ 0.637731     ┆ 161  ┆ 9            │
│ ONEUSDT       ┆ 0.640223     ┆ 162  ┆ 8            │
│ RVNUSDT       ┆ 0.664272     ┆ 163  ┆ 7            │
│ ICXUSDT       ┆ 0.679901     ┆ 164  ┆ 6            │
│ REEFUSDT      ┆ 0.838318     ┆ 165  ┆ 5            │
│ XEMUSDT       ┆ 0.89018      ┆ 166  ┆ 4            │
│ OXTUSDT       ┆ 0.896174     ┆ 167  ┆ 3            │
│ OMGUSDT       ┆ 1.071137     ┆ 168  ┆ 2            │
│ SKLUSDT       ┆ 1.099823     ┆ 169  ┆ 1            │
│ DODOXUSDT     ┆ 1.140944     ┆ 170  ┆ 0            │
└───────────────┴──────────────┴──────┴──────────────┘
2024-12-13 00:56:55,695 - WARNING - 2024-06-06T23:59:59.999=====cur_long_scale: 1.2 not match == long_value_ratio: 1.0
2024-12-13 00:56:55,695 - INFO - cur close time: 2024-06-06T23:59:59.999 == long_value_ratio: 1.0 == short_value_ratio: 1.0 --- 1.2
2024-12-13 00:56:55,695 - DEBUG - mean expected ret (mean factor): -0.10053536968236129
2024-12-13 00:56:55,700 - DEBUG - begin to update pos: =========
2024-12-13 00:56:55,700 - DEBUG - next_step_value: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ i64     ┆ i64    ┆ i64     ┆ i64     │
│ i64         ┆ f64         ┆ i64         ┆ i64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0           ┆ -10000.0    ┆ 0           ┆ 0           ┆ … ┆ 0       ┆ 0      ┆ 0       ┆ 0       │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:55,701 - DEBUG - all_open_price_when_open_pos: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ f64     ┆ f64    ┆ f64     ┆ f64     │
│ f64         ┆ f64         ┆ f64         ┆ f64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0.031822    ┆ 0.32081     ┆ 0.12119     ┆ 0.0143597   ┆ … ┆ 0.02379 ┆ null   ┆ null    ┆ 0.5273  │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:55,704 - DEBUG - update position: 2024-06-06T23:59:59.999 === diff_trading_value: 225582.4929497858 == cash: 193830.71670226814 
2024-12-13 00:56:55,708 - INFO - pnl: 2024-06-06T23:59:59.999 193830.71670226814 === -0.444%
2024-12-13 00:56:55,712 - DEBUG - cur time: 2024-06-07T23:59:59.999 == next bar open time: 2024-06-08T00:00:00.000 == close pos time: 2024-06-13T00:00:00.000
2024-12-13 00:56:55,713 - INFO - pnl: 2024-06-07T23:59:59.999 195790.3139249422 === 1.011%
2024-12-13 00:56:55,717 - DEBUG - cur time: 2024-06-08T23:59:59.999 == next bar open time: 2024-06-09T00:00:00.000 == close pos time: 2024-06-14T00:00:00.000
2024-12-13 00:56:55,718 - INFO - pnl: 2024-06-08T23:59:59.999 194106.29243792643 === -0.860%
2024-12-13 00:56:55,721 - DEBUG - cur time: 2024-06-09T23:59:59.999 == next bar open time: 2024-06-10T00:00:00.000 == close pos time: 2024-06-15T00:00:00.000
2024-12-13 00:56:55,722 - INFO - pnl: 2024-06-09T23:59:59.999 193649.95719619418 === -0.235%
2024-12-13 00:56:55,725 - DEBUG - cur time: 2024-06-10T23:59:59.999 == next bar open time: 2024-06-11T00:00:00.000 == close pos time: 2024-06-16T00:00:00.000
2024-12-13 00:56:55,727 - INFO - pnl: 2024-06-10T23:59:59.999 194384.63356454606 === 0.379%
2024-12-13 00:56:55,730 - DEBUG - cur time: 2024-06-11T23:59:59.999 == next bar open time: 2024-06-12T00:00:00.000 == close pos time: 2024-06-17T00:00:00.000
2024-12-13 00:56:55,741 - DEBUG - close time 2024-06-11T23:59:59.999 == vol_threshold: 14613414.600000001
2024-12-13 00:56:55,742 - DEBUG - 2024-06-11T23:59:59.999 == all trade symbol 245 == remain 171 after VOL filter
2024-12-13 00:56:55,745 - DEBUG - sorted_long_factors: shape: (171, 4)
┌─────────────┬──────────────┬──────┬──────────────┐
│ symbol      ┆ factor_value ┆ rank ┆ reverse_rank │
│ ---         ┆ ---          ┆ ---  ┆ ---          │
│ str         ┆ f64          ┆ u32  ┆ u32          │
╞═════════════╪══════════════╪══════╪══════════════╡
│ PORTALUSDT  ┆ -1.061504    ┆ 0    ┆ 170          │
│ UNIUSDT     ┆ -0.956614    ┆ 1    ┆ 169          │
│ ALICEUSDT   ┆ -0.93294     ┆ 2    ┆ 168          │
│ ETHFIUSDT   ┆ -0.857365    ┆ 3    ┆ 167          │
│ XAIUSDT     ┆ -0.819242    ┆ 4    ┆ 166          │
│ ENAUSDT     ┆ -0.760298    ┆ 5    ┆ 165          │
│ PIXELUSDT   ┆ -0.741369    ┆ 6    ┆ 164          │
│ STRKUSDT    ┆ -0.738769    ┆ 7    ┆ 163          │
│ AEVOUSDT    ┆ -0.733802    ┆ 8    ┆ 162          │
│ FILUSDT     ┆ -0.709792    ┆ 9    ┆ 161          │
│ …           ┆ …            ┆ …    ┆ …            │
│ TUSDT       ┆ 0.568535     ┆ 161  ┆ 9            │
│ REEFUSDT    ┆ 0.571782     ┆ 162  ┆ 8            │
│ ICXUSDT     ┆ 0.584171     ┆ 163  ┆ 7            │
│ 1000XECUSDT ┆ 0.715468     ┆ 164  ┆ 6            │
│ ALPHAUSDT   ┆ 0.729106     ┆ 165  ┆ 5            │
│ LRCUSDT     ┆ 0.730925     ┆ 166  ┆ 4            │
│ DENTUSDT    ┆ 0.738644     ┆ 167  ┆ 3            │
│ ATAUSDT     ┆ 0.822331     ┆ 168  ┆ 2            │
│ OXTUSDT     ┆ 1.049468     ┆ 169  ┆ 1            │
│ HIGHUSDT    ┆ 1.485658     ┆ 170  ┆ 0            │
└─────────────┴──────────────┴──────┴──────────────┘
2024-12-13 00:56:55,753 - WARNING - 2024-06-11T23:59:59.999=====cur_long_scale: 0.8 not match == long_value_ratio: 1.0
2024-12-13 00:56:55,753 - INFO - cur close time: 2024-06-11T23:59:59.999 == long_value_ratio: 1.0 == short_value_ratio: 1.0 --- 0.8
2024-12-13 00:56:55,753 - DEBUG - mean expected ret (mean factor): -0.08280691762778525
2024-12-13 00:56:55,760 - DEBUG - begin to update pos: =========
2024-12-13 00:56:55,761 - DEBUG - next_step_value: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ i64     ┆ i64    ┆ i64     ┆ i64     │
│ i64         ┆ i64         ┆ i64         ┆ i64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0           ┆ 0           ┆ 0           ┆ 0           ┆ … ┆ 0       ┆ 0      ┆ 0       ┆ 0       │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:55,761 - DEBUG - all_open_price_when_open_pos: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ f64     ┆ f64    ┆ f64     ┆ f64     │
│ f64         ┆ f64         ┆ f64         ┆ f64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0.027134    ┆ 0.23658     ┆ 0.10074     ┆ 0.0127355   ┆ … ┆ 0.02011 ┆ null   ┆ null    ┆ 0.4304  │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:55,769 - DEBUG - update position: 2024-06-11T23:59:59.999 === diff_trading_value: 258754.37778738345 == cash: 195716.42782206237 
2024-12-13 00:56:55,771 - INFO - pnl: 2024-06-11T23:59:59.999 195716.42782206237 === 0.685%
2024-12-13 00:56:55,774 - DEBUG - cur time: 2024-06-12T23:59:59.999 == next bar open time: 2024-06-13T00:00:00.000 == close pos time: 2024-06-18T00:00:00.000
2024-12-13 00:56:55,775 - INFO - pnl: 2024-06-12T23:59:59.999 194941.3385859317 === -0.396%
2024-12-13 00:56:55,780 - DEBUG - cur time: 2024-06-13T23:59:59.999 == next bar open time: 2024-06-14T00:00:00.000 == close pos time: 2024-06-19T00:00:00.000
2024-12-13 00:56:55,781 - INFO - pnl: 2024-06-13T23:59:59.999 196210.66658834214 === 0.651%
2024-12-13 00:56:55,786 - DEBUG - cur time: 2024-06-14T23:59:59.999 == next bar open time: 2024-06-15T00:00:00.000 == close pos time: 2024-06-20T00:00:00.000
2024-12-13 00:56:55,788 - INFO - pnl: 2024-06-14T23:59:59.999 195591.54794558487 === -0.316%
2024-12-13 00:56:55,794 - DEBUG - cur time: 2024-06-15T23:59:59.999 == next bar open time: 2024-06-16T00:00:00.000 == close pos time: 2024-06-21T00:00:00.000
2024-12-13 00:56:55,794 - INFO - pnl: 2024-06-15T23:59:59.999 192355.75312278752 === -1.654%
2024-12-13 00:56:55,801 - DEBUG - cur time: 2024-06-16T23:59:59.999 == next bar open time: 2024-06-17T00:00:00.000 == close pos time: 2024-06-22T00:00:00.000
2024-12-13 00:56:55,816 - DEBUG - close time 2024-06-16T23:59:59.999 == vol_threshold: 7660258.519999998
2024-12-13 00:56:55,817 - DEBUG - 2024-06-16T23:59:59.999 == all trade symbol 247 == remain 173 after VOL filter
2024-12-13 00:56:55,818 - DEBUG - sorted_long_factors: shape: (173, 4)
┌─────────────┬──────────────┬──────┬──────────────┐
│ symbol      ┆ factor_value ┆ rank ┆ reverse_rank │
│ ---         ┆ ---          ┆ ---  ┆ ---          │
│ str         ┆ f64          ┆ u32  ┆ u32          │
╞═════════════╪══════════════╪══════╪══════════════╡
│ UMAUSDT     ┆ -1.055233    ┆ 0    ┆ 172          │
│ WUSDT       ┆ -0.97133     ┆ 1    ┆ 171          │
│ UNIUSDT     ┆ -0.965472    ┆ 2    ┆ 170          │
│ TONUSDT     ┆ -0.926105    ┆ 3    ┆ 169          │
│ OMUSDT      ┆ -0.867488    ┆ 4    ┆ 168          │
│ FILUSDT     ┆ -0.816965    ┆ 5    ┆ 167          │
│ TIAUSDT     ┆ -0.812275    ┆ 6    ┆ 166          │
│ DOTUSDT     ┆ -0.809637    ┆ 7    ┆ 165          │
│ XAIUSDT     ┆ -0.809578    ┆ 8    ┆ 164          │
│ AEVOUSDT    ┆ -0.802395    ┆ 9    ┆ 163          │
│ …           ┆ …            ┆ …    ┆ …            │
│ NKNUSDT     ┆ 0.79395      ┆ 163  ┆ 9            │
│ DENTUSDT    ┆ 0.85002      ┆ 164  ┆ 8            │
│ 1000XECUSDT ┆ 0.852327     ┆ 165  ┆ 7            │
│ WAXPUSDT    ┆ 0.866055     ┆ 166  ┆ 6            │
│ OXTUSDT     ┆ 0.92859      ┆ 167  ┆ 5            │
│ ORBSUSDT    ┆ 0.954419     ┆ 168  ┆ 4            │
│ AMBUSDT     ┆ 0.960685     ┆ 169  ┆ 3            │
│ RIFUSDT     ┆ 0.994563     ┆ 170  ┆ 2            │
│ STMXUSDT    ┆ 1.076049     ┆ 171  ┆ 1            │
│ DODOXUSDT   ┆ 1.268217     ┆ 172  ┆ 0            │
└─────────────┴──────────────┴──────┴──────────────┘
2024-12-13 00:56:55,824 - INFO - cur close time: 2024-06-16T23:59:59.999 == long_value_ratio: 1.0 == short_value_ratio: 1.0 --- 1.0
2024-12-13 00:56:55,826 - DEBUG - mean expected ret (mean factor): -0.053755644763222324
2024-12-13 00:56:55,830 - DEBUG - begin to update pos: =========
2024-12-13 00:56:55,830 - DEBUG - next_step_value: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ i64     ┆ i64    ┆ i64     ┆ i64     │
│ i64         ┆ i64         ┆ i64         ┆ i64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0           ┆ 0           ┆ 0           ┆ 0           ┆ … ┆ 0       ┆ 0      ┆ 0       ┆ 0       │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:55,830 - DEBUG - all_open_price_when_open_pos: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ f64     ┆ f64    ┆ f64     ┆ f64     │
│ f64         ┆ f64         ┆ f64         ┆ f64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0.025232    ┆ 0.20674     ┆ 0.1044      ┆ 0.0123048   ┆ … ┆ 0.01968 ┆ null   ┆ null    ┆ 0.4144  │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:55,837 - DEBUG - update position: 2024-06-16T23:59:59.999 === diff_trading_value: 196438.55593563523 == cash: 191165.31217461932 
2024-12-13 00:56:55,839 - INFO - pnl: 2024-06-16T23:59:59.999 191165.31217461932 === -0.619%
2024-12-13 00:56:55,845 - DEBUG - cur time: 2024-06-17T23:59:59.999 == next bar open time: 2024-06-18T00:00:00.000 == close pos time: 2024-06-23T00:00:00.000
2024-12-13 00:56:55,847 - INFO - pnl: 2024-06-17T23:59:59.999 190279.59200381106 === -0.463%
2024-12-13 00:56:55,854 - DEBUG - cur time: 2024-06-18T23:59:59.999 == next bar open time: 2024-06-19T00:00:00.000 == close pos time: 2024-06-24T00:00:00.000
2024-12-13 00:56:55,857 - INFO - pnl: 2024-06-18T23:59:59.999 191305.84830272186 === 0.539%
2024-12-13 00:56:55,863 - DEBUG - cur time: 2024-06-19T23:59:59.999 == next bar open time: 2024-06-20T00:00:00.000 == close pos time: 2024-06-25T00:00:00.000
2024-12-13 00:56:55,865 - INFO - pnl: 2024-06-19T23:59:59.999 190895.04030355567 === -0.215%
2024-12-13 00:56:55,871 - DEBUG - cur time: 2024-06-20T23:59:59.999 == next bar open time: 2024-06-21T00:00:00.000 == close pos time: 2024-06-26T00:00:00.000
2024-12-13 00:56:55,876 - INFO - pnl: 2024-06-20T23:59:59.999 193233.6505119287 === 1.225%
2024-12-13 00:56:55,883 - DEBUG - cur time: 2024-06-21T23:59:59.999 == next bar open time: 2024-06-22T00:00:00.000 == close pos time: 2024-06-27T00:00:00.000
2024-12-13 00:56:55,897 - DEBUG - close time 2024-06-21T23:59:59.999 == vol_threshold: 13107380.0
2024-12-13 00:56:55,897 - DEBUG - 2024-06-21T23:59:59.999 == all trade symbol 246 == remain 172 after VOL filter
2024-12-13 00:56:55,899 - DEBUG - sorted_long_factors: shape: (172, 4)
┌───────────────┬──────────────┬──────┬──────────────┐
│ symbol        ┆ factor_value ┆ rank ┆ reverse_rank │
│ ---           ┆ ---          ┆ ---  ┆ ---          │
│ str           ┆ f64          ┆ u32  ┆ u32          │
╞═══════════════╪══════════════╪══════╪══════════════╡
│ HIGHUSDT      ┆ -0.996835    ┆ 0    ┆ 171          │
│ PENDLEUSDT    ┆ -0.979816    ┆ 1    ┆ 170          │
│ STXUSDT       ┆ -0.939848    ┆ 2    ┆ 169          │
│ TONUSDT       ┆ -0.812612    ┆ 3    ┆ 168          │
│ POLYXUSDT     ┆ -0.807167    ┆ 4    ┆ 167          │
│ OMUSDT        ┆ -0.760513    ┆ 5    ┆ 166          │
│ PEOPLEUSDT    ┆ -0.737508    ┆ 6    ┆ 165          │
│ ROSEUSDT      ┆ -0.724673    ┆ 7    ┆ 164          │
│ BOMEUSDT      ┆ -0.722299    ┆ 8    ┆ 163          │
│ 1000FLOKIUSDT ┆ -0.710281    ┆ 9    ┆ 162          │
│ …             ┆ …            ┆ …    ┆ …            │
│ DENTUSDT      ┆ 0.42142      ┆ 162  ┆ 9            │
│ ACHUSDT       ┆ 0.436622     ┆ 163  ┆ 8            │
│ TUSDT         ┆ 0.486657     ┆ 164  ┆ 7            │
│ ALPHAUSDT     ┆ 0.557037     ┆ 165  ┆ 6            │
│ BNTUSDT       ┆ 0.573408     ┆ 166  ┆ 5            │
│ NKNUSDT       ┆ 0.667029     ┆ 167  ┆ 4            │
│ DARUSDT       ┆ 0.731413     ┆ 168  ┆ 3            │
│ DODOXUSDT     ┆ 0.807766     ┆ 169  ┆ 2            │
│ HFTUSDT       ┆ 1.09623      ┆ 170  ┆ 1            │
│ OXTUSDT       ┆ 1.200802     ┆ 171  ┆ 0            │
└───────────────┴──────────────┴──────┴──────────────┘
2024-12-13 00:56:55,907 - WARNING - 2024-06-21T23:59:59.999=====cur_long_scale: 0.8 not match == long_value_ratio: 1.0
2024-12-13 00:56:55,907 - INFO - cur close time: 2024-06-21T23:59:59.999 == long_value_ratio: 1.0 == short_value_ratio: 1.0 --- 0.8
2024-12-13 00:56:55,907 - DEBUG - mean expected ret (mean factor): -0.12629671539181345
2024-12-13 00:56:55,910 - DEBUG - begin to update pos: =========
2024-12-13 00:56:55,910 - DEBUG - next_step_value: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ i64     ┆ i64    ┆ i64     ┆ i64     │
│ i64         ┆ f64         ┆ i64         ┆ i64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0           ┆ -10000.0    ┆ 0           ┆ 0           ┆ … ┆ 0       ┆ 0      ┆ 0       ┆ 0       │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:55,910 - DEBUG - all_open_price_when_open_pos: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ f64     ┆ f64    ┆ f64     ┆ f64     │
│ f64         ┆ f64         ┆ f64         ┆ f64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0.020361    ┆ 0.16987     ┆ 0.09069     ┆ 0.011408    ┆ … ┆ 0.01701 ┆ null   ┆ null    ┆ 0.3594  │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:55,918 - DEBUG - update position: 2024-06-21T23:59:59.999 === diff_trading_value: 246763.06720487506 == cash: 192981.17043223671 
2024-12-13 00:56:55,919 - INFO - pnl: 2024-06-21T23:59:59.999 192981.17043223671 === -0.131%
2024-12-13 00:56:55,922 - DEBUG - cur time: 2024-06-22T23:59:59.999 == next bar open time: 2024-06-23T00:00:00.000 == close pos time: 2024-06-28T00:00:00.000
2024-12-13 00:56:55,925 - INFO - pnl: 2024-06-22T23:59:59.999 192521.77594692912 === -0.238%
2024-12-13 00:56:55,929 - DEBUG - cur time: 2024-06-23T23:59:59.999 == next bar open time: 2024-06-24T00:00:00.000 == close pos time: 2024-06-29T00:00:00.000
2024-12-13 00:56:55,929 - INFO - pnl: 2024-06-23T23:59:59.999 192064.25355205438 === -0.238%
2024-12-13 00:56:55,935 - DEBUG - cur time: 2024-06-24T23:59:59.999 == next bar open time: 2024-06-25T00:00:00.000 == close pos time: 2024-06-30T00:00:00.000
2024-12-13 00:56:55,936 - INFO - pnl: 2024-06-24T23:59:59.999 190397.53561893868 === -0.868%
2024-12-13 00:56:55,942 - DEBUG - cur time: 2024-06-25T23:59:59.999 == next bar open time: 2024-06-26T00:00:00.000 == close pos time: 2024-07-01T00:00:00.000
2024-12-13 00:56:55,942 - INFO - pnl: 2024-06-25T23:59:59.999 188820.4202622938 === -0.828%
2024-12-13 00:56:55,947 - DEBUG - cur time: 2024-06-26T23:59:59.999 == next bar open time: 2024-06-27T00:00:00.000 == close pos time: 2024-07-02T00:00:00.000
2024-12-13 00:56:55,958 - DEBUG - close time 2024-06-26T23:59:59.999 == vol_threshold: 8578242.35
2024-12-13 00:56:55,962 - DEBUG - 2024-06-26T23:59:59.999 == all trade symbol 246 == remain 172 after VOL filter
2024-12-13 00:56:55,962 - DEBUG - sorted_long_factors: shape: (172, 4)
┌───────────┬──────────────┬──────┬──────────────┐
│ symbol    ┆ factor_value ┆ rank ┆ reverse_rank │
│ ---       ┆ ---          ┆ ---  ┆ ---          │
│ str       ┆ f64          ┆ u32  ┆ u32          │
╞═══════════╪══════════════╪══════╪══════════════╡
│ ETHFIUSDT ┆ -1.122373    ┆ 0    ┆ 171          │
│ HIGHUSDT  ┆ -0.928727    ┆ 1    ┆ 170          │
│ TNSRUSDT  ┆ -0.884899    ┆ 2    ┆ 169          │
│ KNCUSDT   ┆ -0.726109    ┆ 3    ┆ 168          │
│ EOSUSDT   ┆ -0.7019      ┆ 4    ┆ 167          │
│ MANTAUSDT ┆ -0.680758    ┆ 5    ┆ 166          │
│ PIXELUSDT ┆ -0.680658    ┆ 6    ┆ 165          │
│ FILUSDT   ┆ -0.679831    ┆ 7    ┆ 164          │
│ TONUSDT   ┆ -0.662074    ┆ 8    ┆ 163          │
│ ENAUSDT   ┆ -0.654544    ┆ 9    ┆ 162          │
│ …         ┆ …            ┆ …    ┆ …            │
│ DENTUSDT  ┆ 0.676638     ┆ 162  ┆ 9            │
│ HFTUSDT   ┆ 0.69678      ┆ 163  ┆ 8            │
│ NKNUSDT   ┆ 0.722334     ┆ 164  ┆ 7            │
│ TLMUSDT   ┆ 0.745606     ┆ 165  ┆ 6            │
│ AMBUSDT   ┆ 0.855428     ┆ 166  ┆ 5            │
│ DARUSDT   ┆ 0.902824     ┆ 167  ┆ 4            │
│ NTRNUSDT  ┆ 0.909664     ┆ 168  ┆ 3            │
│ JOEUSDT   ┆ 0.93655      ┆ 169  ┆ 2            │
│ OXTUSDT   ┆ 1.122313     ┆ 170  ┆ 1            │
│ DODOXUSDT ┆ 1.312636     ┆ 171  ┆ 0            │
└───────────┴──────────────┴──────┴──────────────┘
2024-12-13 00:56:55,975 - WARNING - 2024-06-26T23:59:59.999=====cur_long_scale: 0.8 not match == long_value_ratio: 1.0
2024-12-13 00:56:55,975 - INFO - cur close time: 2024-06-26T23:59:59.999 == long_value_ratio: 1.0 == short_value_ratio: 1.0 --- 0.8
2024-12-13 00:56:55,975 - DEBUG - mean expected ret (mean factor): -0.04313215389613033
2024-12-13 00:56:55,979 - DEBUG - begin to update pos: =========
2024-12-13 00:56:55,979 - DEBUG - next_step_value: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ i64     ┆ i64    ┆ i64     ┆ i64     │
│ i64         ┆ i64         ┆ i64         ┆ i64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0           ┆ 0           ┆ 0           ┆ 0           ┆ … ┆ 0       ┆ 0      ┆ 0       ┆ 0       │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:55,979 - DEBUG - all_open_price_when_open_pos: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ f64     ┆ f64    ┆ f64     ┆ f64     │
│ f64         ┆ f64         ┆ f64         ┆ f64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0.02188     ┆ 0.1679      ┆ 0.08229     ┆ 0.0125375   ┆ … ┆ 0.01769 ┆ null   ┆ null    ┆ 0.3615  │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:55,983 - DEBUG - update position: 2024-06-26T23:59:59.999 === diff_trading_value: 259608.7052279449 == cash: 190224.1387291654 
2024-12-13 00:56:55,987 - INFO - pnl: 2024-06-26T23:59:59.999 190224.1387291654 === 0.743%
2024-12-13 00:56:55,992 - DEBUG - cur time: 2024-06-27T23:59:59.999 == next bar open time: 2024-06-28T00:00:00.000 == close pos time: 2024-07-03T00:00:00.000
2024-12-13 00:56:55,992 - INFO - pnl: 2024-06-27T23:59:59.999 189231.89349886583 === -0.522%
2024-12-13 00:56:55,997 - DEBUG - cur time: 2024-06-28T23:59:59.999 == next bar open time: 2024-06-29T00:00:00.000 == close pos time: 2024-07-04T00:00:00.000
2024-12-13 00:56:55,997 - INFO - pnl: 2024-06-28T23:59:59.999 191514.435193664 === 1.206%
2024-12-13 00:56:56,000 - DEBUG - cur time: 2024-06-29T23:59:59.999 == next bar open time: 2024-06-30T00:00:00.000 == close pos time: 2024-07-05T00:00:00.000
2024-12-13 00:56:56,004 - INFO - pnl: 2024-06-29T23:59:59.999 191582.0597793761 === 0.035%
2024-12-13 00:56:56,008 - DEBUG - cur time: 2024-06-30T23:59:59.999 == next bar open time: 2024-07-01T00:00:00.000 == close pos time: 2024-07-06T00:00:00.000
2024-12-13 00:56:56,008 - INFO - pnl: 2024-06-30T23:59:59.999 193512.5270344086 === 1.008%
2024-12-13 00:56:56,012 - DEBUG - cur time: 2024-07-01T23:59:59.999 == next bar open time: 2024-07-02T00:00:00.000 == close pos time: 2024-07-07T00:00:00.000
2024-12-13 00:56:56,026 - DEBUG - close time 2024-07-01T23:59:59.999 == vol_threshold: 10742085.75
2024-12-13 00:56:56,026 - DEBUG - 2024-07-01T23:59:59.999 == all trade symbol 246 == remain 172 after VOL filter
2024-12-13 00:56:56,027 - DEBUG - sorted_long_factors: shape: (172, 4)
┌───────────┬──────────────┬──────┬──────────────┐
│ symbol    ┆ factor_value ┆ rank ┆ reverse_rank │
│ ---       ┆ ---          ┆ ---  ┆ ---          │
│ str       ┆ f64          ┆ u32  ┆ u32          │
╞═══════════╪══════════════╪══════╪══════════════╡
│ MANTAUSDT ┆ -1.178587    ┆ 0    ┆ 171          │
│ ENSUSDT   ┆ -1.127966    ┆ 1    ┆ 170          │
│ BAKEUSDT  ┆ -1.109622    ┆ 2    ┆ 169          │
│ TONUSDT   ┆ -1.042252    ┆ 3    ┆ 168          │
│ JUPUSDT   ┆ -1.011249    ┆ 4    ┆ 167          │
│ MTLUSDT   ┆ -0.976866    ┆ 5    ┆ 166          │
│ ZENUSDT   ┆ -0.934704    ┆ 6    ┆ 165          │
│ WIFUSDT   ┆ -0.90517     ┆ 7    ┆ 164          │
│ FETUSDT   ┆ -0.876748    ┆ 8    ┆ 163          │
│ OMUSDT    ┆ -0.844362    ┆ 9    ┆ 162          │
│ …         ┆ …            ┆ …    ┆ …            │
│ OGNUSDT   ┆ 0.573411     ┆ 162  ┆ 9            │
│ TLMUSDT   ┆ 0.630425     ┆ 163  ┆ 8            │
│ ATAUSDT   ┆ 0.635708     ┆ 164  ┆ 7            │
│ AMBUSDT   ┆ 0.650506     ┆ 165  ┆ 6            │
│ WLDUSDT   ┆ 0.668847     ┆ 166  ┆ 5            │
│ ARPAUSDT  ┆ 0.67452      ┆ 167  ┆ 4            │
│ XVGUSDT   ┆ 0.70632      ┆ 168  ┆ 3            │
│ DARUSDT   ┆ 0.900614     ┆ 169  ┆ 2            │
│ BNXUSDT   ┆ 1.14275      ┆ 170  ┆ 1            │
│ OXTUSDT   ┆ 1.59842      ┆ 171  ┆ 0            │
└───────────┴──────────────┴──────┴──────────────┘
2024-12-13 00:56:56,033 - INFO - cur close time: 2024-07-01T23:59:59.999 == long_value_ratio: 1.0 == short_value_ratio: 1.0 --- 1.0
2024-12-13 00:56:56,033 - DEBUG - mean expected ret (mean factor): -0.12777216683736417
2024-12-13 00:56:56,038 - DEBUG - begin to update pos: =========
2024-12-13 00:56:56,038 - DEBUG - next_step_value: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ i64     ┆ i64    ┆ i64     ┆ i64     │
│ i64         ┆ i64         ┆ i64         ┆ i64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0           ┆ 0           ┆ 0           ┆ 0           ┆ … ┆ 0       ┆ 0      ┆ 0       ┆ 0       │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:56,038 - DEBUG - all_open_price_when_open_pos: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ f64     ┆ f64    ┆ f64     ┆ f64     │
│ f64         ┆ f64         ┆ f64         ┆ f64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0.025564    ┆ 0.17017     ┆ 0.08077     ┆ 0.0114216   ┆ … ┆ 0.01715 ┆ null   ┆ null    ┆ 0.3567  │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:56,045 - DEBUG - update position: 2024-07-01T23:59:59.999 === diff_trading_value: 246240.10727188253 == cash: 193460.74897213164 
2024-12-13 00:56:56,047 - INFO - pnl: 2024-07-01T23:59:59.999 193460.74897213164 === -0.027%
2024-12-13 00:56:56,050 - DEBUG - cur time: 2024-07-02T23:59:59.999 == next bar open time: 2024-07-03T00:00:00.000 == close pos time: 2024-07-08T00:00:00.000
2024-12-13 00:56:56,053 - INFO - pnl: 2024-07-02T23:59:59.999 193366.40783106867 === -0.049%
2024-12-13 00:56:56,057 - DEBUG - cur time: 2024-07-03T23:59:59.999 == next bar open time: 2024-07-04T00:00:00.000 == close pos time: 2024-07-09T00:00:00.000
2024-12-13 00:56:56,060 - INFO - pnl: 2024-07-03T23:59:59.999 195235.64788717125 === 0.967%
2024-12-13 00:56:56,060 - DEBUG - cur time: 2024-07-04T23:59:59.999 == next bar open time: 2024-07-05T00:00:00.000 == close pos time: 2024-07-10T00:00:00.000
2024-12-13 00:56:56,064 - INFO - pnl: 2024-07-04T23:59:59.999 192710.390532522 === -1.293%
2024-12-13 00:56:56,067 - DEBUG - cur time: 2024-07-05T23:59:59.999 == next bar open time: 2024-07-06T00:00:00.000 == close pos time: 2024-07-11T00:00:00.000
2024-12-13 00:56:56,071 - INFO - pnl: 2024-07-05T23:59:59.999 188840.9600225686 === -2.008%
2024-12-13 00:56:56,074 - DEBUG - cur time: 2024-07-06T23:59:59.999 == next bar open time: 2024-07-07T00:00:00.000 == close pos time: 2024-07-12T00:00:00.000
2024-12-13 00:56:56,091 - DEBUG - close time 2024-07-06T23:59:59.999 == vol_threshold: 14462858.0
2024-12-13 00:56:56,092 - DEBUG - 2024-07-06T23:59:59.999 == all trade symbol 246 == remain 172 after VOL filter
2024-12-13 00:56:56,094 - DEBUG - sorted_long_factors: shape: (172, 4)
┌──────────────┬──────────────┬──────┬──────────────┐
│ symbol       ┆ factor_value ┆ rank ┆ reverse_rank │
│ ---          ┆ ---          ┆ ---  ┆ ---          │
│ str          ┆ f64          ┆ u32  ┆ u32          │
╞══════════════╪══════════════╪══════╪══════════════╡
│ OMUSDT       ┆ -1.470765    ┆ 0    ┆ 171          │
│ JUPUSDT      ┆ -1.148857    ┆ 1    ┆ 170          │
│ CHRUSDT      ┆ -1.074404    ┆ 2    ┆ 169          │
│ 1000BONKUSDT ┆ -0.988115    ┆ 3    ┆ 168          │
│ TONUSDT      ┆ -0.97428     ┆ 4    ┆ 167          │
│ NTRNUSDT     ┆ -0.92838     ┆ 5    ┆ 166          │
│ BEAMXUSDT    ┆ -0.913101    ┆ 6    ┆ 165          │
│ WIFUSDT      ┆ -0.858067    ┆ 7    ┆ 164          │
│ UNFIUSDT     ┆ -0.85582     ┆ 8    ┆ 163          │
│ EDUUSDT      ┆ -0.849636    ┆ 9    ┆ 162          │
│ …            ┆ …            ┆ …    ┆ …            │
│ XVGUSDT      ┆ 0.456108     ┆ 162  ┆ 9            │
│ TLMUSDT      ┆ 0.477277     ┆ 163  ┆ 8            │
│ MAVIAUSDT    ┆ 0.487967     ┆ 164  ┆ 7            │
│ TUSDT        ┆ 0.518453     ┆ 165  ┆ 6            │
│ BANDUSDT     ┆ 0.550282     ┆ 166  ┆ 5            │
│ NKNUSDT      ┆ 0.563249     ┆ 167  ┆ 4            │
│ DARUSDT      ┆ 0.604662     ┆ 168  ┆ 3            │
│ SUPERUSDT    ┆ 0.766716     ┆ 169  ┆ 2            │
│ DODOXUSDT    ┆ 1.086682     ┆ 170  ┆ 1            │
│ OXTUSDT      ┆ 1.388481     ┆ 171  ┆ 0            │
└──────────────┴──────────────┴──────┴──────────────┘
2024-12-13 00:56:56,102 - WARNING - 2024-07-06T23:59:59.999=====cur_long_scale: 0.8 not match == long_value_ratio: 1.0
2024-12-13 00:56:56,102 - INFO - cur close time: 2024-07-06T23:59:59.999 == long_value_ratio: 1.0 == short_value_ratio: 1.0 --- 0.8
2024-12-13 00:56:56,102 - DEBUG - mean expected ret (mean factor): -0.15692311444356916
2024-12-13 00:56:56,108 - DEBUG - begin to update pos: =========
2024-12-13 00:56:56,108 - DEBUG - next_step_value: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ i64     ┆ i64    ┆ i64     ┆ i64     │
│ f64         ┆ i64         ┆ i64         ┆ i64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ -10000.0    ┆ 0           ┆ 0           ┆ 0           ┆ … ┆ 0       ┆ 0      ┆ 0       ┆ 0       │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:56,108 - DEBUG - all_open_price_when_open_pos: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ f64     ┆ f64    ┆ f64     ┆ f64     │
│ f64         ┆ f64         ┆ f64         ┆ f64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0.023155    ┆ 0.15197     ┆ 0.07245     ┆ 0.0097271   ┆ … ┆ 0.01565 ┆ null   ┆ null    ┆ 0.3143  │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:56,114 - DEBUG - update position: 2024-07-06T23:59:59.999 === diff_trading_value: 205163.15801476012 == cash: 187279.67265084095 
2024-12-13 00:56:56,117 - INFO - pnl: 2024-07-06T23:59:59.999 187279.67265084095 === -0.827%
2024-12-13 00:56:56,120 - DEBUG - cur time: 2024-07-07T23:59:59.999 == next bar open time: 2024-07-08T00:00:00.000 == close pos time: 2024-07-13T00:00:00.000
2024-12-13 00:56:56,120 - INFO - pnl: 2024-07-07T23:59:59.999 190704.3065522968 === 1.829%
2024-12-13 00:56:56,126 - DEBUG - cur time: 2024-07-08T23:59:59.999 == next bar open time: 2024-07-09T00:00:00.000 == close pos time: 2024-07-14T00:00:00.000
2024-12-13 00:56:56,128 - INFO - pnl: 2024-07-08T23:59:59.999 191616.23092859416 === 0.478%
2024-12-13 00:56:56,129 - DEBUG - cur time: 2024-07-09T23:59:59.999 == next bar open time: 2024-07-10T00:00:00.000 == close pos time: 2024-07-15T00:00:00.000
2024-12-13 00:56:56,133 - INFO - pnl: 2024-07-09T23:59:59.999 190764.61705027593 === -0.444%
2024-12-13 00:56:56,136 - DEBUG - cur time: 2024-07-10T23:59:59.999 == next bar open time: 2024-07-11T00:00:00.000 == close pos time: 2024-07-16T00:00:00.000
2024-12-13 00:56:56,137 - INFO - pnl: 2024-07-10T23:59:59.999 193145.7923831754 === 1.248%
2024-12-13 00:56:56,140 - DEBUG - cur time: 2024-07-11T23:59:59.999 == next bar open time: 2024-07-12T00:00:00.000 == close pos time: 2024-07-17T00:00:00.000
2024-12-13 00:56:56,151 - DEBUG - close time 2024-07-11T23:59:59.999 == vol_threshold: 11646763.000000002
2024-12-13 00:56:56,151 - DEBUG - 2024-07-11T23:59:59.999 == all trade symbol 245 == remain 171 after VOL filter
2024-12-13 00:56:56,151 - DEBUG - sorted_long_factors: shape: (171, 4)
┌───────────┬──────────────┬──────┬──────────────┐
│ symbol    ┆ factor_value ┆ rank ┆ reverse_rank │
│ ---       ┆ ---          ┆ ---  ┆ ---          │
│ str       ┆ f64          ┆ u32  ┆ u32          │
╞═══════════╪══════════════╪══════╪══════════════╡
│ OMUSDT    ┆ -1.046458    ┆ 0    ┆ 170          │
│ TONUSDT   ┆ -1.012417    ┆ 1    ┆ 169          │
│ ASTRUSDT  ┆ -1.005374    ┆ 2    ┆ 168          │
│ STXUSDT   ┆ -0.991545    ┆ 3    ┆ 167          │
│ WLDUSDT   ┆ -0.970687    ┆ 4    ┆ 166          │
│ TRXUSDT   ┆ -0.922215    ┆ 5    ┆ 165          │
│ MTLUSDT   ┆ -0.89327     ┆ 6    ┆ 164          │
│ BEAMXUSDT ┆ -0.881086    ┆ 7    ┆ 163          │
│ ACHUSDT   ┆ -0.860038    ┆ 8    ┆ 162          │
│ SAGAUSDT  ┆ -0.81054     ┆ 9    ┆ 161          │
│ …         ┆ …            ┆ …    ┆ …            │
│ RIFUSDT   ┆ 0.558991     ┆ 161  ┆ 9            │
│ NKNUSDT   ┆ 0.595803     ┆ 162  ┆ 8            │
│ OMGUSDT   ┆ 0.597081     ┆ 163  ┆ 7            │
│ ARPAUSDT  ┆ 0.625879     ┆ 164  ┆ 6            │
│ DARUSDT   ┆ 0.627979     ┆ 165  ┆ 5            │
│ XVGUSDT   ┆ 0.643325     ┆ 166  ┆ 4            │
│ RENUSDT   ┆ 0.652289     ┆ 167  ┆ 3            │
│ TLMUSDT   ┆ 0.700498     ┆ 168  ┆ 2            │
│ STEEMUSDT ┆ 0.724506     ┆ 169  ┆ 1            │
│ DODOXUSDT ┆ 1.256461     ┆ 170  ┆ 0            │
└───────────┴──────────────┴──────┴──────────────┘
2024-12-13 00:56:56,160 - WARNING - 2024-07-11T23:59:59.999=====cur_long_scale: 0.8 not match == long_value_ratio: 1.0
2024-12-13 00:56:56,160 - INFO - cur close time: 2024-07-11T23:59:59.999 == long_value_ratio: 1.0 == short_value_ratio: 1.0 --- 0.8
2024-12-13 00:56:56,160 - DEBUG - mean expected ret (mean factor): -0.16159666032796005
2024-12-13 00:56:56,166 - DEBUG - begin to update pos: =========
2024-12-13 00:56:56,167 - DEBUG - next_step_value: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ i64     ┆ i64    ┆ i64     ┆ i64     │
│ i64         ┆ i64         ┆ i64         ┆ i64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0           ┆ 0           ┆ 0           ┆ 0           ┆ … ┆ 0       ┆ 0      ┆ 0       ┆ 0       │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:56,167 - DEBUG - all_open_price_when_open_pos: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ f64     ┆ f64    ┆ f64     ┆ f64     │
│ f64         ┆ f64         ┆ f64         ┆ f64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0.023492    ┆ 0.14324     ┆ 0.0697      ┆ 0.0088944   ┆ … ┆ 0.01542 ┆ null   ┆ null    ┆ 0.3134  │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:56,174 - DEBUG - update position: 2024-07-11T23:59:59.999 === diff_trading_value: 238008.55402572564 == cash: 193797.82778070806 
2024-12-13 00:56:56,175 - INFO - pnl: 2024-07-11T23:59:59.999 193797.82778070806 === 0.338%
2024-12-13 00:56:56,180 - DEBUG - cur time: 2024-07-12T23:59:59.999 == next bar open time: 2024-07-13T00:00:00.000 == close pos time: 2024-07-18T00:00:00.000
2024-12-13 00:56:56,183 - INFO - pnl: 2024-07-12T23:59:59.999 194839.62103268856 === 0.538%
2024-12-13 00:56:56,187 - DEBUG - cur time: 2024-07-13T23:59:59.999 == next bar open time: 2024-07-14T00:00:00.000 == close pos time: 2024-07-19T00:00:00.000
2024-12-13 00:56:56,187 - INFO - pnl: 2024-07-13T23:59:59.999 194340.0720159724 === -0.256%
2024-12-13 00:56:56,191 - DEBUG - cur time: 2024-07-14T23:59:59.999 == next bar open time: 2024-07-15T00:00:00.000 == close pos time: 2024-07-20T00:00:00.000
2024-12-13 00:56:56,195 - INFO - pnl: 2024-07-14T23:59:59.999 198023.9826153352 === 1.896%
2024-12-13 00:56:56,200 - DEBUG - cur time: 2024-07-15T23:59:59.999 == next bar open time: 2024-07-16T00:00:00.000 == close pos time: 2024-07-21T00:00:00.000
2024-12-13 00:56:56,200 - INFO - pnl: 2024-07-15T23:59:59.999 194729.61832822245 === -1.664%
2024-12-13 00:56:56,204 - DEBUG - cur time: 2024-07-16T23:59:59.999 == next bar open time: 2024-07-17T00:00:00.000 == close pos time: 2024-07-22T00:00:00.000
2024-12-13 00:56:56,216 - DEBUG - close time 2024-07-16T23:59:59.999 == vol_threshold: 15742587.55
2024-12-13 00:56:56,217 - DEBUG - 2024-07-16T23:59:59.999 == all trade symbol 246 == remain 172 after VOL filter
2024-12-13 00:56:56,217 - DEBUG - sorted_long_factors: shape: (172, 4)
┌───────────────┬──────────────┬──────┬──────────────┐
│ symbol        ┆ factor_value ┆ rank ┆ reverse_rank │
│ ---           ┆ ---          ┆ ---  ┆ ---          │
│ str           ┆ f64          ┆ u32  ┆ u32          │
╞═══════════════╪══════════════╪══════╪══════════════╡
│ WLDUSDT       ┆ -1.181248    ┆ 0    ┆ 171          │
│ MAVIAUSDT     ┆ -1.05074     ┆ 1    ┆ 170          │
│ WIFUSDT       ┆ -0.986564    ┆ 2    ┆ 169          │
│ XAIUSDT       ┆ -0.928945    ┆ 3    ┆ 168          │
│ STRKUSDT      ┆ -0.914348    ┆ 4    ┆ 167          │
│ OMUSDT        ┆ -0.796346    ┆ 5    ┆ 166          │
│ ZETAUSDT      ┆ -0.784093    ┆ 6    ┆ 165          │
│ 1000FLOKIUSDT ┆ -0.780617    ┆ 7    ┆ 164          │
│ PIXELUSDT     ┆ -0.777111    ┆ 8    ┆ 163          │
│ FETUSDT       ┆ -0.766711    ┆ 9    ┆ 162          │
│ …             ┆ …            ┆ …    ┆ …            │
│ RVNUSDT       ┆ 0.571407     ┆ 162  ┆ 9            │
│ SPELLUSDT     ┆ 0.584684     ┆ 163  ┆ 8            │
│ XVGUSDT       ┆ 0.628479     ┆ 164  ┆ 7            │
│ RENUSDT       ┆ 0.639422     ┆ 165  ┆ 6            │
│ TUSDT         ┆ 0.641021     ┆ 166  ┆ 5            │
│ NKNUSDT       ┆ 0.64174      ┆ 167  ┆ 4            │
│ HFTUSDT       ┆ 0.675028     ┆ 168  ┆ 3            │
│ XEMUSDT       ┆ 0.729475     ┆ 169  ┆ 2            │
│ ORBSUSDT      ┆ 1.00005      ┆ 170  ┆ 1            │
│ DODOXUSDT     ┆ 1.257399     ┆ 171  ┆ 0            │
└───────────────┴──────────────┴──────┴──────────────┘
2024-12-13 00:56:56,227 - WARNING - 2024-07-16T23:59:59.999=====cur_long_scale: 1.2 not match == long_value_ratio: 1.0
2024-12-13 00:56:56,227 - INFO - cur close time: 2024-07-16T23:59:59.999 == long_value_ratio: 1.0 == short_value_ratio: 1.0 --- 1.2
2024-12-13 00:56:56,227 - DEBUG - mean expected ret (mean factor): -0.11946212224809276
2024-12-13 00:56:56,228 - DEBUG - begin to update pos: =========
2024-12-13 00:56:56,228 - DEBUG - next_step_value: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ i64     ┆ i64    ┆ i64     ┆ i64     │
│ i64         ┆ f64         ┆ i64         ┆ i64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0           ┆ -10000.0    ┆ 0           ┆ 0           ┆ … ┆ 0       ┆ 0      ┆ 0       ┆ 0       │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:56,228 - DEBUG - all_open_price_when_open_pos: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ f64     ┆ f64    ┆ f64     ┆ f64     │
│ f64         ┆ f64         ┆ f64         ┆ f64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0.028587    ┆ 0.18948     ┆ 0.09333     ┆ 0.0123757   ┆ … ┆ 0.01758 ┆ null   ┆ null    ┆ 0.359   │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:56,237 - DEBUG - update position: 2024-07-16T23:59:59.999 === diff_trading_value: 264316.93984694034 == cash: 191371.71345522002 
2024-12-13 00:56:56,237 - INFO - pnl: 2024-07-16T23:59:59.999 191371.71345522002 === -1.724%
2024-12-13 00:56:56,241 - DEBUG - cur time: 2024-07-17T23:59:59.999 == next bar open time: 2024-07-18T00:00:00.000 == close pos time: 2024-07-23T00:00:00.000
2024-12-13 00:56:56,245 - INFO - pnl: 2024-07-17T23:59:59.999 193132.13385527272 === 0.920%
2024-12-13 00:56:56,247 - DEBUG - cur time: 2024-07-18T23:59:59.999 == next bar open time: 2024-07-19T00:00:00.000 == close pos time: 2024-07-24T00:00:00.000
2024-12-13 00:56:56,250 - INFO - pnl: 2024-07-18T23:59:59.999 192945.1745360738 === -0.097%
2024-12-13 00:56:56,253 - DEBUG - cur time: 2024-07-19T23:59:59.999 == next bar open time: 2024-07-20T00:00:00.000 == close pos time: 2024-07-25T00:00:00.000
2024-12-13 00:56:56,257 - INFO - pnl: 2024-07-19T23:59:59.999 193216.47281412393 === 0.141%
2024-12-13 00:56:56,262 - DEBUG - cur time: 2024-07-20T23:59:59.999 == next bar open time: 2024-07-21T00:00:00.000 == close pos time: 2024-07-26T00:00:00.000
2024-12-13 00:56:56,265 - INFO - pnl: 2024-07-20T23:59:59.999 191657.5935023929 === -0.807%
2024-12-13 00:56:56,269 - DEBUG - cur time: 2024-07-21T23:59:59.999 == next bar open time: 2024-07-22T00:00:00.000 == close pos time: 2024-07-27T00:00:00.000
2024-12-13 00:56:56,283 - DEBUG - close time 2024-07-21T23:59:59.999 == vol_threshold: 12079316.6
2024-12-13 00:56:56,284 - DEBUG - 2024-07-21T23:59:59.999 == all trade symbol 247 == remain 173 after VOL filter
2024-12-13 00:56:56,285 - DEBUG - sorted_long_factors: shape: (173, 4)
┌───────────┬──────────────┬──────┬──────────────┐
│ symbol    ┆ factor_value ┆ rank ┆ reverse_rank │
│ ---       ┆ ---          ┆ ---  ┆ ---          │
│ str       ┆ f64          ┆ u32  ┆ u32          │
╞═══════════╪══════════════╪══════╪══════════════╡
│ JUPUSDT   ┆ -1.029043    ┆ 0    ┆ 172          │
│ ETHFIUSDT ┆ -1.01127     ┆ 1    ┆ 171          │
│ STRKUSDT  ┆ -0.97535     ┆ 2    ┆ 170          │
│ JTOUSDT   ┆ -0.848027    ┆ 3    ┆ 169          │
│ DOGEUSDT  ┆ -0.764904    ┆ 4    ┆ 168          │
│ TIAUSDT   ┆ -0.754664    ┆ 5    ┆ 167          │
│ XAIUSDT   ┆ -0.727831    ┆ 6    ┆ 166          │
│ WLDUSDT   ┆ -0.686663    ┆ 7    ┆ 165          │
│ WUSDT     ┆ -0.685945    ┆ 8    ┆ 164          │
│ DOTUSDT   ┆ -0.669254    ┆ 9    ┆ 163          │
│ …         ┆ …            ┆ …    ┆ …            │
│ TUSDT     ┆ 0.540004     ┆ 163  ┆ 9            │
│ KLAYUSDT  ┆ 0.585374     ┆ 164  ┆ 8            │
│ RVNUSDT   ┆ 0.593444     ┆ 165  ┆ 7            │
│ AMBUSDT   ┆ 0.651669     ┆ 166  ┆ 6            │
│ RENUSDT   ┆ 0.672455     ┆ 167  ┆ 5            │
│ NKNUSDT   ┆ 0.674461     ┆ 168  ┆ 4            │
│ XVGUSDT   ┆ 0.693374     ┆ 169  ┆ 3            │
│ ORBSUSDT  ┆ 0.805513     ┆ 170  ┆ 2            │
│ HFTUSDT   ┆ 1.198618     ┆ 171  ┆ 1            │
│ DODOXUSDT ┆ 1.303622     ┆ 172  ┆ 0            │
└───────────┴──────────────┴──────┴──────────────┘
2024-12-13 00:56:56,294 - WARNING - 2024-07-21T23:59:59.999=====cur_long_scale: 1.2 not match == long_value_ratio: 1.0
2024-12-13 00:56:56,294 - INFO - cur close time: 2024-07-21T23:59:59.999 == long_value_ratio: 1.0 == short_value_ratio: 1.0 --- 1.2
2024-12-13 00:56:56,295 - DEBUG - mean expected ret (mean factor): -0.08903304125298624
2024-12-13 00:56:56,299 - DEBUG - begin to update pos: =========
2024-12-13 00:56:56,300 - DEBUG - next_step_value: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ i64     ┆ i64    ┆ i64     ┆ i64     │
│ i64         ┆ i64         ┆ i64         ┆ i64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0           ┆ 0           ┆ 0           ┆ 0           ┆ … ┆ 0       ┆ 0      ┆ 0       ┆ 0       │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:56,300 - DEBUG - all_open_price_when_open_pos: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ f64     ┆ f64    ┆ f64     ┆ f64     │
│ f64         ┆ f64         ┆ f64         ┆ f64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0.032466    ┆ 0.20574     ┆ 0.09096     ┆ 0.0124954   ┆ … ┆ 0.0181  ┆ null   ┆ null    ┆ 0.3929  │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:56,306 - DEBUG - update position: 2024-07-21T23:59:59.999 === diff_trading_value: 224900.93802446162 == cash: 192838.93285397853 
2024-12-13 00:56:56,307 - INFO - pnl: 2024-07-21T23:59:59.999 192838.93285397853 === 0.616%
2024-12-13 00:56:56,310 - DEBUG - cur time: 2024-07-22T23:59:59.999 == next bar open time: 2024-07-23T00:00:00.000 == close pos time: 2024-07-28T00:00:00.000
2024-12-13 00:56:56,312 - INFO - pnl: 2024-07-22T23:59:59.999 193215.87966969324 === 0.195%
2024-12-13 00:56:56,316 - DEBUG - cur time: 2024-07-23T23:59:59.999 == next bar open time: 2024-07-24T00:00:00.000 == close pos time: 2024-07-29T00:00:00.000
2024-12-13 00:56:56,318 - INFO - pnl: 2024-07-23T23:59:59.999 194472.56205984406 === 0.650%
2024-12-13 00:56:56,322 - DEBUG - cur time: 2024-07-24T23:59:59.999 == next bar open time: 2024-07-25T00:00:00.000 == close pos time: 2024-07-30T00:00:00.000
2024-12-13 00:56:56,323 - INFO - pnl: 2024-07-24T23:59:59.999 194518.59854443313 === 0.024%
2024-12-13 00:56:56,327 - DEBUG - cur time: 2024-07-25T23:59:59.999 == next bar open time: 2024-07-26T00:00:00.000 == close pos time: 2024-07-31T00:00:00.000
2024-12-13 00:56:56,328 - INFO - pnl: 2024-07-25T23:59:59.999 196157.4557185205 === 0.843%
2024-12-13 00:56:56,332 - DEBUG - cur time: 2024-07-26T23:59:59.999 == next bar open time: 2024-07-27T00:00:00.000 == close pos time: 2024-08-01T00:00:00.000
2024-12-13 00:56:56,344 - DEBUG - close time 2024-07-26T23:59:59.999 == vol_threshold: 11051594.4
2024-12-13 00:56:56,345 - DEBUG - 2024-07-26T23:59:59.999 == all trade symbol 247 == remain 173 after VOL filter
2024-12-13 00:56:56,347 - DEBUG - sorted_long_factors: shape: (173, 4)
┌───────────┬──────────────┬──────┬──────────────┐
│ symbol    ┆ factor_value ┆ rank ┆ reverse_rank │
│ ---       ┆ ---          ┆ ---  ┆ ---          │
│ str       ┆ f64          ┆ u32  ┆ u32          │
╞═══════════╪══════════════╪══════╪══════════════╡
│ DYMUSDT   ┆ -1.088518    ┆ 0    ┆ 172          │
│ WLDUSDT   ┆ -1.021391    ┆ 1    ┆ 171          │
│ HIGHUSDT  ┆ -0.981688    ┆ 2    ┆ 170          │
│ OMUSDT    ┆ -0.974035    ┆ 3    ┆ 169          │
│ TIAUSDT   ┆ -0.945206    ┆ 4    ┆ 168          │
│ XRPUSDT   ┆ -0.857599    ┆ 5    ┆ 167          │
│ GTCUSDT   ┆ -0.845979    ┆ 6    ┆ 166          │
│ ETHFIUSDT ┆ -0.827265    ┆ 7    ┆ 165          │
│ ALICEUSDT ┆ -0.807329    ┆ 8    ┆ 164          │
│ MAVIAUSDT ┆ -0.806721    ┆ 9    ┆ 163          │
│ …         ┆ …            ┆ …    ┆ …            │
│ ATAUSDT   ┆ 0.674681     ┆ 163  ┆ 9            │
│ C98USDT   ┆ 0.683182     ┆ 164  ┆ 8            │
│ MAVUSDT   ┆ 0.710738     ┆ 165  ┆ 7            │
│ MASKUSDT  ┆ 0.736613     ┆ 166  ┆ 6            │
│ OGNUSDT   ┆ 0.790313     ┆ 167  ┆ 5            │
│ ALPHAUSDT ┆ 0.884136     ┆ 168  ┆ 4            │
│ RIFUSDT   ┆ 0.904227     ┆ 169  ┆ 3            │
│ XVGUSDT   ┆ 0.921128     ┆ 170  ┆ 2            │
│ BICOUSDT  ┆ 1.005635     ┆ 171  ┆ 1            │
│ DODOXUSDT ┆ 1.24032      ┆ 172  ┆ 0            │
└───────────┴──────────────┴──────┴──────────────┘
2024-12-13 00:56:56,355 - WARNING - 2024-07-26T23:59:59.999=====cur_long_scale: 0.8 not match == long_value_ratio: 1.0
2024-12-13 00:56:56,356 - INFO - cur close time: 2024-07-26T23:59:59.999 == long_value_ratio: 1.0 == short_value_ratio: 1.0 --- 0.8
2024-12-13 00:56:56,356 - DEBUG - mean expected ret (mean factor): -0.11440595533546107
2024-12-13 00:56:56,358 - DEBUG - begin to update pos: =========
2024-12-13 00:56:56,358 - DEBUG - next_step_value: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ i64     ┆ i64    ┆ i64     ┆ i64     │
│ i64         ┆ i64         ┆ i64         ┆ i64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0           ┆ 0           ┆ 0           ┆ 0           ┆ … ┆ 0       ┆ 0      ┆ 0       ┆ 0       │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:56,362 - DEBUG - all_open_price_when_open_pos: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ f64     ┆ f64    ┆ f64     ┆ f64     │
│ f64         ┆ f64         ┆ f64         ┆ f64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0.028607    ┆ 0.18044     ┆ 0.08538     ┆ 0.0120228   ┆ … ┆ 0.01722 ┆ null   ┆ null    ┆ 0.3929  │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:56,369 - DEBUG - update position: 2024-07-26T23:59:59.999 === diff_trading_value: 212615.45086300717 == cash: 195031.29185386442 
2024-12-13 00:56:56,371 - INFO - pnl: 2024-07-26T23:59:59.999 195031.29185386442 === -0.574%
2024-12-13 00:56:56,371 - DEBUG - cur time: 2024-07-27T23:59:59.999 == next bar open time: 2024-07-28T00:00:00.000 == close pos time: 2024-08-02T00:00:00.000
2024-12-13 00:56:56,375 - INFO - pnl: 2024-07-27T23:59:59.999 196688.3208924047 === 0.850%
2024-12-13 00:56:56,379 - DEBUG - cur time: 2024-07-28T23:59:59.999 == next bar open time: 2024-07-29T00:00:00.000 == close pos time: 2024-08-03T00:00:00.000
2024-12-13 00:56:56,380 - INFO - pnl: 2024-07-28T23:59:59.999 197743.59619484984 === 0.537%
2024-12-13 00:56:56,384 - DEBUG - cur time: 2024-07-29T23:59:59.999 == next bar open time: 2024-07-30T00:00:00.000 == close pos time: 2024-08-04T00:00:00.000
2024-12-13 00:56:56,385 - INFO - pnl: 2024-07-29T23:59:59.999 199933.21815669065 === 1.107%
2024-12-13 00:56:56,389 - DEBUG - cur time: 2024-07-30T23:59:59.999 == next bar open time: 2024-07-31T00:00:00.000 == close pos time: 2024-08-05T00:00:00.000
2024-12-13 00:56:56,389 - INFO - pnl: 2024-07-30T23:59:59.999 199779.94853387406 === -0.077%
2024-12-13 00:56:56,393 - DEBUG - cur time: 2024-07-31T23:59:59.999 == next bar open time: 2024-08-01T00:00:00.000 == close pos time: 2024-08-06T00:00:00.000
2024-12-13 00:56:56,408 - DEBUG - close time 2024-07-31T23:59:59.999 == vol_threshold: 10170159.2
2024-12-13 00:56:56,408 - DEBUG - 2024-07-31T23:59:59.999 == all trade symbol 247 == remain 173 after VOL filter
2024-12-13 00:56:56,408 - DEBUG - sorted_long_factors: shape: (173, 4)
┌───────────┬──────────────┬──────┬──────────────┐
│ symbol    ┆ factor_value ┆ rank ┆ reverse_rank │
│ ---       ┆ ---          ┆ ---  ┆ ---          │
│ str       ┆ f64          ┆ u32  ┆ u32          │
╞═══════════╪══════════════╪══════╪══════════════╡
│ ETHFIUSDT ┆ -1.199032    ┆ 0    ┆ 172          │
│ OMUSDT    ┆ -1.045487    ┆ 1    ┆ 171          │
│ WIFUSDT   ┆ -1.009306    ┆ 2    ┆ 170          │
│ ACEUSDT   ┆ -0.997765    ┆ 3    ┆ 169          │
│ XRPUSDT   ┆ -0.861666    ┆ 4    ┆ 168          │
│ TIAUSDT   ┆ -0.856347    ┆ 5    ┆ 167          │
│ BOMEUSDT  ┆ -0.843382    ┆ 6    ┆ 166          │
│ KASUSDT   ┆ -0.818766    ┆ 7    ┆ 165          │
│ UNFIUSDT  ┆ -0.811997    ┆ 8    ┆ 164          │
│ AEVOUSDT  ┆ -0.770929    ┆ 9    ┆ 163          │
│ …         ┆ …            ┆ …    ┆ …            │
│ DENTUSDT  ┆ 0.591319     ┆ 163  ┆ 9            │
│ TUSDT     ┆ 0.617534     ┆ 164  ┆ 8            │
│ ALPHAUSDT ┆ 0.672957     ┆ 165  ┆ 7            │
│ ZETAUSDT  ┆ 0.684615     ┆ 166  ┆ 6            │
│ LRCUSDT   ┆ 0.693393     ┆ 167  ┆ 5            │
│ OXTUSDT   ┆ 0.713219     ┆ 168  ┆ 4            │
│ TLMUSDT   ┆ 0.751908     ┆ 169  ┆ 3            │
│ BICOUSDT  ┆ 1.029983     ┆ 170  ┆ 2            │
│ ATAUSDT   ┆ 1.035957     ┆ 171  ┆ 1            │
│ XVGUSDT   ┆ 1.068939     ┆ 172  ┆ 0            │
└───────────┴──────────────┴──────┴──────────────┘
2024-12-13 00:56:56,418 - WARNING - 2024-07-31T23:59:59.999=====cur_long_scale: 0.8 not match == long_value_ratio: 1.0
2024-12-13 00:56:56,418 - INFO - cur close time: 2024-07-31T23:59:59.999 == long_value_ratio: 1.0 == short_value_ratio: 1.0 --- 0.8
2024-12-13 00:56:56,418 - DEBUG - mean expected ret (mean factor): -0.10503718565744864
2024-12-13 00:56:56,422 - DEBUG - begin to update pos: =========
2024-12-13 00:56:56,422 - DEBUG - next_step_value: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ i64     ┆ i64    ┆ i64     ┆ i64     │
│ i64         ┆ i64         ┆ i64         ┆ i64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0           ┆ 0           ┆ 0           ┆ 0           ┆ … ┆ 0       ┆ 0      ┆ 0       ┆ 0       │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:56,422 - DEBUG - all_open_price_when_open_pos: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ f64     ┆ f64    ┆ f64     ┆ f64     │
│ f64         ┆ f64         ┆ f64         ┆ f64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0.024495    ┆ 0.16124     ┆ 0.07798     ┆ 0.0110435   ┆ … ┆ 0.0163  ┆ null   ┆ null    ┆ 0.3652  │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:56,429 - DEBUG - update position: 2024-07-31T23:59:59.999 === diff_trading_value: 238062.31322923064 == cash: 198619.15117199213 
2024-12-13 00:56:56,429 - INFO - pnl: 2024-07-31T23:59:59.999 198619.15117199213 === -0.581%
2024-12-13 00:56:56,431 - DEBUG - cur time: 2024-08-01T23:59:59.999 == next bar open time: 2024-08-02T00:00:00.000 == close pos time: 2024-08-07T00:00:00.000
2024-12-13 00:56:56,435 - INFO - pnl: 2024-08-01T23:59:59.999 199232.69861680566 === 0.309%
2024-12-13 00:56:56,437 - DEBUG - cur time: 2024-08-02T23:59:59.999 == next bar open time: 2024-08-03T00:00:00.000 == close pos time: 2024-08-08T00:00:00.000
2024-12-13 00:56:56,439 - INFO - pnl: 2024-08-02T23:59:59.999 199607.06316218208 === 0.188%
2024-12-13 00:56:56,443 - DEBUG - cur time: 2024-08-03T23:59:59.999 == next bar open time: 2024-08-04T00:00:00.000 == close pos time: 2024-08-09T00:00:00.000
2024-12-13 00:56:56,444 - INFO - pnl: 2024-08-03T23:59:59.999 201011.48776597538 === 0.704%
2024-12-13 00:56:56,447 - DEBUG - cur time: 2024-08-04T23:59:59.999 == next bar open time: 2024-08-05T00:00:00.000 == close pos time: 2024-08-10T00:00:00.000
2024-12-13 00:56:56,447 - INFO - pnl: 2024-08-04T23:59:59.999 204064.46925375148 === 1.519%
2024-12-13 00:56:56,452 - DEBUG - cur time: 2024-08-05T23:59:59.999 == next bar open time: 2024-08-06T00:00:00.000 == close pos time: 2024-08-11T00:00:00.000
2024-12-13 00:56:56,468 - DEBUG - close time 2024-08-05T23:59:59.999 == vol_threshold: 59848696.559999995
2024-12-13 00:56:56,469 - DEBUG - 2024-08-05T23:59:59.999 == all trade symbol 248 == remain 173 after VOL filter
2024-12-13 00:56:56,471 - DEBUG - sorted_long_factors: shape: (173, 4)
┌──────────────┬──────────────┬──────┬──────────────┐
│ symbol       ┆ factor_value ┆ rank ┆ reverse_rank │
│ ---          ┆ ---          ┆ ---  ┆ ---          │
│ str          ┆ f64          ┆ u32  ┆ u32          │
╞══════════════╪══════════════╪══════╪══════════════╡
│ NOTUSDT      ┆ -1.263189    ┆ 0    ┆ 172          │
│ TURBOUSDT    ┆ -1.056746    ┆ 1    ┆ 171          │
│ BNXUSDT      ┆ -1.053307    ┆ 2    ┆ 170          │
│ STMXUSDT     ┆ -1.019109    ┆ 3    ┆ 169          │
│ 1000SATSUSDT ┆ -0.933932    ┆ 4    ┆ 168          │
│ ORBSUSDT     ┆ -0.872445    ┆ 5    ┆ 167          │
│ WUSDT        ┆ -0.855612    ┆ 6    ┆ 166          │
│ BOMEUSDT     ┆ -0.836903    ┆ 7    ┆ 165          │
│ TRXUSDT      ┆ -0.831323    ┆ 8    ┆ 164          │
│ BAKEUSDT     ┆ -0.779193    ┆ 9    ┆ 163          │
│ …            ┆ …            ┆ …    ┆ …            │
│ RENUSDT      ┆ 0.373053     ┆ 163  ┆ 9            │
│ XVGUSDT      ┆ 0.379893     ┆ 164  ┆ 8            │
│ NKNUSDT      ┆ 0.405226     ┆ 165  ┆ 7            │
│ SUPERUSDT    ┆ 0.443047     ┆ 166  ┆ 6            │
│ OXTUSDT      ┆ 0.53239      ┆ 167  ┆ 5            │
│ ATAUSDT      ┆ 0.567575     ┆ 168  ┆ 4            │
│ STEEMUSDT    ┆ 0.7105       ┆ 169  ┆ 3            │
│ BICOUSDT     ┆ 0.734931     ┆ 170  ┆ 2            │
│ BELUSDT      ┆ 0.853289     ┆ 171  ┆ 1            │
│ HFTUSDT      ┆ 0.933438     ┆ 172  ┆ 0            │
└──────────────┴──────────────┴──────┴──────────────┘
2024-12-13 00:56:56,480 - WARNING - 2024-08-05T23:59:59.999=====cur_long_scale: 0.8 not match == long_value_ratio: 1.0
2024-12-13 00:56:56,480 - INFO - cur close time: 2024-08-05T23:59:59.999 == long_value_ratio: 1.0 == short_value_ratio: 1.0 --- 0.8
2024-12-13 00:56:56,480 - DEBUG - mean expected ret (mean factor): -0.20902276315640522
2024-12-13 00:56:56,487 - DEBUG - begin to update pos: =========
2024-12-13 00:56:56,487 - DEBUG - next_step_value: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ i64     ┆ i64    ┆ i64     ┆ i64     │
│ i64         ┆ i64         ┆ i64         ┆ i64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0           ┆ 0           ┆ 0           ┆ 0           ┆ … ┆ 0       ┆ 0      ┆ 0       ┆ 0       │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:56,489 - DEBUG - all_open_price_when_open_pos: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ f64     ┆ f64    ┆ f64     ┆ f64     │
│ f64         ┆ f64         ┆ f64         ┆ f64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0.017897    ┆ 0.11013     ┆ 0.06385     ┆ 0.007045    ┆ … ┆ 0.01235 ┆ null   ┆ null    ┆ 0.2606  │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:56,494 - DEBUG - update position: 2024-08-05T23:59:59.999 === diff_trading_value: 266738.99996912794 == cash: 204288.4377454026 
2024-12-13 00:56:56,497 - INFO - pnl: 2024-08-05T23:59:59.999 204288.4377454026 === 0.110%
2024-12-13 00:56:56,503 - DEBUG - cur time: 2024-08-06T23:59:59.999 == next bar open time: 2024-08-07T00:00:00.000 == close pos time: 2024-08-12T00:00:00.000
2024-12-13 00:56:56,503 - INFO - pnl: 2024-08-06T23:59:59.999 199888.933360424 === -2.154%
2024-12-13 00:56:56,511 - DEBUG - cur time: 2024-08-07T23:59:59.999 == next bar open time: 2024-08-08T00:00:00.000 == close pos time: 2024-08-13T00:00:00.000
2024-12-13 00:56:56,511 - INFO - pnl: 2024-08-07T23:59:59.999 202571.543170593 === 1.342%
2024-12-13 00:56:56,517 - DEBUG - cur time: 2024-08-08T23:59:59.999 == next bar open time: 2024-08-09T00:00:00.000 == close pos time: 2024-08-14T00:00:00.000
2024-12-13 00:56:56,519 - INFO - pnl: 2024-08-08T23:59:59.999 203452.101230174 === 0.435%
2024-12-13 00:56:56,525 - DEBUG - cur time: 2024-08-09T23:59:59.999 == next bar open time: 2024-08-10T00:00:00.000 == close pos time: 2024-08-15T00:00:00.000
2024-12-13 00:56:56,527 - INFO - pnl: 2024-08-09T23:59:59.999 203065.84230148685 === -0.190%
2024-12-13 00:56:56,529 - DEBUG - cur time: 2024-08-10T23:59:59.999 == next bar open time: 2024-08-11T00:00:00.000 == close pos time: 2024-08-16T00:00:00.000
2024-12-13 00:56:56,545 - DEBUG - close time 2024-08-10T23:59:59.999 == vol_threshold: 8173733.399999999
2024-12-13 00:56:56,547 - DEBUG - 2024-08-10T23:59:59.999 == all trade symbol 248 == remain 173 after VOL filter
2024-12-13 00:56:56,549 - DEBUG - sorted_long_factors: shape: (173, 4)
┌──────────────┬──────────────┬──────┬──────────────┐
│ symbol       ┆ factor_value ┆ rank ┆ reverse_rank │
│ ---          ┆ ---          ┆ ---  ┆ ---          │
│ str          ┆ f64          ┆ u32  ┆ u32          │
╞══════════════╪══════════════╪══════╪══════════════╡
│ ZETAUSDT     ┆ -1.557175    ┆ 0    ┆ 172          │
│ TONUSDT      ┆ -1.188446    ┆ 1    ┆ 171          │
│ GLMUSDT      ┆ -1.187929    ┆ 2    ┆ 170          │
│ SUIUSDT      ┆ -1.174968    ┆ 3    ┆ 169          │
│ TRXUSDT      ┆ -1.07587     ┆ 4    ┆ 168          │
│ SAGAUSDT     ┆ -1.029158    ┆ 5    ┆ 167          │
│ STMXUSDT     ┆ -1.011548    ┆ 6    ┆ 166          │
│ 1000SATSUSDT ┆ -0.958645    ┆ 7    ┆ 165          │
│ XEMUSDT      ┆ -0.929278    ┆ 8    ┆ 164          │
│ 1000RATSUSDT ┆ -0.880548    ┆ 9    ┆ 163          │
│ …            ┆ …            ┆ …    ┆ …            │
│ LRCUSDT      ┆ 0.432428     ┆ 163  ┆ 9            │
│ OXTUSDT      ┆ 0.451225     ┆ 164  ┆ 8            │
│ DUSKUSDT     ┆ 0.462071     ┆ 165  ┆ 7            │
│ ATAUSDT      ┆ 0.526214     ┆ 166  ┆ 6            │
│ XVGUSDT      ┆ 0.568744     ┆ 167  ┆ 5            │
│ NKNUSDT      ┆ 0.620299     ┆ 168  ┆ 4            │
│ PENDLEUSDT   ┆ 0.621        ┆ 169  ┆ 3            │
│ WOOUSDT      ┆ 0.677332     ┆ 170  ┆ 2            │
│ DODOXUSDT    ┆ 0.85575      ┆ 171  ┆ 1            │
│ NTRNUSDT     ┆ 0.906546     ┆ 172  ┆ 0            │
└──────────────┴──────────────┴──────┴──────────────┘
2024-12-13 00:56:56,557 - WARNING - 2024-08-10T23:59:59.999=====cur_long_scale: 1.2 not match == long_value_ratio: 1.0
2024-12-13 00:56:56,557 - INFO - cur close time: 2024-08-10T23:59:59.999 == long_value_ratio: 1.0 == short_value_ratio: 1.0 --- 1.2
2024-12-13 00:56:56,558 - DEBUG - mean expected ret (mean factor): -0.18607913110852686
2024-12-13 00:56:56,560 - DEBUG - begin to update pos: =========
2024-12-13 00:56:56,563 - DEBUG - next_step_value: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ i64     ┆ i64    ┆ i64     ┆ i64     │
│ i64         ┆ i64         ┆ i64         ┆ i64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0           ┆ 0           ┆ 0           ┆ 0           ┆ … ┆ 0       ┆ 0      ┆ 0       ┆ 0       │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:56,563 - DEBUG - all_open_price_when_open_pos: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ f64     ┆ f64    ┆ f64     ┆ f64     │
│ f64         ┆ f64         ┆ f64         ┆ f64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0.020429    ┆ 0.12648     ┆ 0.08693     ┆ 0.008428    ┆ … ┆ 0.01421 ┆ null   ┆ null    ┆ 0.3126  │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:56,573 - DEBUG - update position: 2024-08-10T23:59:59.999 === diff_trading_value: 288741.0744090744 == cash: 202932.75094972303 
2024-12-13 00:56:56,574 - INFO - pnl: 2024-08-10T23:59:59.999 202932.75094972303 === -0.066%
2024-12-13 00:56:56,580 - DEBUG - cur time: 2024-08-11T23:59:59.999 == next bar open time: 2024-08-12T00:00:00.000 == close pos time: 2024-08-17T00:00:00.000
2024-12-13 00:56:56,580 - INFO - pnl: 2024-08-11T23:59:59.999 201558.1510170553 === -0.677%
2024-12-13 00:56:56,584 - DEBUG - cur time: 2024-08-12T23:59:59.999 == next bar open time: 2024-08-13T00:00:00.000 == close pos time: 2024-08-18T00:00:00.000
2024-12-13 00:56:56,587 - INFO - pnl: 2024-08-12T23:59:59.999 199024.72241251386 === -1.257%
2024-12-13 00:56:56,587 - DEBUG - cur time: 2024-08-13T23:59:59.999 == next bar open time: 2024-08-14T00:00:00.000 == close pos time: 2024-08-19T00:00:00.000
2024-12-13 00:56:56,592 - INFO - pnl: 2024-08-13T23:59:59.999 200942.40523917085 === 0.964%
2024-12-13 00:56:56,597 - DEBUG - cur time: 2024-08-14T23:59:59.999 == next bar open time: 2024-08-15T00:00:00.000 == close pos time: 2024-08-20T00:00:00.000
2024-12-13 00:56:56,597 - INFO - pnl: 2024-08-14T23:59:59.999 199649.90901197103 === -0.643%
2024-12-13 00:56:56,602 - DEBUG - cur time: 2024-08-15T23:59:59.999 == next bar open time: 2024-08-16T00:00:00.000 == close pos time: 2024-08-21T00:00:00.000
2024-12-13 00:56:56,613 - DEBUG - close time 2024-08-15T23:59:59.999 == vol_threshold: 13033163.411999993
2024-12-13 00:56:56,616 - DEBUG - 2024-08-15T23:59:59.999 == all trade symbol 249 == remain 174 after VOL filter
2024-12-13 00:56:56,618 - DEBUG - sorted_long_factors: shape: (174, 4)
┌───────────┬──────────────┬──────┬──────────────┐
│ symbol    ┆ factor_value ┆ rank ┆ reverse_rank │
│ ---       ┆ ---          ┆ ---  ┆ ---          │
│ str       ┆ f64          ┆ u32  ┆ u32          │
╞═══════════╪══════════════╪══════╪══════════════╡
│ TONUSDT   ┆ -1.201073    ┆ 0    ┆ 173          │
│ XRPUSDT   ┆ -1.01601     ┆ 1    ┆ 172          │
│ STORJUSDT ┆ -1.005423    ┆ 2    ┆ 171          │
│ FTMUSDT   ┆ -0.954264    ┆ 3    ┆ 170          │
│ SAGAUSDT  ┆ -0.931779    ┆ 4    ┆ 169          │
│ JUPUSDT   ┆ -0.926929    ┆ 5    ┆ 168          │
│ DYMUSDT   ┆ -0.841398    ┆ 6    ┆ 167          │
│ RUNEUSDT  ┆ -0.830846    ┆ 7    ┆ 166          │
│ IOUSDT    ┆ -0.819779    ┆ 8    ┆ 165          │
│ CRVUSDT   ┆ -0.815408    ┆ 9    ┆ 164          │
│ …         ┆ …            ┆ …    ┆ …            │
│ ALPHAUSDT ┆ 0.441361     ┆ 164  ┆ 9            │
│ LEVERUSDT ┆ 0.523348     ┆ 165  ┆ 8            │
│ RENUSDT   ┆ 0.523823     ┆ 166  ┆ 7            │
│ DUSKUSDT  ┆ 0.526081     ┆ 167  ┆ 6            │
│ OMGUSDT   ┆ 0.544808     ┆ 168  ┆ 5            │
│ OXTUSDT   ┆ 0.585751     ┆ 169  ┆ 4            │
│ HFTUSDT   ┆ 0.595549     ┆ 170  ┆ 3            │
│ ATAUSDT   ┆ 0.610279     ┆ 171  ┆ 2            │
│ NKNUSDT   ┆ 0.804937     ┆ 172  ┆ 1            │
│ DODOXUSDT ┆ 1.29909      ┆ 173  ┆ 0            │
└───────────┴──────────────┴──────┴──────────────┘
2024-12-13 00:56:56,627 - WARNING - 2024-08-15T23:59:59.999=====cur_long_scale: 0.8 not match == long_value_ratio: 1.0
2024-12-13 00:56:56,628 - INFO - cur close time: 2024-08-15T23:59:59.999 == long_value_ratio: 1.0 == short_value_ratio: 1.0 --- 0.8
2024-12-13 00:56:56,628 - DEBUG - mean expected ret (mean factor): -0.17308242600499446
2024-12-13 00:56:56,631 - DEBUG - begin to update pos: =========
2024-12-13 00:56:56,631 - DEBUG - next_step_value: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ i64     ┆ i64    ┆ i64     ┆ i64     │
│ i64         ┆ i64         ┆ i64         ┆ i64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0           ┆ 0           ┆ 0           ┆ 0           ┆ … ┆ 0       ┆ 0      ┆ 0       ┆ 0       │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:56,633 - DEBUG - all_open_price_when_open_pos: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ f64     ┆ f64    ┆ f64     ┆ f64     │
│ f64         ┆ f64         ┆ f64         ┆ f64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0.01856     ┆ 0.11578     ┆ 0.07639     ┆ 0.0074418   ┆ … ┆ 0.01327 ┆ null   ┆ null    ┆ 0.2993  │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:56,639 - DEBUG - update position: 2024-08-15T23:59:59.999 === diff_trading_value: 256425.27706962998 == cash: 200717.2318540202 
2024-12-13 00:56:56,639 - INFO - pnl: 2024-08-15T23:59:59.999 200717.2318540202 === 0.535%
2024-12-13 00:56:56,644 - DEBUG - cur time: 2024-08-16T23:59:59.999 == next bar open time: 2024-08-17T00:00:00.000 == close pos time: 2024-08-22T00:00:00.000
2024-12-13 00:56:56,644 - INFO - pnl: 2024-08-16T23:59:59.999 199735.57387686163 === -0.489%
2024-12-13 00:56:56,648 - DEBUG - cur time: 2024-08-17T23:59:59.999 == next bar open time: 2024-08-18T00:00:00.000 == close pos time: 2024-08-23T00:00:00.000
2024-12-13 00:56:56,650 - INFO - pnl: 2024-08-17T23:59:59.999 202395.00027289454 === 1.331%
2024-12-13 00:56:56,651 - DEBUG - cur time: 2024-08-18T23:59:59.999 == next bar open time: 2024-08-19T00:00:00.000 == close pos time: 2024-08-24T00:00:00.000
2024-12-13 00:56:56,655 - INFO - pnl: 2024-08-18T23:59:59.999 208888.36224641674 === 3.208%
2024-12-13 00:56:56,658 - DEBUG - cur time: 2024-08-19T23:59:59.999 == next bar open time: 2024-08-20T00:00:00.000 == close pos time: 2024-08-25T00:00:00.000
2024-12-13 00:56:56,660 - INFO - pnl: 2024-08-19T23:59:59.999 210222.7262332698 === 0.639%
2024-12-13 00:56:56,663 - DEBUG - cur time: 2024-08-20T23:59:59.999 == next bar open time: 2024-08-21T00:00:00.000 == close pos time: 2024-08-26T00:00:00.000
2024-12-13 00:56:56,675 - DEBUG - close time 2024-08-20T23:59:59.999 == vol_threshold: 13408089.0
2024-12-13 00:56:56,675 - DEBUG - 2024-08-20T23:59:59.999 == all trade symbol 251 == remain 175 after VOL filter
2024-12-13 00:56:56,677 - DEBUG - sorted_long_factors: shape: (175, 4)
┌──────────────┬──────────────┬──────┬──────────────┐
│ symbol       ┆ factor_value ┆ rank ┆ reverse_rank │
│ ---          ┆ ---          ┆ ---  ┆ ---          │
│ str          ┆ f64          ┆ u32  ┆ u32          │
╞══════════════╪══════════════╪══════╪══════════════╡
│ SAGAUSDT     ┆ -1.02768     ┆ 0    ┆ 174          │
│ ETHFIUSDT    ┆ -0.900851    ┆ 1    ┆ 173          │
│ GLMUSDT      ┆ -0.890702    ┆ 2    ┆ 172          │
│ ZETAUSDT     ┆ -0.838577    ┆ 3    ┆ 171          │
│ AEVOUSDT     ┆ -0.802099    ┆ 4    ┆ 170          │
│ JTOUSDT      ┆ -0.73        ┆ 5    ┆ 169          │
│ 1000LUNCUSDT ┆ -0.716742    ┆ 6    ┆ 168          │
│ SUIUSDT      ┆ -0.700049    ┆ 7    ┆ 167          │
│ ARBUSDT      ┆ -0.695102    ┆ 8    ┆ 166          │
│ MATICUSDT    ┆ -0.694414    ┆ 9    ┆ 165          │
│ …            ┆ …            ┆ …    ┆ …            │
│ BICOUSDT     ┆ 0.529706     ┆ 165  ┆ 9            │
│ ATAUSDT      ┆ 0.535323     ┆ 166  ┆ 8            │
│ C98USDT      ┆ 0.535994     ┆ 167  ┆ 7            │
│ DODOXUSDT    ┆ 0.559748     ┆ 168  ┆ 6            │
│ OGNUSDT      ┆ 0.5603       ┆ 169  ┆ 5            │
│ ACHUSDT      ┆ 0.601309     ┆ 170  ┆ 4            │
│ JOEUSDT      ┆ 0.814225     ┆ 171  ┆ 3            │
│ OMGUSDT      ┆ 0.875124     ┆ 172  ┆ 2            │
│ HFTUSDT      ┆ 0.885535     ┆ 173  ┆ 1            │
│ OXTUSDT      ┆ 1.211187     ┆ 174  ┆ 0            │
└──────────────┴──────────────┴──────┴──────────────┘
2024-12-13 00:56:56,685 - WARNING - 2024-08-20T23:59:59.999=====cur_long_scale: 1.2 not match == long_value_ratio: 1.0
2024-12-13 00:56:56,685 - INFO - cur close time: 2024-08-20T23:59:59.999 == long_value_ratio: 1.0 == short_value_ratio: 1.0 --- 1.2
2024-12-13 00:56:56,685 - DEBUG - mean expected ret (mean factor): -0.09433277957193631
2024-12-13 00:56:56,689 - DEBUG - begin to update pos: =========
2024-12-13 00:56:56,689 - DEBUG - next_step_value: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ i64     ┆ i64    ┆ i64     ┆ i64     │
│ i64         ┆ i64         ┆ f64         ┆ i64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0           ┆ 0           ┆ -10000.0    ┆ 0           ┆ … ┆ 0       ┆ 0      ┆ 0       ┆ 0       │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:56,689 - DEBUG - all_open_price_when_open_pos: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬────────────┬───┬─────────┬─────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUS ┆ … ┆ ZILUSDT ┆ ZKUSDT  ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ DT         ┆   ┆ ---     ┆ ---     ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---        ┆   ┆ f64     ┆ f64     ┆ f64     ┆ f64     │
│ f64         ┆ f64         ┆ f64         ┆ f64        ┆   ┆         ┆         ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪════════════╪═══╪═════════╪═════════╪═════════╪═════════╡
│ 0.018147    ┆ 0.12477     ┆ 0.07929     ┆ 0.007753   ┆ … ┆ 0.01378 ┆ 0.11067 ┆ null    ┆ 0.311   │
└─────────────┴─────────────┴─────────────┴────────────┴───┴─────────┴─────────┴─────────┴─────────┘
2024-12-13 00:56:56,697 - DEBUG - update position: 2024-08-20T23:59:59.999 === diff_trading_value: 277937.20343937865 == cash: 212730.2645022755 
2024-12-13 00:56:56,698 - INFO - pnl: 2024-08-20T23:59:59.999 212730.2645022755 === 1.193%
2024-12-13 00:56:56,702 - DEBUG - cur time: 2024-08-21T23:59:59.999 == next bar open time: 2024-08-22T00:00:00.000 == close pos time: 2024-08-27T00:00:00.000
2024-12-13 00:56:56,702 - INFO - pnl: 2024-08-21T23:59:59.999 213937.25618073478 === 0.567%
2024-12-13 00:56:56,710 - DEBUG - cur time: 2024-08-22T23:59:59.999 == next bar open time: 2024-08-23T00:00:00.000 == close pos time: 2024-08-28T00:00:00.000
2024-12-13 00:56:56,710 - INFO - pnl: 2024-08-22T23:59:59.999 213451.15139329765 === -0.227%
2024-12-13 00:56:56,715 - DEBUG - cur time: 2024-08-23T23:59:59.999 == next bar open time: 2024-08-24T00:00:00.000 == close pos time: 2024-08-29T00:00:00.000
2024-12-13 00:56:56,717 - INFO - pnl: 2024-08-23T23:59:59.999 209814.76481335753 === -1.704%
2024-12-13 00:56:56,719 - DEBUG - cur time: 2024-08-24T23:59:59.999 == next bar open time: 2024-08-25T00:00:00.000 == close pos time: 2024-08-30T00:00:00.000
2024-12-13 00:56:56,723 - INFO - pnl: 2024-08-24T23:59:59.999 208027.89205085143 === -0.852%
2024-12-13 00:56:56,727 - DEBUG - cur time: 2024-08-25T23:59:59.999 == next bar open time: 2024-08-26T00:00:00.000 == close pos time: 2024-08-31T00:00:00.000
2024-12-13 00:56:56,739 - DEBUG - close time 2024-08-25T23:59:59.999 == vol_threshold: 11539871.1
2024-12-13 00:56:56,743 - DEBUG - 2024-08-25T23:59:59.999 == all trade symbol 253 == remain 177 after VOL filter
2024-12-13 00:56:56,743 - DEBUG - sorted_long_factors: shape: (177, 4)
┌───────────┬──────────────┬──────┬──────────────┐
│ symbol    ┆ factor_value ┆ rank ┆ reverse_rank │
│ ---       ┆ ---          ┆ ---  ┆ ---          │
│ str       ┆ f64          ┆ u32  ┆ u32          │
╞═══════════╪══════════════╪══════╪══════════════╡
│ ZROUSDT   ┆ -1.071379    ┆ 0    ┆ 176          │
│ FETUSDT   ┆ -0.90108     ┆ 1    ┆ 175          │
│ ATOMUSDT  ┆ -0.833064    ┆ 2    ┆ 174          │
│ DOTUSDT   ┆ -0.796936    ┆ 3    ┆ 173          │
│ SAGAUSDT  ┆ -0.777418    ┆ 4    ┆ 172          │
│ SEIUSDT   ┆ -0.759485    ┆ 5    ┆ 171          │
│ ETHFIUSDT ┆ -0.728493    ┆ 6    ┆ 170          │
│ TRXUSDT   ┆ -0.708307    ┆ 7    ┆ 169          │
│ MATICUSDT ┆ -0.696739    ┆ 8    ┆ 168          │
│ DARUSDT   ┆ -0.695257    ┆ 9    ┆ 167          │
│ …         ┆ …            ┆ …    ┆ …            │
│ LRCUSDT   ┆ 0.478289     ┆ 167  ┆ 9            │
│ IOTXUSDT  ┆ 0.509271     ┆ 168  ┆ 8            │
│ OMGUSDT   ┆ 0.52717      ┆ 169  ┆ 7            │
│ WAXPUSDT  ┆ 0.554851     ┆ 170  ┆ 6            │
│ BLZUSDT   ┆ 0.560564     ┆ 171  ┆ 5            │
│ BICOUSDT  ┆ 0.585035     ┆ 172  ┆ 4            │
│ ALPHAUSDT ┆ 0.637454     ┆ 173  ┆ 3            │
│ ICXUSDT   ┆ 0.668894     ┆ 174  ┆ 2            │
│ XVGUSDT   ┆ 0.838991     ┆ 175  ┆ 1            │
│ OXTUSDT   ┆ 1.123551     ┆ 176  ┆ 0            │
└───────────┴──────────────┴──────┴──────────────┘
2024-12-13 00:56:56,751 - WARNING - 2024-08-25T23:59:59.999=====cur_long_scale: 1.2 not match == long_value_ratio: 1.0
2024-12-13 00:56:56,751 - INFO - cur close time: 2024-08-25T23:59:59.999 == long_value_ratio: 1.0 == short_value_ratio: 1.0 --- 1.2
2024-12-13 00:56:56,751 - DEBUG - mean expected ret (mean factor): -0.14180878917366507
2024-12-13 00:56:56,755 - DEBUG - begin to update pos: =========
2024-12-13 00:56:56,757 - DEBUG - next_step_value: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬────────────┬───┬─────────┬────────┬──────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUS ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT  ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ DT         ┆   ┆ ---     ┆ ---    ┆ ---      ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---        ┆   ┆ i64     ┆ i64    ┆ f64      ┆ i64     │
│ i64         ┆ i64         ┆ i64         ┆ i64        ┆   ┆         ┆        ┆          ┆         │
╞═════════════╪═════════════╪═════════════╪════════════╪═══╪═════════╪════════╪══════════╪═════════╡
│ 0           ┆ 0           ┆ 0           ┆ 0          ┆ … ┆ 0       ┆ 0      ┆ -10000.0 ┆ 0       │
└─────────────┴─────────────┴─────────────┴────────────┴───┴─────────┴────────┴──────────┴─────────┘
2024-12-13 00:56:56,757 - DEBUG - all_open_price_when_open_pos: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬────────────┬───┬─────────┬─────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUS ┆ … ┆ ZILUSDT ┆ ZKUSDT  ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ DT         ┆   ┆ ---     ┆ ---     ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---        ┆   ┆ f64     ┆ f64     ┆ f64     ┆ f64     │
│ f64         ┆ f64         ┆ f64         ┆ f64        ┆   ┆         ┆         ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪════════════╪═══╪═════════╪═════════╪═════════╪═════════╡
│ 0.021019    ┆ 0.15013     ┆ 0.09276     ┆ 0.0091358  ┆ … ┆ 0.01543 ┆ 0.12974 ┆ 4.347   ┆ 0.3416  │
└─────────────┴─────────────┴─────────────┴────────────┴───┴─────────┴─────────┴─────────┴─────────┘
2024-12-13 00:56:56,767 - DEBUG - update position: 2024-08-25T23:59:59.999 === diff_trading_value: 238626.51810922514 == cash: 208857.93153474256 
2024-12-13 00:56:56,768 - INFO - pnl: 2024-08-25T23:59:59.999 208857.93153474256 === 0.399%
2024-12-13 00:56:56,775 - DEBUG - cur time: 2024-08-26T23:59:59.999 == next bar open time: 2024-08-27T00:00:00.000 == close pos time: 2024-09-01T00:00:00.000
2024-12-13 00:56:56,777 - INFO - pnl: 2024-08-26T23:59:59.999 208647.40046799192 === -0.101%
2024-12-13 00:56:56,781 - DEBUG - cur time: 2024-08-27T23:59:59.999 == next bar open time: 2024-08-28T00:00:00.000 == close pos time: 2024-09-02T00:00:00.000
2024-12-13 00:56:56,781 - INFO - pnl: 2024-08-27T23:59:59.999 209115.1343641462 === 0.224%
2024-12-13 00:56:56,786 - DEBUG - cur time: 2024-08-28T23:59:59.999 == next bar open time: 2024-08-29T00:00:00.000 == close pos time: 2024-09-03T00:00:00.000
2024-12-13 00:56:56,787 - INFO - pnl: 2024-08-28T23:59:59.999 218976.57310674273 === 4.716%
2024-12-13 00:56:56,790 - DEBUG - cur time: 2024-08-29T23:59:59.999 == next bar open time: 2024-08-30T00:00:00.000 == close pos time: 2024-09-04T00:00:00.000
2024-12-13 00:56:56,790 - INFO - pnl: 2024-08-29T23:59:59.999 217872.64582684956 === -0.504%
2024-12-13 00:56:56,794 - DEBUG - cur time: 2024-08-30T23:59:59.999 == next bar open time: 2024-08-31T00:00:00.000 == close pos time: 2024-09-05T00:00:00.000
2024-12-13 00:56:56,808 - DEBUG - close time 2024-08-30T23:59:59.999 == vol_threshold: 12005481.209999999
2024-12-13 00:56:56,809 - DEBUG - 2024-08-30T23:59:59.999 == all trade symbol 252 == remain 176 after VOL filter
2024-12-13 00:56:56,810 - DEBUG - sorted_long_factors: shape: (176, 4)
┌──────────────┬──────────────┬──────┬──────────────┐
│ symbol       ┆ factor_value ┆ rank ┆ reverse_rank │
│ ---          ┆ ---          ┆ ---  ┆ ---          │
│ str          ┆ f64          ┆ u32  ┆ u32          │
╞══════════════╪══════════════╪══════╪══════════════╡
│ ZROUSDT      ┆ -1.114153    ┆ 0    ┆ 175          │
│ SAGAUSDT     ┆ -0.932974    ┆ 1    ┆ 174          │
│ PENDLEUSDT   ┆ -0.817966    ┆ 2    ┆ 173          │
│ BAKEUSDT     ┆ -0.680574    ┆ 3    ┆ 172          │
│ ETHFIUSDT    ┆ -0.660958    ┆ 4    ┆ 171          │
│ 1000PEPEUSDT ┆ -0.650199    ┆ 5    ┆ 170          │
│ DOGEUSDT     ┆ -0.648867    ┆ 6    ┆ 169          │
│ YGGUSDT      ┆ -0.647894    ┆ 7    ┆ 168          │
│ BOMEUSDT     ┆ -0.642171    ┆ 8    ┆ 167          │
│ TOKENUSDT    ┆ -0.603466    ┆ 9    ┆ 166          │
│ …            ┆ …            ┆ …    ┆ …            │
│ SXPUSDT      ┆ 0.484779     ┆ 166  ┆ 9            │
│ DENTUSDT     ┆ 0.498961     ┆ 167  ┆ 8            │
│ LRCUSDT      ┆ 0.523661     ┆ 168  ┆ 7            │
│ DYDXUSDT     ┆ 0.583033     ┆ 169  ┆ 6            │
│ OXTUSDT      ┆ 0.730357     ┆ 170  ┆ 5            │
│ ICXUSDT      ┆ 0.798507     ┆ 171  ┆ 4            │
│ OMGUSDT      ┆ 0.88894      ┆ 172  ┆ 3            │
│ WAXPUSDT     ┆ 1.001755     ┆ 173  ┆ 2            │
│ HFTUSDT      ┆ 1.064956     ┆ 174  ┆ 1            │
│ XVGUSDT      ┆ 1.235334     ┆ 175  ┆ 0            │
└──────────────┴──────────────┴──────┴──────────────┘
2024-12-13 00:56:56,817 - WARNING - 2024-08-30T23:59:59.999=====cur_long_scale: 0.8 not match == long_value_ratio: 1.0
2024-12-13 00:56:56,817 - INFO - cur close time: 2024-08-30T23:59:59.999 == long_value_ratio: 1.0 == short_value_ratio: 1.0 --- 0.8
2024-12-13 00:56:56,817 - DEBUG - mean expected ret (mean factor): -0.1179323242586889
2024-12-13 00:56:56,822 - DEBUG - begin to update pos: =========
2024-12-13 00:56:56,822 - DEBUG - next_step_value: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬────────────┬───┬─────────┬────────┬──────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUS ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT  ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ DT         ┆   ┆ ---     ┆ ---    ┆ ---      ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---        ┆   ┆ i64     ┆ i64    ┆ f64      ┆ f64     │
│ i64         ┆ i64         ┆ i64         ┆ f64        ┆   ┆         ┆        ┆          ┆         │
╞═════════════╪═════════════╪═════════════╪════════════╪═══╪═════════╪════════╪══════════╪═════════╡
│ 0           ┆ 0           ┆ 0           ┆ -10000.0   ┆ … ┆ 0       ┆ 0      ┆ -10000.0 ┆ 5000.0  │
└─────────────┴─────────────┴─────────────┴────────────┴───┴─────────┴────────┴──────────┴─────────┘
2024-12-13 00:56:56,823 - DEBUG - all_open_price_when_open_pos: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬────────────┬───┬─────────┬─────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUS ┆ … ┆ ZILUSDT ┆ ZKUSDT  ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ DT         ┆   ┆ ---     ┆ ---     ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---        ┆   ┆ f64     ┆ f64     ┆ f64     ┆ f64     │
│ f64         ┆ f64         ┆ f64         ┆ f64        ┆   ┆         ┆         ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪════════════╪═══╪═════════╪═════════╪═════════╪═════════╡
│ 0.017711    ┆ 0.12711     ┆ 0.08033     ┆ 0.0077612  ┆ … ┆ 0.01353 ┆ 0.10742 ┆ 4.047   ┆ 0.2938  │
└─────────────┴─────────────┴─────────────┴────────────┴───┴─────────┴─────────┴─────────┴─────────┘
2024-12-13 00:56:56,830 - DEBUG - update position: 2024-08-30T23:59:59.999 === diff_trading_value: 230136.6312244404 == cash: 217932.4540219296 
2024-12-13 00:56:56,830 - INFO - pnl: 2024-08-30T23:59:59.999 217932.4540219296 === 0.027%
2024-12-13 00:56:56,838 - DEBUG - cur time: 2024-08-31T23:59:59.999 == next bar open time: 2024-09-01T00:00:00.000 == close pos time: 2024-09-06T00:00:00.000
2024-12-13 00:56:56,839 - INFO - pnl: 2024-08-31T23:59:59.999 217949.11140505312 === 0.008%
2024-12-13 00:56:56,842 - DEBUG - cur time: 2024-09-01T23:59:59.999 == next bar open time: 2024-09-02T00:00:00.000 == close pos time: 2024-09-07T00:00:00.000
2024-12-13 00:56:56,847 - INFO - pnl: 2024-09-01T23:59:59.999 219197.90067715093 === 0.573%
2024-12-13 00:56:56,850 - DEBUG - cur time: 2024-09-02T23:59:59.999 == next bar open time: 2024-09-03T00:00:00.000 == close pos time: 2024-09-08T00:00:00.000
2024-12-13 00:56:56,852 - INFO - pnl: 2024-09-02T23:59:59.999 219293.45674326306 === 0.044%
2024-12-13 00:56:56,856 - DEBUG - cur time: 2024-09-03T23:59:59.999 == next bar open time: 2024-09-04T00:00:00.000 == close pos time: 2024-09-09T00:00:00.000
2024-12-13 00:56:56,859 - INFO - pnl: 2024-09-03T23:59:59.999 220613.87888945246 === 0.602%
2024-12-13 00:56:56,861 - DEBUG - cur time: 2024-09-04T23:59:59.999 == next bar open time: 2024-09-05T00:00:00.000 == close pos time: 2024-09-10T00:00:00.000
2024-12-13 00:56:56,875 - DEBUG - close time 2024-09-04T23:59:59.999 == vol_threshold: 13971818.899999999
2024-12-13 00:56:56,875 - DEBUG - 2024-09-04T23:59:59.999 == all trade symbol 252 == remain 176 after VOL filter
2024-12-13 00:56:56,877 - DEBUG - sorted_long_factors: shape: (176, 4)
┌───────────────┬──────────────┬──────┬──────────────┐
│ symbol        ┆ factor_value ┆ rank ┆ reverse_rank │
│ ---           ┆ ---          ┆ ---  ┆ ---          │
│ str           ┆ f64          ┆ u32  ┆ u32          │
╞═══════════════╪══════════════╪══════╪══════════════╡
│ TONUSDT       ┆ -1.05821     ┆ 0    ┆ 175          │
│ LQTYUSDT      ┆ -0.833925    ┆ 1    ┆ 174          │
│ LUNA2USDT     ┆ -0.766707    ┆ 2    ┆ 173          │
│ ARKMUSDT      ┆ -0.74708     ┆ 3    ┆ 172          │
│ SEIUSDT       ┆ -0.732818    ┆ 4    ┆ 171          │
│ JUPUSDT       ┆ -0.721088    ┆ 5    ┆ 170          │
│ 1000FLOKIUSDT ┆ -0.710547    ┆ 6    ┆ 169          │
│ FETUSDT       ┆ -0.70424     ┆ 7    ┆ 168          │
│ UNIUSDT       ┆ -0.662699    ┆ 8    ┆ 167          │
│ APTUSDT       ┆ -0.625756    ┆ 9    ┆ 166          │
│ …             ┆ …            ┆ …    ┆ …            │
│ NKNUSDT       ┆ 0.533825     ┆ 166  ┆ 9            │
│ TRUUSDT       ┆ 0.536742     ┆ 167  ┆ 8            │
│ ICXUSDT       ┆ 0.596162     ┆ 168  ┆ 7            │
│ BICOUSDT      ┆ 0.612025     ┆ 169  ┆ 6            │
│ DUSKUSDT      ┆ 0.637062     ┆ 170  ┆ 5            │
│ BLZUSDT       ┆ 0.640349     ┆ 171  ┆ 4            │
│ HFTUSDT       ┆ 0.642316     ┆ 172  ┆ 3            │
│ WAXPUSDT      ┆ 0.866767     ┆ 173  ┆ 2            │
│ XVGUSDT       ┆ 1.016219     ┆ 174  ┆ 1            │
│ REEFUSDT      ┆ 1.064241     ┆ 175  ┆ 0            │
└───────────────┴──────────────┴──────┴──────────────┘
2024-12-13 00:56:56,884 - WARNING - 2024-09-04T23:59:59.999=====cur_long_scale: 0.8 not match == long_value_ratio: 1.0
2024-12-13 00:56:56,884 - INFO - cur close time: 2024-09-04T23:59:59.999 == long_value_ratio: 1.0 == short_value_ratio: 1.0 --- 0.8
2024-12-13 00:56:56,884 - DEBUG - mean expected ret (mean factor): -0.08972170478814706
2024-12-13 00:56:56,889 - DEBUG - begin to update pos: =========
2024-12-13 00:56:56,889 - DEBUG - next_step_value: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ i64     ┆ i64    ┆ i64     ┆ i64     │
│ i64         ┆ f64         ┆ i64         ┆ i64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0           ┆ -10000.0    ┆ 0           ┆ 0           ┆ … ┆ 0       ┆ 0      ┆ 0       ┆ 0       │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:56,889 - DEBUG - all_open_price_when_open_pos: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬────────────┬───┬─────────┬─────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUS ┆ … ┆ ZILUSDT ┆ ZKUSDT  ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ DT         ┆   ┆ ---     ┆ ---     ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---        ┆   ┆ f64     ┆ f64     ┆ f64     ┆ f64     │
│ f64         ┆ f64         ┆ f64         ┆ f64        ┆   ┆         ┆         ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪════════════╪═══╪═════════╪═════════╪═════════╪═════════╡
│ 0.016833    ┆ 0.12221     ┆ 0.07729     ┆ 0.0073526  ┆ … ┆ 0.01343 ┆ 0.10259 ┆ 3.336   ┆ 0.2846  │
└─────────────┴─────────────┴─────────────┴────────────┴───┴─────────┴─────────┴─────────┴─────────┘
2024-12-13 00:56:56,896 - DEBUG - update position: 2024-09-04T23:59:59.999 === diff_trading_value: 294005.00223680947 == cash: 220419.29353712997 
2024-12-13 00:56:56,897 - INFO - pnl: 2024-09-04T23:59:59.999 220419.29353712997 === -0.088%
2024-12-13 00:56:56,900 - DEBUG - cur time: 2024-09-05T23:59:59.999 == next bar open time: 2024-09-06T00:00:00.000 == close pos time: 2024-09-11T00:00:00.000
2024-12-13 00:56:56,901 - INFO - pnl: 2024-09-05T23:59:59.999 220596.1841769214 === 0.080%
2024-12-13 00:56:56,905 - DEBUG - cur time: 2024-09-06T23:59:59.999 == next bar open time: 2024-09-07T00:00:00.000 == close pos time: 2024-09-12T00:00:00.000
2024-12-13 00:56:56,907 - INFO - pnl: 2024-09-06T23:59:59.999 220404.5120200478 === -0.087%
2024-12-13 00:56:56,909 - DEBUG - cur time: 2024-09-07T23:59:59.999 == next bar open time: 2024-09-08T00:00:00.000 == close pos time: 2024-09-13T00:00:00.000
2024-12-13 00:56:56,909 - INFO - pnl: 2024-09-07T23:59:59.999 220058.74157443346 === -0.157%
2024-12-13 00:56:56,912 - DEBUG - cur time: 2024-09-08T23:59:59.999 == next bar open time: 2024-09-09T00:00:00.000 == close pos time: 2024-09-14T00:00:00.000
2024-12-13 00:56:56,916 - INFO - pnl: 2024-09-08T23:59:59.999 221208.52048083176 === 0.522%
2024-12-13 00:56:56,917 - DEBUG - cur time: 2024-09-09T23:59:59.999 == next bar open time: 2024-09-10T00:00:00.000 == close pos time: 2024-09-15T00:00:00.000
2024-12-13 00:56:56,929 - DEBUG - close time 2024-09-09T23:59:59.999 == vol_threshold: 11176330.02
2024-12-13 00:56:56,929 - DEBUG - 2024-09-09T23:59:59.999 == all trade symbol 252 == remain 176 after VOL filter
2024-12-13 00:56:56,933 - DEBUG - sorted_long_factors: shape: (176, 4)
┌───────────────┬──────────────┬──────┬──────────────┐
│ symbol        ┆ factor_value ┆ rank ┆ reverse_rank │
│ ---           ┆ ---          ┆ ---  ┆ ---          │
│ str           ┆ f64          ┆ u32  ┆ u32          │
╞═══════════════╪══════════════╪══════╪══════════════╡
│ IMXUSDT       ┆ -0.948086    ┆ 0    ┆ 175          │
│ ZROUSDT       ┆ -0.854848    ┆ 1    ┆ 174          │
│ SUIUSDT       ┆ -0.796245    ┆ 2    ┆ 173          │
│ FETUSDT       ┆ -0.751959    ┆ 3    ┆ 172          │
│ KLAYUSDT      ┆ -0.695937    ┆ 4    ┆ 171          │
│ MEWUSDT       ┆ -0.664068    ┆ 5    ┆ 170          │
│ LQTYUSDT      ┆ -0.662564    ┆ 6    ┆ 169          │
│ BOMEUSDT      ┆ -0.661527    ┆ 7    ┆ 168          │
│ SUPERUSDT     ┆ -0.651619    ┆ 8    ┆ 167          │
│ 1000FLOKIUSDT ┆ -0.646267    ┆ 9    ┆ 166          │
│ …             ┆ …            ┆ …    ┆ …            │
│ GLMUSDT       ┆ 0.318555     ┆ 166  ┆ 9            │
│ BLZUSDT       ┆ 0.362946     ┆ 167  ┆ 8            │
│ KEYUSDT       ┆ 0.393366     ┆ 168  ┆ 7            │
│ RIFUSDT       ┆ 0.465        ┆ 169  ┆ 6            │
│ OMGUSDT       ┆ 0.608227     ┆ 170  ┆ 5            │
│ WOOUSDT       ┆ 0.617254     ┆ 171  ┆ 4            │
│ XVGUSDT       ┆ 0.690559     ┆ 172  ┆ 3            │
│ DODOXUSDT     ┆ 0.784613     ┆ 173  ┆ 2            │
│ ATOMUSDT      ┆ 0.894482     ┆ 174  ┆ 1            │
│ HFTUSDT       ┆ 0.965394     ┆ 175  ┆ 0            │
└───────────────┴──────────────┴──────┴──────────────┘
2024-12-13 00:56:56,937 - WARNING - 2024-09-09T23:59:59.999=====cur_long_scale: 1.2 not match == long_value_ratio: 1.0
2024-12-13 00:56:56,937 - INFO - cur close time: 2024-09-09T23:59:59.999 == long_value_ratio: 1.0 == short_value_ratio: 1.0 --- 1.2
2024-12-13 00:56:56,937 - DEBUG - mean expected ret (mean factor): -0.13710956552265519
2024-12-13 00:56:56,943 - DEBUG - begin to update pos: =========
2024-12-13 00:56:56,943 - DEBUG - next_step_value: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬────────────┬───┬─────────┬────────┬──────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUS ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT  ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ DT         ┆   ┆ ---     ┆ ---    ┆ ---      ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---        ┆   ┆ i64     ┆ i64    ┆ f64      ┆ i64     │
│ i64         ┆ f64         ┆ i64         ┆ i64        ┆   ┆         ┆        ┆          ┆         │
╞═════════════╪═════════════╪═════════════╪════════════╪═══╪═════════╪════════╪══════════╪═════════╡
│ 0           ┆ -10000.0    ┆ 0           ┆ 0          ┆ … ┆ 0       ┆ 0      ┆ -10000.0 ┆ 0       │
└─────────────┴─────────────┴─────────────┴────────────┴───┴─────────┴────────┴──────────┴─────────┘
2024-12-13 00:56:56,943 - DEBUG - all_open_price_when_open_pos: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬────────────┬───┬─────────┬─────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUS ┆ … ┆ ZILUSDT ┆ ZKUSDT  ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ DT         ┆   ┆ ---     ┆ ---     ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---        ┆   ┆ f64     ┆ f64     ┆ f64     ┆ f64     │
│ f64         ┆ f64         ┆ f64         ┆ f64        ┆   ┆         ┆         ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪════════════╪═══╪═════════╪═════════╪═════════╪═════════╡
│ 0.017192    ┆ 0.12845     ┆ 0.08126     ┆ 0.0073889  ┆ … ┆ 0.01328 ┆ 0.11199 ┆ 3.573   ┆ 0.2836  │
└─────────────┴─────────────┴─────────────┴────────────┴───┴─────────┴─────────┴─────────┴─────────┘
2024-12-13 00:56:56,952 - DEBUG - update position: 2024-09-09T23:59:59.999 === diff_trading_value: 260563.61061759942 == cash: 219423.3959720616 
2024-12-13 00:56:56,952 - INFO - pnl: 2024-09-09T23:59:59.999 219423.3959720616 === -0.807%
2024-12-13 00:56:56,957 - DEBUG - cur time: 2024-09-10T23:59:59.999 == next bar open time: 2024-09-11T00:00:00.000 == close pos time: 2024-09-16T00:00:00.000
2024-12-13 00:56:56,958 - INFO - pnl: 2024-09-10T23:59:59.999 219534.9516961749 === 0.051%
2024-12-13 00:56:56,960 - DEBUG - cur time: 2024-09-11T23:59:59.999 == next bar open time: 2024-09-12T00:00:00.000 == close pos time: 2024-09-17T00:00:00.000
2024-12-13 00:56:56,963 - INFO - pnl: 2024-09-11T23:59:59.999 218509.26246090423 === -0.467%
2024-12-13 00:56:56,967 - DEBUG - cur time: 2024-09-12T23:59:59.999 == next bar open time: 2024-09-13T00:00:00.000 == close pos time: 2024-09-18T00:00:00.000
2024-12-13 00:56:56,967 - INFO - pnl: 2024-09-12T23:59:59.999 219040.118664889 === 0.243%
2024-12-13 00:56:56,971 - DEBUG - cur time: 2024-09-13T23:59:59.999 == next bar open time: 2024-09-14T00:00:00.000 == close pos time: 2024-09-19T00:00:00.000
2024-12-13 00:56:56,975 - INFO - pnl: 2024-09-13T23:59:59.999 217871.78899187906 === -0.533%
2024-12-13 00:56:56,979 - DEBUG - cur time: 2024-09-14T23:59:59.999 == next bar open time: 2024-09-15T00:00:00.000 == close pos time: 2024-09-20T00:00:00.000
2024-12-13 00:56:56,991 - DEBUG - close time 2024-09-14T23:59:59.999 == vol_threshold: 8484576.7
2024-12-13 00:56:56,991 - DEBUG - 2024-09-14T23:59:59.999 == all trade symbol 252 == remain 176 after VOL filter
2024-12-13 00:56:56,993 - DEBUG - sorted_long_factors: shape: (176, 4)
┌──────────────┬──────────────┬──────┬──────────────┐
│ symbol       ┆ factor_value ┆ rank ┆ reverse_rank │
│ ---          ┆ ---          ┆ ---  ┆ ---          │
│ str          ┆ f64          ┆ u32  ┆ u32          │
╞══════════════╪══════════════╪══════╪══════════════╡
│ TIAUSDT      ┆ -1.134315    ┆ 0    ┆ 175          │
│ API3USDT     ┆ -0.927914    ┆ 1    ┆ 174          │
│ FETUSDT      ┆ -0.883497    ┆ 2    ┆ 173          │
│ XRPUSDT      ┆ -0.832034    ┆ 3    ┆ 172          │
│ BBUSDT       ┆ -0.775385    ┆ 4    ┆ 171          │
│ 1000LUNCUSDT ┆ -0.759496    ┆ 5    ┆ 170          │
│ REEFUSDT     ┆ -0.734834    ┆ 6    ┆ 169          │
│ PENDLEUSDT   ┆ -0.72497     ┆ 7    ┆ 168          │
│ 1INCHUSDT    ┆ -0.718827    ┆ 8    ┆ 167          │
│ ENAUSDT      ┆ -0.686041    ┆ 9    ┆ 166          │
│ …            ┆ …            ┆ …    ┆ …            │
│ GLMUSDT      ┆ 0.364253     ┆ 166  ┆ 9            │
│ IOTXUSDT     ┆ 0.412845     ┆ 167  ┆ 8            │
│ BLZUSDT      ┆ 0.440773     ┆ 168  ┆ 7            │
│ BATUSDT      ┆ 0.476233     ┆ 169  ┆ 6            │
│ ICXUSDT      ┆ 0.479081     ┆ 170  ┆ 5            │
│ OXTUSDT      ┆ 0.485504     ┆ 171  ┆ 4            │
│ DENTUSDT     ┆ 0.498925     ┆ 172  ┆ 3            │
│ XVGUSDT      ┆ 0.549469     ┆ 173  ┆ 2            │
│ OMGUSDT      ┆ 0.725874     ┆ 174  ┆ 1            │
│ DODOXUSDT    ┆ 0.772455     ┆ 175  ┆ 0            │
└──────────────┴──────────────┴──────┴──────────────┘
2024-12-13 00:56:56,997 - WARNING - 2024-09-14T23:59:59.999=====cur_long_scale: 1.2 not match == long_value_ratio: 1.0
2024-12-13 00:56:56,997 - INFO - cur close time: 2024-09-14T23:59:59.999 == long_value_ratio: 1.0 == short_value_ratio: 1.0 --- 1.2
2024-12-13 00:56:56,997 - DEBUG - mean expected ret (mean factor): -0.14337614731597134
2024-12-13 00:56:57,001 - DEBUG - begin to update pos: =========
2024-12-13 00:56:57,005 - DEBUG - next_step_value: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ i64     ┆ i64    ┆ i64     ┆ i64     │
│ i64         ┆ i64         ┆ f64         ┆ i64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0           ┆ 0           ┆ -10000.0    ┆ 0           ┆ … ┆ 0       ┆ 0      ┆ 0       ┆ 0       │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:57,005 - DEBUG - all_open_price_when_open_pos: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬────────────┬───┬─────────┬─────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUS ┆ … ┆ ZILUSDT ┆ ZKUSDT  ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ DT         ┆   ┆ ---     ┆ ---     ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---        ┆   ┆ f64     ┆ f64     ┆ f64     ┆ f64     │
│ f64         ┆ f64         ┆ f64         ┆ f64        ┆   ┆         ┆         ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪════════════╪═══╪═════════╪═════════╪═════════╪═════════╡
│ 0.017145    ┆ 0.12535     ┆ 0.08927     ┆ 0.0077545  ┆ … ┆ 0.01372 ┆ 0.11579 ┆ 3.871   ┆ 0.2932  │
└─────────────┴─────────────┴─────────────┴────────────┴───┴─────────┴─────────┴─────────┴─────────┘
2024-12-13 00:56:57,009 - DEBUG - update position: 2024-09-14T23:59:59.999 === diff_trading_value: 291095.02678561624 == cash: 217705.3668339171 
2024-12-13 00:56:57,013 - INFO - pnl: 2024-09-14T23:59:59.999 217705.3668339171 === -0.076%
2024-12-13 00:56:57,013 - DEBUG - cur time: 2024-09-15T23:59:59.999 == next bar open time: 2024-09-16T00:00:00.000 == close pos time: 2024-09-21T00:00:00.000
2024-12-13 00:56:57,017 - INFO - pnl: 2024-09-15T23:59:59.999 219104.3455349384 === 0.643%
2024-12-13 00:56:57,021 - DEBUG - cur time: 2024-09-16T23:59:59.999 == next bar open time: 2024-09-17T00:00:00.000 == close pos time: 2024-09-22T00:00:00.000
2024-12-13 00:56:57,021 - INFO - pnl: 2024-09-16T23:59:59.999 216197.80203120134 === -1.327%
2024-12-13 00:56:57,025 - DEBUG - cur time: 2024-09-17T23:59:59.999 == next bar open time: 2024-09-18T00:00:00.000 == close pos time: 2024-09-23T00:00:00.000
2024-12-13 00:56:57,027 - INFO - pnl: 2024-09-17T23:59:59.999 215645.05423666467 === -0.256%
2024-12-13 00:56:57,030 - DEBUG - cur time: 2024-09-18T23:59:59.999 == next bar open time: 2024-09-19T00:00:00.000 == close pos time: 2024-09-24T00:00:00.000
2024-12-13 00:56:57,030 - INFO - pnl: 2024-09-18T23:59:59.999 215581.7575454048 === -0.029%
2024-12-13 00:56:57,034 - DEBUG - cur time: 2024-09-19T23:59:59.999 == next bar open time: 2024-09-20T00:00:00.000 == close pos time: 2024-09-25T00:00:00.000
2024-12-13 00:56:57,047 - DEBUG - close time 2024-09-19T23:59:59.999 == vol_threshold: 16544386.1
2024-12-13 00:56:57,047 - DEBUG - 2024-09-19T23:59:59.999 == all trade symbol 252 == remain 176 after VOL filter
2024-12-13 00:56:57,051 - DEBUG - sorted_long_factors: shape: (176, 4)
┌───────────┬──────────────┬──────┬──────────────┐
│ symbol    ┆ factor_value ┆ rank ┆ reverse_rank │
│ ---       ┆ ---          ┆ ---  ┆ ---          │
│ str       ┆ f64          ┆ u32  ┆ u32          │
╞═══════════╪══════════════╪══════╪══════════════╡
│ SAGAUSDT  ┆ -1.001943    ┆ 0    ┆ 175          │
│ ZROUSDT   ┆ -0.988898    ┆ 1    ┆ 174          │
│ IOUSDT    ┆ -0.928594    ┆ 2    ┆ 173          │
│ TIAUSDT   ┆ -0.836274    ┆ 3    ┆ 172          │
│ WIFUSDT   ┆ -0.786604    ┆ 4    ┆ 171          │
│ GMTUSDT   ┆ -0.753732    ┆ 5    ┆ 170          │
│ BNXUSDT   ┆ -0.733554    ┆ 6    ┆ 169          │
│ APEUSDT   ┆ -0.722535    ┆ 7    ┆ 168          │
│ RDNTUSDT  ┆ -0.683759    ┆ 8    ┆ 167          │
│ NOTUSDT   ┆ -0.642948    ┆ 9    ┆ 166          │
│ …         ┆ …            ┆ …    ┆ …            │
│ LOOMUSDT  ┆ 0.546064     ┆ 166  ┆ 9            │
│ TWTUSDT   ┆ 0.573214     ┆ 167  ┆ 8            │
│ OMGUSDT   ┆ 0.588391     ┆ 168  ┆ 7            │
│ DODOXUSDT ┆ 0.673569     ┆ 169  ┆ 6            │
│ ALPHAUSDT ┆ 0.68847      ┆ 170  ┆ 5            │
│ XVGUSDT   ┆ 0.715825     ┆ 171  ┆ 4            │
│ DENTUSDT  ┆ 0.723        ┆ 172  ┆ 3            │
│ CELRUSDT  ┆ 0.794529     ┆ 173  ┆ 2            │
│ HFTUSDT   ┆ 0.825387     ┆ 174  ┆ 1            │
│ OXTUSDT   ┆ 1.047276     ┆ 175  ┆ 0            │
└───────────┴──────────────┴──────┴──────────────┘
2024-12-13 00:56:57,059 - WARNING - 2024-09-19T23:59:59.999=====cur_long_scale: 1.2 not match == long_value_ratio: 1.0
2024-12-13 00:56:57,059 - INFO - cur close time: 2024-09-19T23:59:59.999 == long_value_ratio: 1.0 == short_value_ratio: 1.0 --- 1.2
2024-12-13 00:56:57,059 - DEBUG - mean expected ret (mean factor): -0.12033530978996905
2024-12-13 00:56:57,063 - DEBUG - begin to update pos: =========
2024-12-13 00:56:57,063 - DEBUG - next_step_value: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬────────────┬───┬─────────┬────────┬──────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUS ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT  ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ DT         ┆   ┆ ---     ┆ ---    ┆ ---      ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---        ┆   ┆ i64     ┆ i64    ┆ f64      ┆ i64     │
│ i64         ┆ i64         ┆ i64         ┆ i64        ┆   ┆         ┆        ┆          ┆         │
╞═════════════╪═════════════╪═════════════╪════════════╪═══╪═════════╪════════╪══════════╪═════════╡
│ 0           ┆ 0           ┆ 0           ┆ 0          ┆ … ┆ 0       ┆ 0      ┆ -10000.0 ┆ 0       │
└─────────────┴─────────────┴─────────────┴────────────┴───┴─────────┴────────┴──────────┴─────────┘
2024-12-13 00:56:57,063 - DEBUG - all_open_price_when_open_pos: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬────────────┬───┬─────────┬─────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUS ┆ … ┆ ZILUSDT ┆ ZKUSDT  ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ DT         ┆   ┆ ---     ┆ ---     ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---        ┆   ┆ f64     ┆ f64     ┆ f64     ┆ f64     │
│ f64         ┆ f64         ┆ f64         ┆ f64        ┆   ┆         ┆         ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪════════════╪═══╪═════════╪═════════╪═════════╪═════════╡
│ 0.017623    ┆ 0.13112     ┆ 0.08604     ┆ 0.0079502  ┆ … ┆ 0.01424 ┆ 0.12261 ┆ 4.269   ┆ 0.3147  │
└─────────────┴─────────────┴─────────────┴────────────┴───┴─────────┴─────────┴─────────┴─────────┘
2024-12-13 00:56:57,071 - DEBUG - update position: 2024-09-19T23:59:59.999 === diff_trading_value: 277881.2209093865 == cash: 210313.00533482988 
2024-12-13 00:56:57,071 - INFO - pnl: 2024-09-19T23:59:59.999 210313.00533482988 === -2.444%
2024-12-13 00:56:57,077 - DEBUG - cur time: 2024-09-20T23:59:59.999 == next bar open time: 2024-09-21T00:00:00.000 == close pos time: 2024-09-26T00:00:00.000
2024-12-13 00:56:57,077 - INFO - pnl: 2024-09-20T23:59:59.999 214209.71381845183 === 1.853%
2024-12-13 00:56:57,080 - DEBUG - cur time: 2024-09-21T23:59:59.999 == next bar open time: 2024-09-22T00:00:00.000 == close pos time: 2024-09-27T00:00:00.000
2024-12-13 00:56:57,083 - INFO - pnl: 2024-09-21T23:59:59.999 217900.1012017567 === 1.723%
2024-12-13 00:56:57,087 - DEBUG - cur time: 2024-09-22T23:59:59.999 == next bar open time: 2024-09-23T00:00:00.000 == close pos time: 2024-09-28T00:00:00.000
2024-12-13 00:56:57,087 - INFO - pnl: 2024-09-22T23:59:59.999 219351.09171089868 === 0.666%
2024-12-13 00:56:57,087 - DEBUG - cur time: 2024-09-23T23:59:59.999 == next bar open time: 2024-09-24T00:00:00.000 == close pos time: 2024-09-29T00:00:00.000
2024-12-13 00:56:57,091 - INFO - pnl: 2024-09-23T23:59:59.999 217249.29991393545 === -0.958%
2024-12-13 00:56:57,094 - DEBUG - cur time: 2024-09-24T23:59:59.999 == next bar open time: 2024-09-25T00:00:00.000 == close pos time: 2024-09-30T00:00:00.000
2024-12-13 00:56:57,108 - DEBUG - close time 2024-09-24T23:59:59.999 == vol_threshold: 16079385.399999999
2024-12-13 00:56:57,108 - DEBUG - 2024-09-24T23:59:59.999 == all trade symbol 252 == remain 176 after VOL filter
2024-12-13 00:56:57,108 - DEBUG - sorted_long_factors: shape: (176, 4)
┌────────────┬──────────────┬──────┬──────────────┐
│ symbol     ┆ factor_value ┆ rank ┆ reverse_rank │
│ ---        ┆ ---          ┆ ---  ┆ ---          │
│ str        ┆ f64          ┆ u32  ┆ u32          │
╞════════════╪══════════════╪══════╪══════════════╡
│ ETHFIUSDT  ┆ -1.035234    ┆ 0    ┆ 175          │
│ IOUSDT     ┆ -0.796575    ┆ 1    ┆ 174          │
│ WIFUSDT    ┆ -0.794057    ┆ 2    ┆ 173          │
│ OPUSDT     ┆ -0.72409     ┆ 3    ┆ 172          │
│ NEARUSDT   ┆ -0.699611    ┆ 4    ┆ 171          │
│ WLDUSDT    ┆ -0.691194    ┆ 5    ┆ 170          │
│ PENDLEUSDT ┆ -0.688732    ┆ 6    ┆ 169          │
│ ENAUSDT    ┆ -0.666137    ┆ 7    ┆ 168          │
│ GMTUSDT    ┆ -0.643688    ┆ 8    ┆ 167          │
│ ZKUSDT     ┆ -0.62561     ┆ 9    ┆ 166          │
│ …          ┆ …            ┆ …    ┆ …            │
│ FLMUSDT    ┆ 0.449647     ┆ 166  ┆ 9            │
│ ORBSUSDT   ┆ 0.55374      ┆ 167  ┆ 8            │
│ DENTUSDT   ┆ 0.564342     ┆ 168  ┆ 7            │
│ AMBUSDT    ┆ 0.577305     ┆ 169  ┆ 6            │
│ DUSKUSDT   ┆ 0.612001     ┆ 170  ┆ 5            │
│ ALPHAUSDT  ┆ 0.613546     ┆ 171  ┆ 4            │
│ RIFUSDT    ┆ 0.721706     ┆ 172  ┆ 3            │
│ OXTUSDT    ┆ 0.779523     ┆ 173  ┆ 2            │
│ CELRUSDT   ┆ 0.866463     ┆ 174  ┆ 1            │
│ XVGUSDT    ┆ 1.111182     ┆ 175  ┆ 0            │
└────────────┴──────────────┴──────┴──────────────┘
2024-12-13 00:56:57,117 - WARNING - 2024-09-24T23:59:59.999=====cur_long_scale: 1.2 not match == long_value_ratio: 1.0
2024-12-13 00:56:57,117 - INFO - cur close time: 2024-09-24T23:59:59.999 == long_value_ratio: 1.0 == short_value_ratio: 1.0 --- 1.2
2024-12-13 00:56:57,117 - DEBUG - mean expected ret (mean factor): -0.11853609412641554
2024-12-13 00:56:57,120 - DEBUG - begin to update pos: =========
2024-12-13 00:56:57,120 - DEBUG - next_step_value: shape: (1, 287)
┌─────────────┬─────────────┬────────────┬────────────┬───┬─────────┬──────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUS ┆ 1000PEPEUS ┆ … ┆ ZILUSDT ┆ ZKUSDT   ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ DT         ┆ DT         ┆   ┆ ---     ┆ ---      ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---        ┆ ---        ┆   ┆ i64     ┆ f64      ┆ i64     ┆ i64     │
│ i64         ┆ i64         ┆ i64        ┆ i64        ┆   ┆         ┆          ┆         ┆         │
╞═════════════╪═════════════╪════════════╪════════════╪═══╪═════════╪══════════╪═════════╪═════════╡
│ 0           ┆ 0           ┆ 0          ┆ 0          ┆ … ┆ 0       ┆ -10000.0 ┆ 0       ┆ 0       │
└─────────────┴─────────────┴────────────┴────────────┴───┴─────────┴──────────┴─────────┴─────────┘
2024-12-13 00:56:57,124 - DEBUG - all_open_price_when_open_pos: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬────────────┬───┬─────────┬─────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUS ┆ … ┆ ZILUSDT ┆ ZKUSDT  ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ DT         ┆   ┆ ---     ┆ ---     ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---        ┆   ┆ f64     ┆ f64     ┆ f64     ┆ f64     │
│ f64         ┆ f64         ┆ f64         ┆ f64        ┆   ┆         ┆         ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪════════════╪═══╪═════════╪═════════╪═════════╪═════════╡
│ 0.01852     ┆ 0.1414      ┆ 0.08757     ┆ 0.0085898  ┆ … ┆ 0.01587 ┆ 0.13396 ┆ 4.2989  ┆ 0.3397  │
└─────────────┴─────────────┴─────────────┴────────────┴───┴─────────┴─────────┴─────────┴─────────┘
2024-12-13 00:56:57,128 - DEBUG - update position: 2024-09-24T23:59:59.999 === diff_trading_value: 252645.41802695696 == cash: 216338.9081682912 
2024-12-13 00:56:57,128 - INFO - pnl: 2024-09-24T23:59:59.999 216338.9081682912 === -0.419%
2024-12-13 00:56:57,135 - DEBUG - cur time: 2024-09-25T23:59:59.999 == next bar open time: 2024-09-26T00:00:00.000 == close pos time: 2024-10-01T00:00:00.000
2024-12-13 00:56:57,137 - INFO - pnl: 2024-09-25T23:59:59.999 215190.26922149604 === -0.531%
2024-12-13 00:56:57,141 - DEBUG - cur time: 2024-09-26T23:59:59.999 == next bar open time: 2024-09-27T00:00:00.000 == close pos time: 2024-10-02T00:00:00.000
2024-12-13 00:56:57,142 - INFO - pnl: 2024-09-26T23:59:59.999 211337.68887971554 === -1.790%
2024-12-13 00:56:57,145 - DEBUG - cur time: 2024-09-27T23:59:59.999 == next bar open time: 2024-09-28T00:00:00.000 == close pos time: 2024-10-03T00:00:00.000
2024-12-13 00:56:57,147 - INFO - pnl: 2024-09-27T23:59:59.999 211031.71622408868 === -0.145%
2024-12-13 00:56:57,149 - DEBUG - cur time: 2024-09-28T23:59:59.999 == next bar open time: 2024-09-29T00:00:00.000 == close pos time: 2024-10-04T00:00:00.000
2024-12-13 00:56:57,153 - INFO - pnl: 2024-09-28T23:59:59.999 210134.67229219218 === -0.425%
2024-12-13 00:56:57,157 - DEBUG - cur time: 2024-09-29T23:59:59.999 == next bar open time: 2024-09-30T00:00:00.000 == close pos time: 2024-10-05T00:00:00.000
2024-12-13 00:56:57,173 - DEBUG - close time 2024-09-29T23:59:59.999 == vol_threshold: 12791938.44
2024-12-13 00:56:57,174 - DEBUG - 2024-09-29T23:59:59.999 == all trade symbol 253 == remain 177 after VOL filter
2024-12-13 00:56:57,177 - DEBUG - sorted_long_factors: shape: (177, 4)
┌─────────────┬──────────────┬──────┬──────────────┐
│ symbol      ┆ factor_value ┆ rank ┆ reverse_rank │
│ ---         ┆ ---          ┆ ---  ┆ ---          │
│ str         ┆ f64          ┆ u32  ┆ u32          │
╞═════════════╪══════════════╪══════╪══════════════╡
│ SXPUSDT     ┆ -1.16132     ┆ 0    ┆ 176          │
│ SAGAUSDT    ┆ -1.078576    ┆ 1    ┆ 175          │
│ ARKUSDT     ┆ -0.966348    ┆ 2    ┆ 174          │
│ ETHWUSDT    ┆ -0.946678    ┆ 3    ┆ 173          │
│ ETHFIUSDT   ┆ -0.876527    ┆ 4    ┆ 172          │
│ UMAUSDT     ┆ -0.796406    ┆ 5    ┆ 171          │
│ TIAUSDT     ┆ -0.772912    ┆ 6    ┆ 170          │
│ LUNA2USDT   ┆ -0.770785    ┆ 7    ┆ 169          │
│ WUSDT       ┆ -0.752672    ┆ 8    ┆ 168          │
│ ZROUSDT     ┆ -0.724086    ┆ 9    ┆ 167          │
│ …           ┆ …            ┆ …    ┆ …            │
│ RIFUSDT     ┆ 0.526042     ┆ 167  ┆ 9            │
│ FLMUSDT     ┆ 0.580183     ┆ 168  ┆ 8            │
│ 1000XECUSDT ┆ 0.581707     ┆ 169  ┆ 7            │
│ MAVUSDT     ┆ 0.632811     ┆ 170  ┆ 6            │
│ OXTUSDT     ┆ 0.795583     ┆ 171  ┆ 5            │
│ XVGUSDT     ┆ 0.809112     ┆ 172  ┆ 4            │
│ BICOUSDT    ┆ 0.829248     ┆ 173  ┆ 3            │
│ CELRUSDT    ┆ 0.999578     ┆ 174  ┆ 2            │
│ COMBOUSDT   ┆ 1.055421     ┆ 175  ┆ 1            │
│ HFTUSDT     ┆ 1.197533     ┆ 176  ┆ 0            │
└─────────────┴──────────────┴──────┴──────────────┘
2024-12-13 00:56:57,183 - WARNING - 2024-09-29T23:59:59.999=====cur_long_scale: 1.2 not match == long_value_ratio: 1.0
2024-12-13 00:56:57,183 - INFO - cur close time: 2024-09-29T23:59:59.999 == long_value_ratio: 1.0 == short_value_ratio: 1.0 --- 1.2
2024-12-13 00:56:57,183 - DEBUG - mean expected ret (mean factor): -0.10177490535362115
2024-12-13 00:56:57,188 - DEBUG - begin to update pos: =========
2024-12-13 00:56:57,189 - DEBUG - next_step_value: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬────────────┬───┬─────────┬────────┬──────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUS ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT  ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ DT         ┆   ┆ ---     ┆ ---    ┆ ---      ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---        ┆   ┆ i64     ┆ i64    ┆ f64      ┆ i64     │
│ i64         ┆ i64         ┆ i64         ┆ i64        ┆   ┆         ┆        ┆          ┆         │
╞═════════════╪═════════════╪═════════════╪════════════╪═══╪═════════╪════════╪══════════╪═════════╡
│ 0           ┆ 0           ┆ 0           ┆ 0          ┆ … ┆ 0       ┆ 0      ┆ -10000.0 ┆ 0       │
└─────────────┴─────────────┴─────────────┴────────────┴───┴─────────┴────────┴──────────┴─────────┘
2024-12-13 00:56:57,189 - DEBUG - all_open_price_when_open_pos: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬────────────┬───┬─────────┬─────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUS ┆ … ┆ ZILUSDT ┆ ZKUSDT  ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ DT         ┆   ┆ ---     ┆ ---     ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---        ┆   ┆ f64     ┆ f64     ┆ f64     ┆ f64     │
│ f64         ┆ f64         ┆ f64         ┆ f64        ┆   ┆         ┆         ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪════════════╪═══╪═════════╪═════════╪═════════╪═════════╡
│ 0.022926    ┆ 0.16206     ┆ 0.0991      ┆ 0.0112784  ┆ … ┆ 0.01602 ┆ 0.14636 ┆ 5.0065  ┆ 0.3605  │
└─────────────┴─────────────┴─────────────┴────────────┴───┴─────────┴─────────┴─────────┴─────────┘
2024-12-13 00:56:57,196 - DEBUG - update position: 2024-09-29T23:59:59.999 === diff_trading_value: 283779.8480365521 == cash: 209243.5012360674 
2024-12-13 00:56:57,197 - INFO - pnl: 2024-09-29T23:59:59.999 209243.5012360674 === -0.424%
2024-12-13 00:56:57,202 - DEBUG - cur time: 2024-09-30T23:59:59.999 == next bar open time: 2024-10-01T00:00:00.000 == close pos time: 2024-10-06T00:00:00.000
2024-12-13 00:56:57,204 - INFO - pnl: 2024-09-30T23:59:59.999 209504.16038961755 === 0.125%
2024-12-13 00:56:57,208 - DEBUG - cur time: 2024-10-01T23:59:59.999 == next bar open time: 2024-10-02T00:00:00.000 == close pos time: 2024-10-07T00:00:00.000
2024-12-13 00:56:57,209 - INFO - pnl: 2024-10-01T23:59:59.999 205862.4561719849 === -1.738%
2024-12-13 00:56:57,213 - DEBUG - cur time: 2024-10-02T23:59:59.999 == next bar open time: 2024-10-03T00:00:00.000 == close pos time: 2024-10-08T00:00:00.000
2024-12-13 00:56:57,213 - INFO - pnl: 2024-10-02T23:59:59.999 204304.54844392848 === -0.757%
2024-12-13 00:56:57,217 - DEBUG - cur time: 2024-10-03T23:59:59.999 == next bar open time: 2024-10-04T00:00:00.000 == close pos time: 2024-10-09T00:00:00.000
2024-12-13 00:56:57,221 - INFO - pnl: 2024-10-03T23:59:59.999 207339.24192357567 === 1.485%
2024-12-13 00:56:57,227 - DEBUG - cur time: 2024-10-04T23:59:59.999 == next bar open time: 2024-10-05T00:00:00.000 == close pos time: 2024-10-10T00:00:00.000
2024-12-13 00:56:57,242 - DEBUG - close time 2024-10-04T23:59:59.999 == vol_threshold: 12268766.74
2024-12-13 00:56:57,243 - DEBUG - 2024-10-04T23:59:59.999 == all trade symbol 253 == remain 177 after VOL filter
2024-12-13 00:56:57,244 - DEBUG - sorted_long_factors: shape: (177, 4)
┌──────────┬──────────────┬──────┬──────────────┐
│ symbol   ┆ factor_value ┆ rank ┆ reverse_rank │
│ ---      ┆ ---          ┆ ---  ┆ ---          │
│ str      ┆ f64          ┆ u32  ┆ u32          │
╞══════════╪══════════════╪══════╪══════════════╡
│ SUIUSDT  ┆ -1.367766    ┆ 0    ┆ 176          │
│ UMAUSDT  ┆ -1.022397    ┆ 1    ┆ 175          │
│ SAGAUSDT ┆ -1.01473     ┆ 2    ┆ 174          │
│ WUSDT    ┆ -0.989685    ┆ 3    ┆ 173          │
│ TONUSDT  ┆ -0.923893    ┆ 4    ┆ 172          │
│ NEARUSDT ┆ -0.89281     ┆ 5    ┆ 171          │
│ APTUSDT  ┆ -0.876162    ┆ 6    ┆ 170          │
│ ARKUSDT  ┆ -0.853415    ┆ 7    ┆ 169          │
│ ZROUSDT  ┆ -0.838103    ┆ 8    ┆ 168          │
│ GLMUSDT  ┆ -0.782332    ┆ 9    ┆ 167          │
│ …        ┆ …            ┆ …    ┆ …            │
│ AMBUSDT  ┆ 0.571005     ┆ 167  ┆ 9            │
│ ONEUSDT  ┆ 0.595793     ┆ 168  ┆ 8            │
│ OXTUSDT  ┆ 0.637007     ┆ 169  ┆ 7            │
│ CELRUSDT ┆ 0.677205     ┆ 170  ┆ 6            │
│ WAXPUSDT ┆ 0.863383     ┆ 171  ┆ 5            │
│ BNXUSDT  ┆ 0.867415     ┆ 172  ┆ 4            │
│ XVGUSDT  ┆ 0.876381     ┆ 173  ┆ 3            │
│ MAVUSDT  ┆ 0.925525     ┆ 174  ┆ 2            │
│ BICOUSDT ┆ 1.202581     ┆ 175  ┆ 1            │
│ HFTUSDT  ┆ 1.355583     ┆ 176  ┆ 0            │
└──────────┴──────────────┴──────┴──────────────┘
2024-12-13 00:56:57,252 - WARNING - 2024-10-04T23:59:59.999=====cur_long_scale: 0.8 not match == long_value_ratio: 1.0
2024-12-13 00:56:57,252 - INFO - cur close time: 2024-10-04T23:59:59.999 == long_value_ratio: 1.0 == short_value_ratio: 1.0 --- 0.8
2024-12-13 00:56:57,252 - DEBUG - mean expected ret (mean factor): -0.10752146035651707
2024-12-13 00:56:57,257 - DEBUG - begin to update pos: =========
2024-12-13 00:56:57,257 - DEBUG - next_step_value: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬────────────┬───┬─────────┬────────┬──────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUS ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT  ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ DT         ┆   ┆ ---     ┆ ---    ┆ ---      ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---        ┆   ┆ i64     ┆ i64    ┆ f64      ┆ i64     │
│ i64         ┆ i64         ┆ i64         ┆ i64        ┆   ┆         ┆        ┆          ┆         │
╞═════════════╪═════════════╪═════════════╪════════════╪═══╪═════════╪════════╪══════════╪═════════╡
│ 0           ┆ 0           ┆ 0           ┆ 0          ┆ … ┆ 0       ┆ 0      ┆ -10000.0 ┆ 0       │
└─────────────┴─────────────┴─────────────┴────────────┴───┴─────────┴────────┴──────────┴─────────┘
2024-12-13 00:56:57,257 - DEBUG - all_open_price_when_open_pos: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬────────────┬───┬─────────┬─────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUS ┆ … ┆ ZILUSDT ┆ ZKUSDT  ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ DT         ┆   ┆ ---     ┆ ---     ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---        ┆   ┆ f64     ┆ f64     ┆ f64     ┆ f64     │
│ f64         ┆ f64         ┆ f64         ┆ f64        ┆   ┆         ┆         ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪════════════╪═══╪═════════╪═════════╪═════════╪═════════╡
│ 0.021492    ┆ 0.13615     ┆ 0.0874      ┆ 0.0093879  ┆ … ┆ 0.01414 ┆ 0.12725 ┆ 4.1893  ┆ 0.314   │
└─────────────┴─────────────┴─────────────┴────────────┴───┴─────────┴─────────┴─────────┴─────────┘
2024-12-13 00:56:57,261 - DEBUG - update position: 2024-10-04T23:59:59.999 === diff_trading_value: 182128.76847783168 == cash: 204218.37178674078 
2024-12-13 00:56:57,265 - INFO - pnl: 2024-10-04T23:59:59.999 204218.37178674078 === -1.505%
2024-12-13 00:56:57,269 - DEBUG - cur time: 2024-10-05T23:59:59.999 == next bar open time: 2024-10-06T00:00:00.000 == close pos time: 2024-10-11T00:00:00.000
2024-12-13 00:56:57,269 - INFO - pnl: 2024-10-05T23:59:59.999 203970.24280017347 === -0.122%
2024-12-13 00:56:57,273 - DEBUG - cur time: 2024-10-06T23:59:59.999 == next bar open time: 2024-10-07T00:00:00.000 == close pos time: 2024-10-12T00:00:00.000
2024-12-13 00:56:57,273 - INFO - pnl: 2024-10-06T23:59:59.999 204862.24831955036 === 0.437%
2024-12-13 00:56:57,281 - DEBUG - cur time: 2024-10-07T23:59:59.999 == next bar open time: 2024-10-08T00:00:00.000 == close pos time: 2024-10-13T00:00:00.000
2024-12-13 00:56:57,281 - INFO - pnl: 2024-10-07T23:59:59.999 203939.4469656186 === -0.450%
2024-12-13 00:56:57,287 - DEBUG - cur time: 2024-10-08T23:59:59.999 == next bar open time: 2024-10-09T00:00:00.000 == close pos time: 2024-10-14T00:00:00.000
2024-12-13 00:56:57,290 - INFO - pnl: 2024-10-08T23:59:59.999 204836.38522781056 === 0.440%
2024-12-13 00:56:57,293 - DEBUG - cur time: 2024-10-09T23:59:59.999 == next bar open time: 2024-10-10T00:00:00.000 == close pos time: 2024-10-15T00:00:00.000
2024-12-13 00:56:57,304 - DEBUG - close time 2024-10-09T23:59:59.999 == vol_threshold: 12175817.0
2024-12-13 00:56:57,307 - DEBUG - 2024-10-09T23:59:59.999 == all trade symbol 253 == remain 177 after VOL filter
2024-12-13 00:56:57,308 - DEBUG - sorted_long_factors: shape: (177, 4)
┌───────────┬──────────────┬──────┬──────────────┐
│ symbol    ┆ factor_value ┆ rank ┆ reverse_rank │
│ ---       ┆ ---          ┆ ---  ┆ ---          │
│ str       ┆ f64          ┆ u32  ┆ u32          │
╞═══════════╪══════════════╪══════╪══════════════╡
│ UNFIUSDT  ┆ -1.115258    ┆ 0    ┆ 176          │
│ ETHWUSDT  ┆ -1.110147    ┆ 1    ┆ 175          │
│ NEARUSDT  ┆ -1.050048    ┆ 2    ┆ 174          │
│ ZROUSDT   ┆ -0.909668    ┆ 3    ┆ 173          │
│ FTMUSDT   ┆ -0.897861    ┆ 4    ┆ 172          │
│ XRPUSDT   ┆ -0.892811    ┆ 5    ┆ 171          │
│ GASUSDT   ┆ -0.88773     ┆ 6    ┆ 170          │
│ TONUSDT   ┆ -0.860658    ┆ 7    ┆ 169          │
│ RUNEUSDT  ┆ -0.81431     ┆ 8    ┆ 168          │
│ ALTUSDT   ┆ -0.778035    ┆ 9    ┆ 167          │
│ …         ┆ …            ┆ …    ┆ …            │
│ SPELLUSDT ┆ 0.672505     ┆ 167  ┆ 9            │
│ ALPHAUSDT ┆ 0.678014     ┆ 168  ┆ 8            │
│ ICXUSDT   ┆ 0.723623     ┆ 169  ┆ 7            │
│ SKLUSDT   ┆ 0.757735     ┆ 170  ┆ 6            │
│ XVGUSDT   ┆ 0.757886     ┆ 171  ┆ 5            │
│ BICOUSDT  ┆ 0.825198     ┆ 172  ┆ 4            │
│ CTSIUSDT  ┆ 0.838907     ┆ 173  ┆ 3            │
│ WAXPUSDT  ┆ 0.896862     ┆ 174  ┆ 2            │
│ HFTUSDT   ┆ 1.044205     ┆ 175  ┆ 1            │
│ AMBUSDT   ┆ 1.061149     ┆ 176  ┆ 0            │
└───────────┴──────────────┴──────┴──────────────┘
2024-12-13 00:56:57,317 - WARNING - 2024-10-09T23:59:59.999=====cur_long_scale: 0.8 not match == long_value_ratio: 1.0
2024-12-13 00:56:57,317 - INFO - cur close time: 2024-10-09T23:59:59.999 == long_value_ratio: 1.0 == short_value_ratio: 1.0 --- 0.8
2024-12-13 00:56:57,317 - DEBUG - mean expected ret (mean factor): -0.11186488559971534
2024-12-13 00:56:57,322 - DEBUG - begin to update pos: =========
2024-12-13 00:56:57,322 - DEBUG - next_step_value: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬────────────┬───┬─────────┬────────┬──────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUS ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT  ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ DT         ┆   ┆ ---     ┆ ---    ┆ ---      ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---        ┆   ┆ i64     ┆ i64    ┆ f64      ┆ f64     │
│ i64         ┆ i64         ┆ i64         ┆ i64        ┆   ┆         ┆        ┆          ┆         │
╞═════════════╪═════════════╪═════════════╪════════════╪═══╪═════════╪════════╪══════════╪═════════╡
│ 0           ┆ 0           ┆ 0           ┆ 0          ┆ … ┆ 0       ┆ 0      ┆ -10000.0 ┆ 5000.0  │
└─────────────┴─────────────┴─────────────┴────────────┴───┴─────────┴────────┴──────────┴─────────┘
2024-12-13 00:56:57,322 - DEBUG - all_open_price_when_open_pos: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬────────────┬───┬─────────┬─────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUS ┆ … ┆ ZILUSDT ┆ ZKUSDT  ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ DT         ┆   ┆ ---     ┆ ---     ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---        ┆   ┆ f64     ┆ f64     ┆ f64     ┆ f64     │
│ f64         ┆ f64         ┆ f64         ┆ f64        ┆   ┆         ┆         ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪════════════╪═══╪═════════╪═════════╪═════════╪═════════╡
│ 0.01985     ┆ 0.12948     ┆ 0.0832      ┆ 0.0091089  ┆ … ┆ 0.01398 ┆ 0.12018 ┆ 3.9165  ┆ 0.3076  │
└─────────────┴─────────────┴─────────────┴────────────┴───┴─────────┴─────────┴─────────┴─────────┘
2024-12-13 00:56:57,329 - DEBUG - update position: 2024-10-09T23:59:59.999 === diff_trading_value: 209957.81861112517 == cash: 204752.06887945966 
2024-12-13 00:56:57,329 - INFO - pnl: 2024-10-09T23:59:59.999 204752.06887945966 === -0.041%
2024-12-13 00:56:57,333 - DEBUG - cur time: 2024-10-10T23:59:59.999 == next bar open time: 2024-10-11T00:00:00.000 == close pos time: 2024-10-16T00:00:00.000
2024-12-13 00:56:57,333 - INFO - pnl: 2024-10-10T23:59:59.999 205692.83260220068 === 0.459%
2024-12-13 00:56:57,338 - DEBUG - cur time: 2024-10-11T23:59:59.999 == next bar open time: 2024-10-12T00:00:00.000 == close pos time: 2024-10-17T00:00:00.000
2024-12-13 00:56:57,341 - INFO - pnl: 2024-10-11T23:59:59.999 205201.42016531472 === -0.239%
2024-12-13 00:56:57,347 - DEBUG - cur time: 2024-10-12T23:59:59.999 == next bar open time: 2024-10-13T00:00:00.000 == close pos time: 2024-10-18T00:00:00.000
2024-12-13 00:56:57,347 - INFO - pnl: 2024-10-12T23:59:59.999 205724.22701531445 === 0.255%
2024-12-13 00:56:57,350 - DEBUG - cur time: 2024-10-13T23:59:59.999 == next bar open time: 2024-10-14T00:00:00.000 == close pos time: 2024-10-19T00:00:00.000
2024-12-13 00:56:57,354 - INFO - pnl: 2024-10-13T23:59:59.999 208606.24223962962 === 1.401%
2024-12-13 00:56:57,357 - DEBUG - cur time: 2024-10-14T23:59:59.999 == next bar open time: 2024-10-15T00:00:00.000 == close pos time: 2024-10-20T00:00:00.000
2024-12-13 00:56:57,370 - DEBUG - close time 2024-10-14T23:59:59.999 == vol_threshold: 15075457.239999998
2024-12-13 00:56:57,370 - DEBUG - 2024-10-14T23:59:59.999 == all trade symbol 253 == remain 177 after VOL filter
2024-12-13 00:56:57,375 - DEBUG - sorted_long_factors: shape: (177, 4)
┌───────────┬──────────────┬──────┬──────────────┐
│ symbol    ┆ factor_value ┆ rank ┆ reverse_rank │
│ ---       ┆ ---          ┆ ---  ┆ ---          │
│ str       ┆ f64          ┆ u32  ┆ u32          │
╞═══════════╪══════════════╪══════╪══════════════╡
│ TIAUSDT   ┆ -1.057041    ┆ 0    ┆ 176          │
│ MINAUSDT  ┆ -0.978945    ┆ 1    ┆ 175          │
│ WUSDT     ┆ -0.975926    ┆ 2    ┆ 174          │
│ BLURUSDT  ┆ -0.955742    ┆ 3    ┆ 173          │
│ SEIUSDT   ┆ -0.901496    ┆ 4    ┆ 172          │
│ ETHFIUSDT ┆ -0.887281    ┆ 5    ┆ 171          │
│ WLDUSDT   ┆ -0.817486    ┆ 6    ┆ 170          │
│ ENAUSDT   ┆ -0.800495    ┆ 7    ┆ 169          │
│ NEARUSDT  ┆ -0.769613    ┆ 8    ┆ 168          │
│ SAGAUSDT  ┆ -0.761099    ┆ 9    ┆ 167          │
│ …         ┆ …            ┆ …    ┆ …            │
│ XVGUSDT   ┆ 0.582566     ┆ 167  ┆ 9            │
│ CELRUSDT  ┆ 0.590913     ┆ 168  ┆ 8            │
│ SKLUSDT   ┆ 0.604257     ┆ 169  ┆ 7            │
│ TUSDT     ┆ 0.636163     ┆ 170  ┆ 6            │
│ ATAUSDT   ┆ 0.647293     ┆ 171  ┆ 5            │
│ BATUSDT   ┆ 0.649881     ┆ 172  ┆ 4            │
│ RVNUSDT   ┆ 0.679838     ┆ 173  ┆ 3            │
│ NKNUSDT   ┆ 0.729675     ┆ 174  ┆ 2            │
│ BICOUSDT  ┆ 0.823359     ┆ 175  ┆ 1            │
│ WAXPUSDT  ┆ 0.876031     ┆ 176  ┆ 0            │
└───────────┴──────────────┴──────┴──────────────┘
2024-12-13 00:56:57,383 - WARNING - 2024-10-14T23:59:59.999=====cur_long_scale: 1.2 not match == long_value_ratio: 1.0
2024-12-13 00:56:57,383 - INFO - cur close time: 2024-10-14T23:59:59.999 == long_value_ratio: 1.0 == short_value_ratio: 1.0 --- 1.2
2024-12-13 00:56:57,383 - DEBUG - mean expected ret (mean factor): -0.1174736057771688
2024-12-13 00:56:57,387 - DEBUG - begin to update pos: =========
2024-12-13 00:56:57,387 - DEBUG - next_step_value: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ i64     ┆ i64    ┆ i64     ┆ i64     │
│ i64         ┆ i64         ┆ i64         ┆ i64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0           ┆ 0           ┆ 0           ┆ 0           ┆ … ┆ 0       ┆ 0      ┆ 0       ┆ 0       │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:57,387 - DEBUG - all_open_price_when_open_pos: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬────────────┬───┬─────────┬─────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUS ┆ … ┆ ZILUSDT ┆ ZKUSDT  ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ DT         ┆   ┆ ---     ┆ ---     ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---        ┆   ┆ f64     ┆ f64     ┆ f64     ┆ f64     │
│ f64         ┆ f64         ┆ f64         ┆ f64        ┆   ┆         ┆         ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪════════════╪═══╪═════════╪═════════╪═════════╪═════════╡
│ 0.023239    ┆ 0.15276     ┆ 0.09196     ┆ 0.0109079  ┆ … ┆ 0.01545 ┆ 0.13844 ┆ 4.2352  ┆ 0.3354  │
└─────────────┴─────────────┴─────────────┴────────────┴───┴─────────┴─────────┴─────────┴─────────┘
2024-12-13 00:56:57,397 - DEBUG - update position: 2024-10-14T23:59:59.999 === diff_trading_value: 300345.17221088085 == cash: 207170.87970590784 
2024-12-13 00:56:57,400 - INFO - pnl: 2024-10-14T23:59:59.999 207170.87970590784 === -0.688%
2024-12-13 00:56:57,408 - DEBUG - cur time: 2024-10-15T23:59:59.999 == next bar open time: 2024-10-16T00:00:00.000 == close pos time: 2024-10-21T00:00:00.000
2024-12-13 00:56:57,408 - INFO - pnl: 2024-10-15T23:59:59.999 208462.9305239409 === 0.624%
2024-12-13 00:56:57,412 - DEBUG - cur time: 2024-10-16T23:59:59.999 == next bar open time: 2024-10-17T00:00:00.000 == close pos time: 2024-10-22T00:00:00.000
2024-12-13 00:56:57,417 - INFO - pnl: 2024-10-16T23:59:59.999 209846.30065902352 === 0.664%
2024-12-13 00:56:57,421 - DEBUG - cur time: 2024-10-17T23:59:59.999 == next bar open time: 2024-10-18T00:00:00.000 == close pos time: 2024-10-23T00:00:00.000
2024-12-13 00:56:57,425 - INFO - pnl: 2024-10-17T23:59:59.999 210206.54420140284 === 0.172%
2024-12-13 00:56:57,429 - DEBUG - cur time: 2024-10-18T23:59:59.999 == next bar open time: 2024-10-19T00:00:00.000 == close pos time: 2024-10-24T00:00:00.000
2024-12-13 00:56:57,429 - INFO - pnl: 2024-10-18T23:59:59.999 209956.87205593672 === -0.119%
2024-12-13 00:56:57,433 - DEBUG - cur time: 2024-10-19T23:59:59.999 == next bar open time: 2024-10-20T00:00:00.000 == close pos time: 2024-10-25T00:00:00.000
2024-12-13 00:56:57,447 - DEBUG - close time 2024-10-19T23:59:59.999 == vol_threshold: 8754468.899999999
2024-12-13 00:56:57,447 - DEBUG - 2024-10-19T23:59:59.999 == all trade symbol 256 == remain 179 after VOL filter
2024-12-13 00:56:57,450 - DEBUG - sorted_long_factors: shape: (179, 4)
┌────────────┬──────────────┬──────┬──────────────┐
│ symbol     ┆ factor_value ┆ rank ┆ reverse_rank │
│ ---        ┆ ---          ┆ ---  ┆ ---          │
│ str        ┆ f64          ┆ u32  ┆ u32          │
╞════════════╪══════════════╪══════╪══════════════╡
│ WLDUSDT    ┆ -1.041913    ┆ 0    ┆ 178          │
│ DOGEUSDT   ┆ -0.964919    ┆ 1    ┆ 177          │
│ ZETAUSDT   ┆ -0.937215    ┆ 2    ┆ 176          │
│ PENDLEUSDT ┆ -0.907607    ┆ 3    ┆ 175          │
│ DOTUSDT    ┆ -0.772984    ┆ 4    ┆ 174          │
│ AXSUSDT    ┆ -0.733417    ┆ 5    ┆ 173          │
│ IOUSDT     ┆ -0.727924    ┆ 6    ┆ 172          │
│ TNSRUSDT   ┆ -0.727093    ┆ 7    ┆ 171          │
│ APEUSDT    ┆ -0.724741    ┆ 8    ┆ 170          │
│ ARKUSDT    ┆ -0.700801    ┆ 9    ┆ 169          │
│ …          ┆ …            ┆ …    ┆ …            │
│ OXTUSDT    ┆ 0.620206     ┆ 169  ┆ 9            │
│ ARPAUSDT   ┆ 0.637752     ┆ 170  ┆ 8            │
│ MAVUSDT    ┆ 0.657235     ┆ 171  ┆ 7            │
│ IOSTUSDT   ┆ 0.674737     ┆ 172  ┆ 6            │
│ ATAUSDT    ┆ 0.688814     ┆ 173  ┆ 5            │
│ XEMUSDT    ┆ 0.699401     ┆ 174  ┆ 4            │
│ DODOXUSDT  ┆ 0.700303     ┆ 175  ┆ 3            │
│ DENTUSDT   ┆ 0.714276     ┆ 176  ┆ 2            │
│ NKNUSDT    ┆ 0.820273     ┆ 177  ┆ 1            │
│ RDNTUSDT   ┆ 0.86212      ┆ 178  ┆ 0            │
└────────────┴──────────────┴──────┴──────────────┘
2024-12-13 00:56:57,458 - WARNING - 2024-10-19T23:59:59.999=====cur_long_scale: 0.8 not match == long_value_ratio: 1.0
2024-12-13 00:56:57,458 - INFO - cur close time: 2024-10-19T23:59:59.999 == long_value_ratio: 1.0 == short_value_ratio: 1.0 --- 0.8
2024-12-13 00:56:57,458 - DEBUG - mean expected ret (mean factor): -0.09735679906570907
2024-12-13 00:56:57,462 - DEBUG - begin to update pos: =========
2024-12-13 00:56:57,462 - DEBUG - next_step_value: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ i64     ┆ i64    ┆ i64     ┆ i64     │
│ i64         ┆ i64         ┆ i64         ┆ i64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0           ┆ 0           ┆ 0           ┆ 0           ┆ … ┆ 0       ┆ 0      ┆ 0       ┆ 0       │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:57,462 - DEBUG - all_open_price_when_open_pos: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬────────────┬───┬─────────┬─────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUS ┆ … ┆ ZILUSDT ┆ ZKUSDT  ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ DT         ┆   ┆ ---     ┆ ---     ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---        ┆   ┆ f64     ┆ f64     ┆ f64     ┆ f64     │
│ f64         ┆ f64         ┆ f64         ┆ f64        ┆   ┆         ┆         ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪════════════╪═══╪═════════╪═════════╪═════════╪═════════╡
│ 0.023502    ┆ 0.15803     ┆ 0.09102     ┆ 0.0104889  ┆ … ┆ 0.01541 ┆ 0.14287 ┆ 3.8384  ┆ 0.3359  │
└─────────────┴─────────────┴─────────────┴────────────┴───┴─────────┴─────────┴─────────┴─────────┘
2024-12-13 00:56:57,471 - DEBUG - update position: 2024-10-19T23:59:59.999 === diff_trading_value: 245309.79132330557 == cash: 210919.22228505727 
2024-12-13 00:56:57,471 - INFO - pnl: 2024-10-19T23:59:59.999 210919.22228505727 === 0.458%
2024-12-13 00:56:57,475 - DEBUG - cur time: 2024-10-20T23:59:59.999 == next bar open time: 2024-10-21T00:00:00.000 == close pos time: 2024-10-26T00:00:00.000
2024-12-13 00:56:57,479 - INFO - pnl: 2024-10-20T23:59:59.999 209470.42472387705 === -0.687%
2024-12-13 00:56:57,483 - DEBUG - cur time: 2024-10-21T23:59:59.999 == next bar open time: 2024-10-22T00:00:00.000 == close pos time: 2024-10-27T00:00:00.000
2024-12-13 00:56:57,483 - INFO - pnl: 2024-10-21T23:59:59.999 207217.11099668688 === -1.076%
2024-12-13 00:56:57,488 - DEBUG - cur time: 2024-10-22T23:59:59.999 == next bar open time: 2024-10-23T00:00:00.000 == close pos time: 2024-10-28T00:00:00.000
2024-12-13 00:56:57,491 - INFO - pnl: 2024-10-22T23:59:59.999 208667.5276243465 === 0.700%
2024-12-13 00:56:57,495 - DEBUG - cur time: 2024-10-23T23:59:59.999 == next bar open time: 2024-10-24T00:00:00.000 == close pos time: 2024-10-29T00:00:00.000
2024-12-13 00:56:57,497 - INFO - pnl: 2024-10-23T23:59:59.999 208110.9053981518 === -0.267%
2024-12-13 00:56:57,501 - DEBUG - cur time: 2024-10-24T23:59:59.999 == next bar open time: 2024-10-25T00:00:00.000 == close pos time: 2024-10-30T00:00:00.000
2024-12-13 00:56:57,512 - DEBUG - close time 2024-10-24T23:59:59.999 == vol_threshold: 12143199.869999997
2024-12-13 00:56:57,512 - DEBUG - 2024-10-24T23:59:59.999 == all trade symbol 258 == remain 180 after VOL filter
2024-12-13 00:56:57,517 - DEBUG - sorted_long_factors: shape: (180, 4)
┌───────────┬──────────────┬──────┬──────────────┐
│ symbol    ┆ factor_value ┆ rank ┆ reverse_rank │
│ ---       ┆ ---          ┆ ---  ┆ ---          │
│ str       ┆ f64          ┆ u32  ┆ u32          │
╞═══════════╪══════════════╪══════╪══════════════╡
│ APTUSDT   ┆ -1.235303    ┆ 0    ┆ 179          │
│ SAGAUSDT  ┆ -1.092636    ┆ 1    ┆ 178          │
│ IOUSDT    ┆ -1.00987     ┆ 2    ┆ 177          │
│ JTOUSDT   ┆ -0.998594    ┆ 3    ┆ 176          │
│ JUPUSDT   ┆ -0.911726    ┆ 4    ┆ 175          │
│ ARKMUSDT  ┆ -0.861409    ┆ 5    ┆ 174          │
│ TIAUSDT   ┆ -0.848369    ┆ 6    ┆ 173          │
│ STORJUSDT ┆ -0.833028    ┆ 7    ┆ 172          │
│ LISTAUSDT ┆ -0.679451    ┆ 8    ┆ 171          │
│ GTCUSDT   ┆ -0.67658     ┆ 9    ┆ 170          │
│ …         ┆ …            ┆ …    ┆ …            │
│ AMBUSDT   ┆ 0.570804     ┆ 170  ┆ 9            │
│ XVGUSDT   ┆ 0.589128     ┆ 171  ┆ 8            │
│ MAVUSDT   ┆ 0.598916     ┆ 172  ┆ 7            │
│ RIFUSDT   ┆ 0.688427     ┆ 173  ┆ 6            │
│ HOTUSDT   ┆ 0.692424     ┆ 174  ┆ 5            │
│ XEMUSDT   ┆ 0.717046     ┆ 175  ┆ 4            │
│ DENTUSDT  ┆ 0.771446     ┆ 176  ┆ 3            │
│ IOSTUSDT  ┆ 0.789376     ┆ 177  ┆ 2            │
│ OXTUSDT   ┆ 0.834481     ┆ 178  ┆ 1            │
│ HFTUSDT   ┆ 0.958273     ┆ 179  ┆ 0            │
└───────────┴──────────────┴──────┴──────────────┘
2024-12-13 00:56:57,525 - WARNING - 2024-10-24T23:59:59.999=====cur_long_scale: 0.8 not match == long_value_ratio: 1.0
2024-12-13 00:56:57,525 - INFO - cur close time: 2024-10-24T23:59:59.999 == long_value_ratio: 1.0 == short_value_ratio: 1.0 --- 0.8
2024-12-13 00:56:57,527 - DEBUG - mean expected ret (mean factor): -0.09228264637650509
2024-12-13 00:56:57,529 - DEBUG - begin to update pos: =========
2024-12-13 00:56:57,529 - DEBUG - next_step_value: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ i64     ┆ i64    ┆ i64     ┆ i64     │
│ i64         ┆ i64         ┆ i64         ┆ i64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0           ┆ 0           ┆ 0           ┆ 0           ┆ … ┆ 0       ┆ 0      ┆ 0       ┆ 0       │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:57,529 - DEBUG - all_open_price_when_open_pos: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬────────────┬───┬─────────┬─────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUS ┆ … ┆ ZILUSDT ┆ ZKUSDT  ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ DT         ┆   ┆ ---     ┆ ---     ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---        ┆   ┆ f64     ┆ f64     ┆ f64     ┆ f64     │
│ f64         ┆ f64         ┆ f64         ┆ f64        ┆   ┆         ┆         ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪════════════╪═══╪═════════╪═════════╪═════════╪═════════╡
│ 0.022932    ┆ 0.14704     ┆ 0.09085     ┆ 0.0099932  ┆ … ┆ 0.01519 ┆ 0.13687 ┆ 3.691   ┆ 0.3417  │
└─────────────┴─────────────┴─────────────┴────────────┴───┴─────────┴─────────┴─────────┴─────────┘
2024-12-13 00:56:57,537 - DEBUG - update position: 2024-10-24T23:59:59.999 === diff_trading_value: 283854.987469806 == cash: 208208.70148469502 
2024-12-13 00:56:57,541 - INFO - pnl: 2024-10-24T23:59:59.999 208208.70148469502 === 0.047%
2024-12-13 00:56:57,547 - DEBUG - cur time: 2024-10-25T23:59:59.999 == next bar open time: 2024-10-26T00:00:00.000 == close pos time: 2024-10-31T00:00:00.000
2024-12-13 00:56:57,547 - INFO - pnl: 2024-10-25T23:59:59.999 210067.85990978882 === 0.893%
2024-12-13 00:56:57,549 - DEBUG - cur time: 2024-10-26T23:59:59.999 == next bar open time: 2024-10-27T00:00:00.000 == close pos time: 2024-11-01T00:00:00.000
2024-12-13 00:56:57,553 - INFO - pnl: 2024-10-26T23:59:59.999 209142.8077935396 === -0.440%
2024-12-13 00:56:57,582 - INFO - start get SinglePnl: shape: (131_478, 94)
┌────────────┬───────────┬──────────┬──────────┬───┬───────────┬───────────┬───────────┬───────────┐
│ symbol     ┆ open_time ┆ open     ┆ high     ┆ … ┆ long_valu ┆ short_val ┆ long_valu ┆ short_val │
│ ---        ┆ ---       ┆ ---      ┆ ---      ┆   ┆ e_scale_9 ┆ ue_scale_ ┆ e_scale_1 ┆ ue_scale_ │
│ str        ┆ datetime[ ┆ f64      ┆ f64      ┆   ┆ day       ┆ 9day      ┆ 0day      ┆ 10day     │
│            ┆ ms]       ┆          ┆          ┆   ┆ ---       ┆ ---       ┆ ---       ┆ ---       │
│            ┆           ┆          ┆          ┆   ┆ f64       ┆ f64       ┆ f64       ┆ f64       │
╞════════════╪═══════════╪══════════╪══════════╪═══╪═══════════╪═══════════╪═══════════╪═══════════╡
│ 1000BONKUS ┆ 2024-01-2 ┆ 0.011057 ┆ 0.011678 ┆ … ┆ 0.8       ┆ 1.2       ┆ 0.8       ┆ 1.2       │
│ DT         ┆ 5         ┆          ┆          ┆   ┆           ┆           ┆           ┆           │
│            ┆ 00:00:00  ┆          ┆          ┆   ┆           ┆           ┆           ┆           │
│ 1000BONKUS ┆ 2024-01-2 ┆ 0.011277 ┆ 0.01248  ┆ … ┆ 0.8       ┆ 1.2       ┆ 0.8       ┆ 1.2       │
│ DT         ┆ 6         ┆          ┆          ┆   ┆           ┆           ┆           ┆           │
│            ┆ 00:00:00  ┆          ┆          ┆   ┆           ┆           ┆           ┆           │
│ 1000BONKUS ┆ 2024-01-2 ┆ 0.01184  ┆ 0.012037 ┆ … ┆ 1.0       ┆ 1.0       ┆ 0.8       ┆ 1.2       │
│ DT         ┆ 7         ┆          ┆          ┆   ┆           ┆           ┆           ┆           │
│            ┆ 00:00:00  ┆          ┆          ┆   ┆           ┆           ┆           ┆           │
│ 1000BONKUS ┆ 2024-01-2 ┆ 0.011637 ┆ 0.012648 ┆ … ┆ 0.8       ┆ 1.2       ┆ 1.0       ┆ 1.0       │
│ DT         ┆ 8         ┆          ┆          ┆   ┆           ┆           ┆           ┆           │
│            ┆ 00:00:00  ┆          ┆          ┆   ┆           ┆           ┆           ┆           │
│ 1000BONKUS ┆ 2024-01-2 ┆ 0.011568 ┆ 0.012113 ┆ … ┆ 1.0       ┆ 1.0       ┆ 1.2       ┆ 0.8       │
│ DT         ┆ 9         ┆          ┆          ┆   ┆           ┆           ┆           ┆           │
│            ┆ 00:00:00  ┆          ┆          ┆   ┆           ┆           ┆           ┆           │
│ 1000BONKUS ┆ 2024-01-3 ┆ 0.012004 ┆ 0.012249 ┆ … ┆ 0.8       ┆ 1.2       ┆ 1.0       ┆ 1.0       │
│ DT         ┆ 0         ┆          ┆          ┆   ┆           ┆           ┆           ┆           │
│            ┆ 00:00:00  ┆          ┆          ┆   ┆           ┆           ┆           ┆           │
│ 1000BONKUS ┆ 2024-01-3 ┆ 0.011247 ┆ 0.011337 ┆ … ┆ 1.0       ┆ 1.0       ┆ 0.8       ┆ 1.2       │
│ DT         ┆ 1         ┆          ┆          ┆   ┆           ┆           ┆           ┆           │
│            ┆ 00:00:00  ┆          ┆          ┆   ┆           ┆           ┆           ┆           │
│ 1000BONKUS ┆ 2024-02-0 ┆ 0.010656 ┆ 0.010834 ┆ … ┆ 1.2       ┆ 0.8       ┆ 1.0       ┆ 1.0       │
│ DT         ┆ 1         ┆          ┆          ┆   ┆           ┆           ┆           ┆           │
│            ┆ 00:00:00  ┆          ┆          ┆   ┆           ┆           ┆           ┆           │
│ 1000BONKUS ┆ 2024-02-0 ┆ 0.010747 ┆ 0.010872 ┆ … ┆ 1.2       ┆ 0.8       ┆ 1.2       ┆ 0.8       │
│ DT         ┆ 2         ┆          ┆          ┆   ┆           ┆           ┆           ┆           │
│            ┆ 00:00:00  ┆          ┆          ┆   ┆           ┆           ┆           ┆           │
│ 1000BONKUS ┆ 2024-02-0 ┆ 0.010541 ┆ 0.010638 ┆ … ┆ 1.2       ┆ 0.8       ┆ 1.2       ┆ 0.8       │
│ DT         ┆ 3         ┆          ┆          ┆   ┆           ┆           ┆           ┆           │
│            ┆ 00:00:00  ┆          ┆          ┆   ┆           ┆           ┆           ┆           │
│ …          ┆ …         ┆ …        ┆ …        ┆ … ┆ …         ┆ …         ┆ …         ┆ …         │
│ ZRXUSDT    ┆ 2024-10-1 ┆ 0.3196   ┆ 0.3373   ┆ … ┆ 1.2       ┆ 0.8       ┆ 1.2       ┆ 0.8       │
│            ┆ 8         ┆          ┆          ┆   ┆           ┆           ┆           ┆           │
│            ┆ 00:00:00  ┆          ┆          ┆   ┆           ┆           ┆           ┆           │
│ ZRXUSDT    ┆ 2024-10-1 ┆ 0.3355   ┆ 0.3415   ┆ … ┆ 1.2       ┆ 0.8       ┆ 1.2       ┆ 0.8       │
│            ┆ 9         ┆          ┆          ┆   ┆           ┆           ┆           ┆           │
│            ┆ 00:00:00  ┆          ┆          ┆   ┆           ┆           ┆           ┆           │
│ ZRXUSDT    ┆ 2024-10-2 ┆ 0.3359   ┆ 0.3565   ┆ … ┆ 1.2       ┆ 0.8       ┆ 1.2       ┆ 0.8       │
│            ┆ 0         ┆          ┆          ┆   ┆           ┆           ┆           ┆           │
│            ┆ 00:00:00  ┆          ┆          ┆   ┆           ┆           ┆           ┆           │
│ ZRXUSDT    ┆ 2024-10-2 ┆ 0.3553   ┆ 0.3881   ┆ … ┆ 1.2       ┆ 0.8       ┆ 1.2       ┆ 0.8       │
│            ┆ 1         ┆          ┆          ┆   ┆           ┆           ┆           ┆           │
│            ┆ 00:00:00  ┆          ┆          ┆   ┆           ┆           ┆           ┆           │
│ ZRXUSDT    ┆ 2024-10-2 ┆ 0.3577   ┆ 0.3581   ┆ … ┆ 1.2       ┆ 0.8       ┆ 1.2       ┆ 0.8       │
│            ┆ 2         ┆          ┆          ┆   ┆           ┆           ┆           ┆           │
│            ┆ 00:00:00  ┆          ┆          ┆   ┆           ┆           ┆           ┆           │
│ ZRXUSDT    ┆ 2024-10-2 ┆ 0.3511   ┆ 0.3547   ┆ … ┆ 0.8       ┆ 1.2       ┆ 1.2       ┆ 0.8       │
│            ┆ 3         ┆          ┆          ┆   ┆           ┆           ┆           ┆           │
│            ┆ 00:00:00  ┆          ┆          ┆   ┆           ┆           ┆           ┆           │
│ ZRXUSDT    ┆ 2024-10-2 ┆ 0.3383   ┆ 0.3548   ┆ … ┆ 0.8       ┆ 1.2       ┆ 0.8       ┆ 1.2       │
│            ┆ 4         ┆          ┆          ┆   ┆           ┆           ┆           ┆           │
│            ┆ 00:00:00  ┆          ┆          ┆   ┆           ┆           ┆           ┆           │
│ ZRXUSDT    ┆ 2024-10-2 ┆ 0.3417   ┆ 0.3632   ┆ … ┆ 0.8       ┆ 1.2       ┆ 0.8       ┆ 1.2       │
│            ┆ 5         ┆          ┆          ┆   ┆           ┆           ┆           ┆           │
│            ┆ 00:00:00  ┆          ┆          ┆   ┆           ┆           ┆           ┆           │
│ ZRXUSDT    ┆ 2024-10-2 ┆ 0.3194   ┆ 0.3243   ┆ … ┆ 0.8       ┆ 1.2       ┆ 0.8       ┆ 1.2       │
│            ┆ 6         ┆          ┆          ┆   ┆           ┆           ┆           ┆           │
│            ┆ 00:00:00  ┆          ┆          ┆   ┆           ┆           ┆           ┆           │
│ ZRXUSDT    ┆ 2024-10-2 ┆ 0.316    ┆ 0.3317   ┆ … ┆ 0.8       ┆ 1.2       ┆ 0.8       ┆ 1.2       │
│            ┆ 7         ┆          ┆          ┆   ┆           ┆           ┆           ┆           │
│            ┆ 00:00:00  ┆          ┆          ┆   ┆           ┆           ┆           ┆           │
└────────────┴───────────┴──────────┴──────────┴───┴───────────┴───────────┴───────────┴───────────┘
2024-12-13 00:56:57,666 - DEBUG - cur time: 2023-01-09T23:59:59.999 == next bar open time: 2023-01-10T00:00:00.000 == close pos time: 2023-01-15T00:00:00.000
2024-12-13 00:56:57,674 - DEBUG - close time 2023-01-09T23:59:59.999 == vol_threshold: 30341740.1
2024-12-13 00:56:57,674 - DEBUG - 2023-01-09T23:59:59.999 == all trade symbol 136 == remain 95 after VOL filter
2024-12-13 00:56:57,674 - DEBUG - sorted_long_factors: shape: (95, 4)
┌──────────────┬──────────────┬──────┬──────────────┐
│ symbol       ┆ factor_value ┆ rank ┆ reverse_rank │
│ ---          ┆ ---          ┆ ---  ┆ ---          │
│ str          ┆ f64          ┆ u32  ┆ u32          │
╞══════════════╪══════════════╪══════╪══════════════╡
│ APEUSDT      ┆ -0.917282    ┆ 0    ┆ 94           │
│ XRPUSDT      ┆ -0.821541    ┆ 1    ┆ 93           │
│ MATICUSDT    ┆ -0.774584    ┆ 2    ┆ 92           │
│ 1000LUNCUSDT ┆ -0.755402    ┆ 3    ┆ 91           │
│ APTUSDT      ┆ -0.747549    ┆ 4    ┆ 90           │
│ BANDUSDT     ┆ -0.721518    ┆ 5    ┆ 89           │
│ CRVUSDT      ┆ -0.693988    ┆ 6    ┆ 88           │
│ DOTUSDT      ┆ -0.6889      ┆ 7    ┆ 87           │
│ RLCUSDT      ┆ -0.670331    ┆ 8    ┆ 86           │
│ AXSUSDT      ┆ -0.655024    ┆ 9    ┆ 85           │
│ …            ┆ …            ┆ …    ┆ …            │
│ ANKRUSDT     ┆ 0.487853     ┆ 85   ┆ 9            │
│ FLMUSDT      ┆ 0.510635     ┆ 86   ┆ 8            │
│ IOTXUSDT     ┆ 0.533408     ┆ 87   ┆ 7            │
│ BAKEUSDT     ┆ 0.557822     ┆ 88   ┆ 6            │
│ 1000XECUSDT  ┆ 0.573644     ┆ 89   ┆ 5            │
│ CTSIUSDT     ┆ 0.604202     ┆ 90   ┆ 4            │
│ SKLUSDT      ┆ 0.618125     ┆ 91   ┆ 3            │
│ CELRUSDT     ┆ 0.751211     ┆ 92   ┆ 2            │
│ ARPAUSDT     ┆ 0.783745     ┆ 93   ┆ 1            │
│ DUSKUSDT     ┆ 1.234583     ┆ 94   ┆ 0            │
└──────────────┴──────────────┴──────┴──────────────┘
2024-12-13 00:56:57,681 - WARNING - 2023-01-09T23:59:59.999=====cur_long_scale: 1.2 not match == long_value_ratio: 1.0
2024-12-13 00:56:57,681 - INFO - cur close time: 2023-01-09T23:59:59.999 == long_value_ratio: 1.0 == short_value_ratio: 1.0 --- 1.2
2024-12-13 00:56:57,681 - DEBUG - mean expected ret (mean factor): -0.09148439632513077
2024-12-13 00:56:57,687 - DEBUG - begin to update pos: =========
2024-12-13 00:56:57,689 - DEBUG - next_step_value: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ i64     ┆ i64    ┆ i64     ┆ f64     │
│ i64         ┆ i64         ┆ f64         ┆ i64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0           ┆ 0           ┆ -10000.0    ┆ 0           ┆ … ┆ 0       ┆ 0      ┆ 0       ┆ 5000.0  │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:57,689 - DEBUG - all_open_price_when_open_pos: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ f64     ┆ f64    ┆ f64     ┆ f64     │
│ f64         ┆ f64         ┆ f64         ┆ f64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ null        ┆ null        ┆ 0.1694      ┆ null        ┆ … ┆ 0.0235  ┆ null   ┆ null    ┆ 0.1689  │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:57,694 - DEBUG - update position: 2023-01-09T23:59:59.999 === diff_trading_value: 200000.0 == cash: 99800.0 
2024-12-13 00:56:57,698 - DEBUG - cur time: 2023-01-10T23:59:59.999 == next bar open time: 2023-01-11T00:00:00.000 == close pos time: 2023-01-16T00:00:00.000
2024-12-13 00:56:57,700 - INFO - pnl: 2023-01-10T23:59:59.999 99157.09291581661 === -0.644%
2024-12-13 00:56:57,702 - DEBUG - cur time: 2023-01-11T23:59:59.999 == next bar open time: 2023-01-12T00:00:00.000 == close pos time: 2023-01-17T00:00:00.000
2024-12-13 00:56:57,704 - INFO - pnl: 2023-01-11T23:59:59.999 99601.81011335779 === 0.448%
2024-12-13 00:56:57,706 - DEBUG - cur time: 2023-01-12T23:59:59.999 == next bar open time: 2023-01-13T00:00:00.000 == close pos time: 2023-01-18T00:00:00.000
2024-12-13 00:56:57,708 - INFO - pnl: 2023-01-12T23:59:59.999 97873.25826847804 === -1.735%
2024-12-13 00:56:57,710 - DEBUG - cur time: 2023-01-13T23:59:59.999 == next bar open time: 2023-01-14T00:00:00.000 == close pos time: 2023-01-19T00:00:00.000
2024-12-13 00:56:57,710 - INFO - pnl: 2023-01-13T23:59:59.999 97024.05926807979 === -0.868%
2024-12-13 00:56:57,716 - DEBUG - cur time: 2023-01-14T23:59:59.999 == next bar open time: 2023-01-15T00:00:00.000 == close pos time: 2023-01-20T00:00:00.000
2024-12-13 00:56:57,724 - DEBUG - close time 2023-01-14T23:59:59.999 == vol_threshold: 49569117.0
2024-12-13 00:56:57,724 - DEBUG - 2023-01-14T23:59:59.999 == all trade symbol 136 == remain 95 after VOL filter
2024-12-13 00:56:57,726 - DEBUG - sorted_long_factors: shape: (95, 4)
┌──────────────┬──────────────┬──────┬──────────────┐
│ symbol       ┆ factor_value ┆ rank ┆ reverse_rank │
│ ---          ┆ ---          ┆ ---  ┆ ---          │
│ str          ┆ f64          ┆ u32  ┆ u32          │
╞══════════════╪══════════════╪══════╪══════════════╡
│ APTUSDT      ┆ -0.887431    ┆ 0    ┆ 94           │
│ BANDUSDT     ┆ -0.863605    ┆ 1    ┆ 93           │
│ DYDXUSDT     ┆ -0.785519    ┆ 2    ┆ 92           │
│ LUNA2USDT    ┆ -0.75403     ┆ 3    ┆ 91           │
│ 1000LUNCUSDT ┆ -0.703636    ┆ 4    ┆ 90           │
│ FILUSDT      ┆ -0.683456    ┆ 5    ┆ 89           │
│ DOTUSDT      ┆ -0.676706    ┆ 6    ┆ 88           │
│ MATICUSDT    ┆ -0.646604    ┆ 7    ┆ 87           │
│ OPUSDT       ┆ -0.638255    ┆ 8    ┆ 86           │
│ MASKUSDT     ┆ -0.637807    ┆ 9    ┆ 85           │
│ …            ┆ …            ┆ …    ┆ …            │
│ IOSTUSDT     ┆ 0.463612     ┆ 85   ┆ 9            │
│ SKLUSDT      ┆ 0.469601     ┆ 86   ┆ 8            │
│ CTSIUSDT     ┆ 0.488317     ┆ 87   ┆ 7            │
│ ICXUSDT      ┆ 0.583648     ┆ 88   ┆ 6            │
│ BLZUSDT      ┆ 0.614632     ┆ 89   ┆ 5            │
│ CHRUSDT      ┆ 0.633245     ┆ 90   ┆ 4            │
│ CELRUSDT     ┆ 0.663661     ┆ 91   ┆ 3            │
│ DUSKUSDT     ┆ 0.817616     ┆ 92   ┆ 2            │
│ ARPAUSDT     ┆ 0.873541     ┆ 93   ┆ 1            │
│ ONEUSDT      ┆ 0.913655     ┆ 94   ┆ 0            │
└──────────────┴──────────────┴──────┴──────────────┘
2024-12-13 00:56:57,731 - WARNING - 2023-01-14T23:59:59.999=====cur_long_scale: 1.2 not match == long_value_ratio: 1.0
2024-12-13 00:56:57,732 - INFO - cur close time: 2023-01-14T23:59:59.999 == long_value_ratio: 1.0 == short_value_ratio: 1.0 --- 1.2
2024-12-13 00:56:57,732 - DEBUG - mean expected ret (mean factor): -0.07472244552891892
2024-12-13 00:56:57,736 - DEBUG - begin to update pos: =========
2024-12-13 00:56:57,736 - DEBUG - next_step_value: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ i64     ┆ i64    ┆ i64     ┆ i64     │
│ i64         ┆ i64         ┆ f64         ┆ i64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0           ┆ 0           ┆ -10000.0    ┆ 0           ┆ … ┆ 0       ┆ 0      ┆ 0       ┆ 0       │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:57,737 - DEBUG - all_open_price_when_open_pos: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ f64     ┆ f64    ┆ f64     ┆ f64     │
│ f64         ┆ f64         ┆ f64         ┆ f64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ null        ┆ null        ┆ 0.1767      ┆ null        ┆ … ┆ 0.02658 ┆ null   ┆ null    ┆ 0.2054  │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:57,742 - DEBUG - update position: 2023-01-14T23:59:59.999 === diff_trading_value: 208913.18763155918 == cash: 96571.53844569411 
2024-12-13 00:56:57,745 - INFO - pnl: 2023-01-14T23:59:59.999 96571.53844569411 === -0.466%
2024-12-13 00:56:57,747 - DEBUG - cur time: 2023-01-15T23:59:59.999 == next bar open time: 2023-01-16T00:00:00.000 == close pos time: 2023-01-21T00:00:00.000
2024-12-13 00:56:57,750 - INFO - pnl: 2023-01-15T23:59:59.999 96044.39906257635 === -0.546%
2024-12-13 00:56:57,751 - DEBUG - cur time: 2023-01-16T23:59:59.999 == next bar open time: 2023-01-17T00:00:00.000 == close pos time: 2023-01-22T00:00:00.000
2024-12-13 00:56:57,755 - INFO - pnl: 2023-01-16T23:59:59.999 96338.85299841232 === 0.307%
2024-12-13 00:56:57,758 - DEBUG - cur time: 2023-01-17T23:59:59.999 == next bar open time: 2023-01-18T00:00:00.000 == close pos time: 2023-01-23T00:00:00.000
2024-12-13 00:56:57,759 - INFO - pnl: 2023-01-17T23:59:59.999 98803.66025394366 === 2.558%
2024-12-13 00:56:57,761 - DEBUG - cur time: 2023-01-18T23:59:59.999 == next bar open time: 2023-01-19T00:00:00.000 == close pos time: 2023-01-24T00:00:00.000
2024-12-13 00:56:57,763 - INFO - pnl: 2023-01-18T23:59:59.999 96451.72522896799 === -2.380%
2024-12-13 00:56:57,766 - DEBUG - cur time: 2023-01-19T23:59:59.999 == next bar open time: 2023-01-20T00:00:00.000 == close pos time: 2023-01-25T00:00:00.000
2024-12-13 00:56:57,773 - DEBUG - close time 2023-01-19T23:59:59.999 == vol_threshold: 18430261.0
2024-12-13 00:56:57,774 - DEBUG - 2023-01-19T23:59:59.999 == all trade symbol 136 == remain 95 after VOL filter
2024-12-13 00:56:57,774 - DEBUG - sorted_long_factors: shape: (95, 4)
┌──────────────┬──────────────┬──────┬──────────────┐
│ symbol       ┆ factor_value ┆ rank ┆ reverse_rank │
│ ---          ┆ ---          ┆ ---  ┆ ---          │
│ str          ┆ f64          ┆ u32  ┆ u32          │
╞══════════════╪══════════════╪══════╪══════════════╡
│ KAVAUSDT     ┆ -0.883256    ┆ 0    ┆ 94           │
│ DOTUSDT      ┆ -0.873451    ┆ 1    ┆ 93           │
│ FILUSDT      ┆ -0.867349    ┆ 2    ┆ 92           │
│ 1000LUNCUSDT ┆ -0.711686    ┆ 3    ┆ 91           │
│ SNXUSDT      ┆ -0.690425    ┆ 4    ┆ 90           │
│ GALUSDT      ┆ -0.659547    ┆ 5    ┆ 89           │
│ THETAUSDT    ┆ -0.657836    ┆ 6    ┆ 88           │
│ LDOUSDT      ┆ -0.647553    ┆ 7    ┆ 87           │
│ LITUSDT      ┆ -0.585966    ┆ 8    ┆ 86           │
│ MASKUSDT     ┆ -0.570653    ┆ 9    ┆ 85           │
│ …            ┆ …            ┆ …    ┆ …            │
│ ONEUSDT      ┆ 0.406226     ┆ 85   ┆ 9            │
│ BAKEUSDT     ┆ 0.41996      ┆ 86   ┆ 8            │
│ 1000XECUSDT  ┆ 0.423903     ┆ 87   ┆ 7            │
│ CTSIUSDT     ┆ 0.492863     ┆ 88   ┆ 6            │
│ CELRUSDT     ┆ 0.498985     ┆ 89   ┆ 5            │
│ RVNUSDT      ┆ 0.518352     ┆ 90   ┆ 4            │
│ DGBUSDT      ┆ 0.530333     ┆ 91   ┆ 3            │
│ FLMUSDT      ┆ 0.640288     ┆ 92   ┆ 2            │
│ TOMOUSDT     ┆ 1.008869     ┆ 93   ┆ 1            │
│ ARPAUSDT     ┆ 1.063324     ┆ 94   ┆ 0            │
└──────────────┴──────────────┴──────┴──────────────┘
2024-12-13 00:56:57,780 - WARNING - 2023-01-19T23:59:59.999=====cur_long_scale: 0.8 not match == long_value_ratio: 1.0
2024-12-13 00:56:57,780 - INFO - cur close time: 2023-01-19T23:59:59.999 == long_value_ratio: 1.0 == short_value_ratio: 1.0 --- 0.8
2024-12-13 00:56:57,780 - DEBUG - mean expected ret (mean factor): -0.07140917870726045
2024-12-13 00:56:57,785 - DEBUG - begin to update pos: =========
2024-12-13 00:56:57,785 - DEBUG - next_step_value: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ i64     ┆ i64    ┆ i64     ┆ i64     │
│ i64         ┆ i64         ┆ f64         ┆ i64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0           ┆ 0           ┆ -10000.0    ┆ 0           ┆ … ┆ 0       ┆ 0      ┆ 0       ┆ 0       │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:57,786 - DEBUG - all_open_price_when_open_pos: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ f64     ┆ f64    ┆ f64     ┆ f64     │
│ f64         ┆ f64         ┆ f64         ┆ f64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ null        ┆ null        ┆ 0.1738      ┆ null        ┆ … ┆ 0.02544 ┆ null   ┆ null    ┆ 0.2038  │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:57,791 - DEBUG - update position: 2023-01-19T23:59:59.999 === diff_trading_value: 202402.0797294082 == cash: 94648.35685092208 
2024-12-13 00:56:57,792 - INFO - pnl: 2023-01-19T23:59:59.999 94648.35685092208 === -1.870%
2024-12-13 00:56:57,795 - DEBUG - cur time: 2023-01-20T23:59:59.999 == next bar open time: 2023-01-21T00:00:00.000 == close pos time: 2023-01-26T00:00:00.000
2024-12-13 00:56:57,798 - INFO - pnl: 2023-01-20T23:59:59.999 92799.08384917297 === -1.954%
2024-12-13 00:56:57,799 - DEBUG - cur time: 2023-01-21T23:59:59.999 == next bar open time: 2023-01-22T00:00:00.000 == close pos time: 2023-01-27T00:00:00.000
2024-12-13 00:56:57,802 - INFO - pnl: 2023-01-21T23:59:59.999 93038.06553767361 === 0.258%
2024-12-13 00:56:57,805 - DEBUG - cur time: 2023-01-22T23:59:59.999 == next bar open time: 2023-01-23T00:00:00.000 == close pos time: 2023-01-28T00:00:00.000
2024-12-13 00:56:57,805 - INFO - pnl: 2023-01-22T23:59:59.999 93641.9608721438 === 0.649%
2024-12-13 00:56:57,808 - DEBUG - cur time: 2023-01-23T23:59:59.999 == next bar open time: 2023-01-24T00:00:00.000 == close pos time: 2023-01-29T00:00:00.000
2024-12-13 00:56:57,808 - INFO - pnl: 2023-01-23T23:59:59.999 96457.18167650866 === 3.006%
2024-12-13 00:56:57,812 - DEBUG - cur time: 2023-01-24T23:59:59.999 == next bar open time: 2023-01-25T00:00:00.000 == close pos time: 2023-01-30T00:00:00.000
2024-12-13 00:56:57,821 - DEBUG - close time 2023-01-24T23:59:59.999 == vol_threshold: 29321026.55
2024-12-13 00:56:57,821 - DEBUG - 2023-01-24T23:59:59.999 == all trade symbol 136 == remain 95 after VOL filter
2024-12-13 00:56:57,823 - DEBUG - sorted_long_factors: shape: (95, 4)
┌───────────┬──────────────┬──────┬──────────────┐
│ symbol    ┆ factor_value ┆ rank ┆ reverse_rank │
│ ---       ┆ ---          ┆ ---  ┆ ---          │
│ str       ┆ f64          ┆ u32  ┆ u32          │
╞═══════════╪══════════════╪══════╪══════════════╡
│ LDOUSDT   ┆ -0.914221    ┆ 0    ┆ 94           │
│ UNFIUSDT  ┆ -0.8432      ┆ 1    ┆ 93           │
│ ALPHAUSDT ┆ -0.821707    ┆ 2    ┆ 92           │
│ APEUSDT   ┆ -0.783209    ┆ 3    ┆ 91           │
│ GMTUSDT   ┆ -0.73211     ┆ 4    ┆ 90           │
│ OCEANUSDT ┆ -0.714778    ┆ 5    ┆ 89           │
│ ICXUSDT   ┆ -0.683516    ┆ 6    ┆ 88           │
│ LRCUSDT   ┆ -0.622048    ┆ 7    ┆ 87           │
│ LITUSDT   ┆ -0.613491    ┆ 8    ┆ 86           │
│ FTMUSDT   ┆ -0.611081    ┆ 9    ┆ 85           │
│ …         ┆ …            ┆ …    ┆ …            │
│ BATUSDT   ┆ 0.330346     ┆ 85   ┆ 9            │
│ CTSIUSDT  ┆ 0.341543     ┆ 86   ┆ 8            │
│ ONTUSDT   ┆ 0.346201     ┆ 87   ┆ 7            │
│ HBARUSDT  ┆ 0.351619     ┆ 88   ┆ 6            │
│ CELRUSDT  ┆ 0.392121     ┆ 89   ┆ 5            │
│ RVNUSDT   ┆ 0.468203     ┆ 90   ┆ 4            │
│ TOMOUSDT  ┆ 0.472555     ┆ 91   ┆ 3            │
│ DGBUSDT   ┆ 0.538706     ┆ 92   ┆ 2            │
│ SFPUSDT   ┆ 0.562345     ┆ 93   ┆ 1            │
│ ARPAUSDT  ┆ 0.888818     ┆ 94   ┆ 0            │
└───────────┴──────────────┴──────┴──────────────┘
2024-12-13 00:56:57,829 - WARNING - 2023-01-24T23:59:59.999=====cur_long_scale: 1.2 not match == long_value_ratio: 1.0
2024-12-13 00:56:57,829 - INFO - cur close time: 2023-01-24T23:59:59.999 == long_value_ratio: 1.0 == short_value_ratio: 1.0 --- 1.2
2024-12-13 00:56:57,829 - DEBUG - mean expected ret (mean factor): -0.15162406782552185
2024-12-13 00:56:57,833 - DEBUG - begin to update pos: =========
2024-12-13 00:56:57,833 - DEBUG - next_step_value: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ i64     ┆ i64    ┆ i64     ┆ i64     │
│ i64         ┆ i64         ┆ i64         ┆ i64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0           ┆ 0           ┆ 0           ┆ 0           ┆ … ┆ 0       ┆ 0      ┆ 0       ┆ 0       │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:57,833 - DEBUG - all_open_price_when_open_pos: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ f64     ┆ f64    ┆ f64     ┆ f64     │
│ f64         ┆ f64         ┆ f64         ┆ f64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ null        ┆ null        ┆ 0.17        ┆ null        ┆ … ┆ 0.027   ┆ null   ┆ null    ┆ 0.2174  │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:57,840 - DEBUG - update position: 2023-01-24T23:59:59.999 === diff_trading_value: 293448.6611826157 == cash: 99017.96941745856 
2024-12-13 00:56:57,841 - INFO - pnl: 2023-01-24T23:59:59.999 99017.96941745856 === 2.655%
2024-12-13 00:56:57,845 - DEBUG - cur time: 2023-01-25T23:59:59.999 == next bar open time: 2023-01-26T00:00:00.000 == close pos time: 2023-01-31T00:00:00.000
2024-12-13 00:56:57,847 - INFO - pnl: 2023-01-25T23:59:59.999 97506.28783161548 === -1.527%
2024-12-13 00:56:57,850 - DEBUG - cur time: 2023-01-26T23:59:59.999 == next bar open time: 2023-01-27T00:00:00.000 == close pos time: 2023-02-01T00:00:00.000
2024-12-13 00:56:57,850 - INFO - pnl: 2023-01-26T23:59:59.999 97163.64830711989 === -0.351%
2024-12-13 00:56:57,854 - DEBUG - cur time: 2023-01-27T23:59:59.999 == next bar open time: 2023-01-28T00:00:00.000 == close pos time: 2023-02-02T00:00:00.000
2024-12-13 00:56:57,854 - INFO - pnl: 2023-01-27T23:59:59.999 99780.29844226458 === 2.693%
2024-12-13 00:56:57,859 - DEBUG - cur time: 2023-01-28T23:59:59.999 == next bar open time: 2023-01-29T00:00:00.000 == close pos time: 2023-02-03T00:00:00.000
2024-12-13 00:56:57,860 - INFO - pnl: 2023-01-28T23:59:59.999 100095.96127376154 === 0.316%
2024-12-13 00:56:57,863 - DEBUG - cur time: 2023-01-29T23:59:59.999 == next bar open time: 2023-01-30T00:00:00.000 == close pos time: 2023-02-04T00:00:00.000
2024-12-13 00:56:57,872 - DEBUG - close time 2023-01-29T23:59:59.999 == vol_threshold: 17664567.5
2024-12-13 00:56:57,873 - DEBUG - 2023-01-29T23:59:59.999 == all trade symbol 136 == remain 95 after VOL filter
2024-12-13 00:56:57,874 - DEBUG - sorted_long_factors: shape: (95, 4)
┌──────────────┬──────────────┬──────┬──────────────┐
│ symbol       ┆ factor_value ┆ rank ┆ reverse_rank │
│ ---          ┆ ---          ┆ ---  ┆ ---          │
│ str          ┆ f64          ┆ u32  ┆ u32          │
╞══════════════╪══════════════╪══════╪══════════════╡
│ 1000LUNCUSDT ┆ -0.922668    ┆ 0    ┆ 94           │
│ LDOUSDT      ┆ -0.900094    ┆ 1    ┆ 93           │
│ WAVESUSDT    ┆ -0.838155    ┆ 2    ┆ 92           │
│ GALAUSDT     ┆ -0.819807    ┆ 3    ┆ 91           │
│ MANAUSDT     ┆ -0.763132    ┆ 4    ┆ 90           │
│ STGUSDT      ┆ -0.746226    ┆ 5    ┆ 89           │
│ AXSUSDT      ┆ -0.705785    ┆ 6    ┆ 88           │
│ RLCUSDT      ┆ -0.647039    ┆ 7    ┆ 87           │
│ DOGEUSDT     ┆ -0.590827    ┆ 8    ┆ 86           │
│ MASKUSDT     ┆ -0.590115    ┆ 9    ┆ 85           │
│ …            ┆ …            ┆ …    ┆ …            │
│ ONTUSDT      ┆ 0.430999     ┆ 85   ┆ 9            │
│ LINAUSDT     ┆ 0.448665     ┆ 86   ┆ 8            │
│ IOSTUSDT     ┆ 0.468207     ┆ 87   ┆ 7            │
│ BAKEUSDT     ┆ 0.472578     ┆ 88   ┆ 6            │
│ TOMOUSDT     ┆ 0.50192      ┆ 89   ┆ 5            │
│ DENTUSDT     ┆ 0.528461     ┆ 90   ┆ 4            │
│ 1000XECUSDT  ┆ 0.60995      ┆ 91   ┆ 3            │
│ BLZUSDT      ┆ 0.652446     ┆ 92   ┆ 2            │
│ ARPAUSDT     ┆ 0.813006     ┆ 93   ┆ 1            │
│ DGBUSDT      ┆ 0.825055     ┆ 94   ┆ 0            │
└──────────────┴──────────────┴──────┴──────────────┘
2024-12-13 00:56:57,878 - WARNING - 2023-01-29T23:59:59.999=====cur_long_scale: 1.2 not match == long_value_ratio: 1.0
2024-12-13 00:56:57,878 - INFO - cur close time: 2023-01-29T23:59:59.999 == long_value_ratio: 1.0 == short_value_ratio: 1.0 --- 1.2
2024-12-13 00:56:57,878 - DEBUG - mean expected ret (mean factor): -0.12096042670293244
2024-12-13 00:56:57,885 - DEBUG - begin to update pos: =========
2024-12-13 00:56:57,885 - DEBUG - next_step_value: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ i64     ┆ i64    ┆ i64     ┆ i64     │
│ i64         ┆ i64         ┆ f64         ┆ i64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0           ┆ 0           ┆ -10000.0    ┆ 0           ┆ … ┆ 0       ┆ 0      ┆ 0       ┆ 0       │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:57,885 - DEBUG - all_open_price_when_open_pos: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ f64     ┆ f64    ┆ f64     ┆ f64     │
│ f64         ┆ f64         ┆ f64         ┆ f64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ null        ┆ null        ┆ 0.1762      ┆ null        ┆ … ┆ 0.02958 ┆ null   ┆ null    ┆ 0.2355  │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:57,891 - DEBUG - update position: 2023-01-29T23:59:59.999 === diff_trading_value: 299763.09521154093 == cash: 100345.54699732261 
2024-12-13 00:56:57,891 - INFO - pnl: 2023-01-29T23:59:59.999 100345.54699732261 === 0.249%
2024-12-13 00:56:57,895 - DEBUG - cur time: 2023-01-30T23:59:59.999 == next bar open time: 2023-01-31T00:00:00.000 == close pos time: 2023-02-05T00:00:00.000
2024-12-13 00:56:57,897 - INFO - pnl: 2023-01-30T23:59:59.999 100491.55216736316 === 0.146%
2024-12-13 00:56:57,900 - DEBUG - cur time: 2023-01-31T23:59:59.999 == next bar open time: 2023-02-01T00:00:00.000 == close pos time: 2023-02-06T00:00:00.000
2024-12-13 00:56:57,900 - INFO - pnl: 2023-01-31T23:59:59.999 97269.13332928982 === -3.207%
2024-12-13 00:56:57,904 - DEBUG - cur time: 2023-02-01T23:59:59.999 == next bar open time: 2023-02-02T00:00:00.000 == close pos time: 2023-02-07T00:00:00.000
2024-12-13 00:56:57,908 - INFO - pnl: 2023-02-01T23:59:59.999 95146.524818998 === -2.182%
2024-12-13 00:56:57,910 - DEBUG - cur time: 2023-02-02T23:59:59.999 == next bar open time: 2023-02-03T00:00:00.000 == close pos time: 2023-02-08T00:00:00.000
2024-12-13 00:56:57,912 - INFO - pnl: 2023-02-02T23:59:59.999 99427.17679861381 === 4.499%
2024-12-13 00:56:57,916 - DEBUG - cur time: 2023-02-03T23:59:59.999 == next bar open time: 2023-02-04T00:00:00.000 == close pos time: 2023-02-09T00:00:00.000
2024-12-13 00:56:57,927 - DEBUG - close time 2023-02-03T23:59:59.999 == vol_threshold: 22038686.05
2024-12-13 00:56:57,927 - DEBUG - 2023-02-03T23:59:59.999 == all trade symbol 136 == remain 95 after VOL filter
2024-12-13 00:56:57,928 - DEBUG - sorted_long_factors: shape: (95, 4)
┌───────────┬──────────────┬──────┬──────────────┐
│ symbol    ┆ factor_value ┆ rank ┆ reverse_rank │
│ ---       ┆ ---          ┆ ---  ┆ ---          │
│ str       ┆ f64          ┆ u32  ┆ u32          │
╞═══════════╪══════════════╪══════╪══════════════╡
│ OPUSDT    ┆ -0.946184    ┆ 0    ┆ 94           │
│ DOTUSDT   ┆ -0.842771    ┆ 1    ┆ 93           │
│ APTUSDT   ┆ -0.754174    ┆ 2    ┆ 92           │
│ GMTUSDT   ┆ -0.707566    ┆ 3    ┆ 91           │
│ LUNA2USDT ┆ -0.706956    ┆ 4    ┆ 90           │
│ SUSHIUSDT ┆ -0.688479    ┆ 5    ┆ 89           │
│ LDOUSDT   ┆ -0.643115    ┆ 6    ┆ 88           │
│ FILUSDT   ┆ -0.63795     ┆ 7    ┆ 87           │
│ LITUSDT   ┆ -0.628107    ┆ 8    ┆ 86           │
│ SANDUSDT  ┆ -0.534331    ┆ 9    ┆ 85           │
│ …         ┆ …            ┆ …    ┆ …            │
│ BAKEUSDT  ┆ 0.353137     ┆ 85   ┆ 9            │
│ XEMUSDT   ┆ 0.388615     ┆ 86   ┆ 8            │
│ ONTUSDT   ┆ 0.439369     ┆ 87   ┆ 7            │
│ FLMUSDT   ┆ 0.475028     ┆ 88   ┆ 6            │
│ ARPAUSDT  ┆ 0.531748     ┆ 89   ┆ 5            │
│ DENTUSDT  ┆ 0.568442     ┆ 90   ┆ 4            │
│ IOSTUSDT  ┆ 0.571782     ┆ 91   ┆ 3            │
│ CTSIUSDT  ┆ 0.924505     ┆ 92   ┆ 2            │
│ TOMOUSDT  ┆ 1.061917     ┆ 93   ┆ 1            │
│ DGBUSDT   ┆ 1.177967     ┆ 94   ┆ 0            │
└───────────┴──────────────┴──────┴──────────────┘
2024-12-13 00:56:57,933 - WARNING - 2023-02-03T23:59:59.999=====cur_long_scale: 1.2 not match == long_value_ratio: 1.0
2024-12-13 00:56:57,933 - INFO - cur close time: 2023-02-03T23:59:59.999 == long_value_ratio: 1.0 == short_value_ratio: 1.0 --- 1.2
2024-12-13 00:56:57,933 - DEBUG - mean expected ret (mean factor): -0.05723353225082783
2024-12-13 00:56:57,937 - DEBUG - begin to update pos: =========
2024-12-13 00:56:57,937 - DEBUG - next_step_value: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ i64     ┆ i64    ┆ i64     ┆ i64     │
│ i64         ┆ i64         ┆ i64         ┆ i64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0           ┆ 0           ┆ 0           ┆ 0           ┆ … ┆ 0       ┆ 0      ┆ 0       ┆ 0       │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:57,941 - DEBUG - all_open_price_when_open_pos: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ f64     ┆ f64    ┆ f64     ┆ f64     │
│ f64         ┆ f64         ┆ f64         ┆ f64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ null        ┆ null        ┆ 0.2023      ┆ null        ┆ … ┆ 0.02982 ┆ null   ┆ null    ┆ 0.2561  │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:57,947 - DEBUG - update position: 2023-02-03T23:59:59.999 === diff_trading_value: 284658.0455869723 == cash: 96932.25207544828 
2024-12-13 00:56:57,947 - INFO - pnl: 2023-02-03T23:59:59.999 96932.25207544828 === -2.509%
2024-12-13 00:56:57,952 - DEBUG - cur time: 2023-02-04T23:59:59.999 == next bar open time: 2023-02-05T00:00:00.000 == close pos time: 2023-02-10T00:00:00.000
2024-12-13 00:56:57,953 - INFO - pnl: 2023-02-04T23:59:59.999 100936.56666844373 === 4.131%
2024-12-13 00:56:57,957 - DEBUG - cur time: 2023-02-05T23:59:59.999 == next bar open time: 2023-02-06T00:00:00.000 == close pos time: 2023-02-11T00:00:00.000
2024-12-13 00:56:57,958 - INFO - pnl: 2023-02-05T23:59:59.999 102967.00785111063 === 2.012%
2024-12-13 00:56:57,958 - DEBUG - cur time: 2023-02-06T23:59:59.999 == next bar open time: 2023-02-07T00:00:00.000 == close pos time: 2023-02-12T00:00:00.000
2024-12-13 00:56:57,962 - INFO - pnl: 2023-02-06T23:59:59.999 103461.72150939034 === 0.480%
2024-12-13 00:56:57,967 - DEBUG - cur time: 2023-02-07T23:59:59.999 == next bar open time: 2023-02-08T00:00:00.000 == close pos time: 2023-02-13T00:00:00.000
2024-12-13 00:56:57,969 - INFO - pnl: 2023-02-07T23:59:59.999 103512.92773812207 === 0.049%
2024-12-13 00:56:57,973 - DEBUG - cur time: 2023-02-08T23:59:59.999 == next bar open time: 2023-02-09T00:00:00.000 == close pos time: 2023-02-14T00:00:00.000
2024-12-13 00:56:57,983 - DEBUG - close time 2023-02-08T23:59:59.999 == vol_threshold: 26802632.549999997
2024-12-13 00:56:57,983 - DEBUG - 2023-02-08T23:59:59.999 == all trade symbol 136 == remain 95 after VOL filter
2024-12-13 00:56:57,983 - DEBUG - sorted_long_factors: shape: (95, 4)
┌───────────┬──────────────┬──────┬──────────────┐
│ symbol    ┆ factor_value ┆ rank ┆ reverse_rank │
│ ---       ┆ ---          ┆ ---  ┆ ---          │
│ str       ┆ f64          ┆ u32  ┆ u32          │
╞═══════════╪══════════════╪══════╪══════════════╡
│ APTUSDT   ┆ -1.060664    ┆ 0    ┆ 94           │
│ STGUSDT   ┆ -0.894947    ┆ 1    ┆ 93           │
│ LDOUSDT   ┆ -0.84209     ┆ 2    ┆ 92           │
│ NEARUSDT  ┆ -0.772374    ┆ 3    ┆ 91           │
│ MATICUSDT ┆ -0.758288    ┆ 4    ┆ 90           │
│ OCEANUSDT ┆ -0.733528    ┆ 5    ┆ 89           │
│ AXSUSDT   ┆ -0.729229    ┆ 6    ┆ 88           │
│ CRVUSDT   ┆ -0.693999    ┆ 7    ┆ 87           │
│ TRXUSDT   ┆ -0.600506    ┆ 8    ┆ 86           │
│ WOOUSDT   ┆ -0.565397    ┆ 9    ┆ 85           │
│ …         ┆ …            ┆ …    ┆ …            │
│ SXPUSDT   ┆ 0.352685     ┆ 85   ┆ 9            │
│ TOMOUSDT  ┆ 0.409145     ┆ 86   ┆ 8            │
│ XEMUSDT   ┆ 0.421579     ┆ 87   ┆ 7            │
│ CTSIUSDT  ┆ 0.431751     ┆ 88   ┆ 6            │
│ OGNUSDT   ┆ 0.443421     ┆ 89   ┆ 5            │
│ LINAUSDT  ┆ 0.475825     ┆ 90   ┆ 4            │
│ DUSKUSDT  ┆ 0.532877     ┆ 91   ┆ 3            │
│ SKLUSDT   ┆ 0.63465      ┆ 92   ┆ 2            │
│ FLMUSDT   ┆ 0.680415     ┆ 93   ┆ 1            │
│ DGBUSDT   ┆ 1.332131     ┆ 94   ┆ 0            │
└───────────┴──────────────┴──────┴──────────────┘
2024-12-13 00:56:57,996 - INFO - cur close time: 2023-02-08T23:59:59.999 == long_value_ratio: 1.0 == short_value_ratio: 1.0 --- 1.0
2024-12-13 00:56:57,996 - DEBUG - mean expected ret (mean factor): -0.10389675618826136
2024-12-13 00:56:58,004 - DEBUG - begin to update pos: =========
2024-12-13 00:56:58,004 - DEBUG - next_step_value: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ i64     ┆ i64    ┆ i64     ┆ i64     │
│ i64         ┆ i64         ┆ i64         ┆ i64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0           ┆ 0           ┆ 0           ┆ 0           ┆ … ┆ 0       ┆ 0      ┆ 0       ┆ 0       │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:58,007 - DEBUG - all_open_price_when_open_pos: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ f64     ┆ f64    ┆ f64     ┆ f64     │
│ f64         ┆ f64         ┆ f64         ┆ f64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ null        ┆ null        ┆ 0.1809      ┆ null        ┆ … ┆ 0.03077 ┆ null   ┆ null    ┆ 0.2555  │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:58,024 - DEBUG - update position: 2023-02-08T23:59:59.999 === diff_trading_value: 246311.25477525903 == cash: 103496.19785687092 
2024-12-13 00:56:58,027 - INFO - pnl: 2023-02-08T23:59:59.999 103496.19785687092 === -0.016%
2024-12-13 00:56:58,032 - DEBUG - cur time: 2023-02-09T23:59:59.999 == next bar open time: 2023-02-10T00:00:00.000 == close pos time: 2023-02-15T00:00:00.000
2024-12-13 00:56:58,038 - INFO - pnl: 2023-02-09T23:59:59.999 102870.26787529742 === -0.605%
2024-12-13 00:56:58,044 - DEBUG - cur time: 2023-02-10T23:59:59.999 == next bar open time: 2023-02-11T00:00:00.000 == close pos time: 2023-02-16T00:00:00.000
2024-12-13 00:56:58,047 - INFO - pnl: 2023-02-10T23:59:59.999 108815.65308345709 === 5.779%
2024-12-13 00:56:58,054 - DEBUG - cur time: 2023-02-11T23:59:59.999 == next bar open time: 2023-02-12T00:00:00.000 == close pos time: 2023-02-17T00:00:00.000
2024-12-13 00:56:58,054 - INFO - pnl: 2023-02-11T23:59:59.999 111847.82300816753 === 2.787%
2024-12-13 00:56:58,060 - DEBUG - cur time: 2023-02-12T23:59:59.999 == next bar open time: 2023-02-13T00:00:00.000 == close pos time: 2023-02-18T00:00:00.000
2024-12-13 00:56:58,062 - INFO - pnl: 2023-02-12T23:59:59.999 113813.54228020036 === 1.757%
2024-12-13 00:56:58,065 - DEBUG - cur time: 2023-02-13T23:59:59.999 == next bar open time: 2023-02-14T00:00:00.000 == close pos time: 2023-02-19T00:00:00.000
2024-12-13 00:56:58,074 - DEBUG - close time 2023-02-13T23:59:59.999 == vol_threshold: 19371326.5
2024-12-13 00:56:58,077 - DEBUG - 2023-02-13T23:59:59.999 == all trade symbol 136 == remain 95 after VOL filter
2024-12-13 00:56:58,078 - DEBUG - sorted_long_factors: shape: (95, 4)
┌──────────────┬──────────────┬──────┬──────────────┐
│ symbol       ┆ factor_value ┆ rank ┆ reverse_rank │
│ ---          ┆ ---          ┆ ---  ┆ ---          │
│ str          ┆ f64          ┆ u32  ┆ u32          │
╞══════════════╪══════════════╪══════╪══════════════╡
│ LDOUSDT      ┆ -0.98753     ┆ 0    ┆ 94           │
│ LITUSDT      ┆ -0.809669    ┆ 1    ┆ 93           │
│ TRXUSDT      ┆ -0.776827    ┆ 2    ┆ 92           │
│ 1000LUNCUSDT ┆ -0.774943    ┆ 3    ┆ 91           │
│ NEARUSDT     ┆ -0.762139    ┆ 4    ┆ 90           │
│ STGUSDT      ┆ -0.761142    ┆ 5    ┆ 89           │
│ SNXUSDT      ┆ -0.690434    ┆ 6    ┆ 88           │
│ STORJUSDT    ┆ -0.669786    ┆ 7    ┆ 87           │
│ MASKUSDT     ┆ -0.584202    ┆ 8    ┆ 86           │
│ MTLUSDT      ┆ -0.538904    ┆ 9    ┆ 85           │
│ …            ┆ …            ┆ …    ┆ …            │
│ FLMUSDT      ┆ 0.392148     ┆ 85   ┆ 9            │
│ 1000XECUSDT  ┆ 0.418729     ┆ 86   ┆ 8            │
│ NKNUSDT      ┆ 0.424186     ┆ 87   ┆ 7            │
│ TOMOUSDT     ┆ 0.468706     ┆ 88   ┆ 6            │
│ CTSIUSDT     ┆ 0.472145     ┆ 89   ┆ 5            │
│ DENTUSDT     ┆ 0.554754     ┆ 90   ┆ 4            │
│ CELRUSDT     ┆ 0.590074     ┆ 91   ┆ 3            │
│ LINAUSDT     ┆ 0.747712     ┆ 92   ┆ 2            │
│ SKLUSDT      ┆ 0.823221     ┆ 93   ┆ 1            │
│ DGBUSDT      ┆ 1.436588     ┆ 94   ┆ 0            │
└──────────────┴──────────────┴──────┴──────────────┘
2024-12-13 00:56:58,088 - WARNING - 2023-02-13T23:59:59.999=====cur_long_scale: 0.8 not match == long_value_ratio: 1.0
2024-12-13 00:56:58,088 - INFO - cur close time: 2023-02-13T23:59:59.999 == long_value_ratio: 1.0 == short_value_ratio: 1.0 --- 0.8
2024-12-13 00:56:58,088 - DEBUG - mean expected ret (mean factor): -0.10451378078504968
2024-12-13 00:56:58,095 - DEBUG - begin to update pos: =========
2024-12-13 00:56:58,095 - DEBUG - next_step_value: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ i64     ┆ i64    ┆ i64     ┆ i64     │
│ i64         ┆ i64         ┆ f64         ┆ i64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0           ┆ 0           ┆ -10000.0    ┆ 0           ┆ … ┆ 0       ┆ 0      ┆ 0       ┆ 0       │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:58,095 - DEBUG - all_open_price_when_open_pos: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ f64     ┆ f64    ┆ f64     ┆ f64     │
│ f64         ┆ f64         ┆ f64         ┆ f64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ null        ┆ null        ┆ 0.1697      ┆ null        ┆ … ┆ 0.02913 ┆ null   ┆ null    ┆ 0.2244  │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:58,106 - DEBUG - update position: 2023-02-13T23:59:59.999 === diff_trading_value: 204073.7655104273 == cash: 110333.5096711724 
2024-12-13 00:56:58,108 - INFO - pnl: 2023-02-13T23:59:59.999 110333.5096711724 === -3.058%
2024-12-13 00:56:58,112 - DEBUG - cur time: 2023-02-14T23:59:59.999 == next bar open time: 2023-02-15T00:00:00.000 == close pos time: 2023-02-20T00:00:00.000
2024-12-13 00:56:58,116 - INFO - pnl: 2023-02-14T23:59:59.999 110770.30258383369 === 0.396%
2024-12-13 00:56:58,121 - DEBUG - cur time: 2023-02-15T23:59:59.999 == next bar open time: 2023-02-16T00:00:00.000 == close pos time: 2023-02-21T00:00:00.000
2024-12-13 00:56:58,122 - INFO - pnl: 2023-02-15T23:59:59.999 107099.90986751618 === -3.314%
2024-12-13 00:56:58,125 - DEBUG - cur time: 2023-02-16T23:59:59.999 == next bar open time: 2023-02-17T00:00:00.000 == close pos time: 2023-02-22T00:00:00.000
2024-12-13 00:56:58,127 - INFO - pnl: 2023-02-16T23:59:59.999 106789.75790067518 === -0.290%
2024-12-13 00:56:58,132 - DEBUG - cur time: 2023-02-17T23:59:59.999 == next bar open time: 2023-02-18T00:00:00.000 == close pos time: 2023-02-23T00:00:00.000
2024-12-13 00:56:58,134 - INFO - pnl: 2023-02-17T23:59:59.999 106506.5843883164 === -0.265%
2024-12-13 00:56:58,137 - DEBUG - cur time: 2023-02-18T23:59:59.999 == next bar open time: 2023-02-19T00:00:00.000 == close pos time: 2023-02-24T00:00:00.000
2024-12-13 00:56:58,150 - DEBUG - close time 2023-02-18T23:59:59.999 == vol_threshold: 18561809.25
2024-12-13 00:56:58,150 - DEBUG - 2023-02-18T23:59:59.999 == all trade symbol 136 == remain 95 after VOL filter
2024-12-13 00:56:58,150 - DEBUG - sorted_long_factors: shape: (95, 4)
┌──────────────┬──────────────┬──────┬──────────────┐
│ symbol       ┆ factor_value ┆ rank ┆ reverse_rank │
│ ---          ┆ ---          ┆ ---  ┆ ---          │
│ str          ┆ f64          ┆ u32  ┆ u32          │
╞══════════════╪══════════════╪══════╪══════════════╡
│ INJUSDT      ┆ -1.071631    ┆ 0    ┆ 94           │
│ STGUSDT      ┆ -0.790716    ┆ 1    ┆ 93           │
│ GTCUSDT      ┆ -0.737281    ┆ 2    ┆ 92           │
│ NEARUSDT     ┆ -0.726462    ┆ 3    ┆ 91           │
│ LITUSDT      ┆ -0.675731    ┆ 4    ┆ 90           │
│ LDOUSDT      ┆ -0.670753    ┆ 5    ┆ 89           │
│ 1000LUNCUSDT ┆ -0.646506    ┆ 6    ┆ 88           │
│ SANDUSDT     ┆ -0.538376    ┆ 7    ┆ 87           │
│ EOSUSDT      ┆ -0.49853     ┆ 8    ┆ 86           │
│ BANDUSDT     ┆ -0.492669    ┆ 9    ┆ 85           │
│ …            ┆ …            ┆ …    ┆ …            │
│ XEMUSDT      ┆ 0.431491     ┆ 85   ┆ 9            │
│ IOSTUSDT     ┆ 0.461311     ┆ 86   ┆ 8            │
│ VETUSDT      ┆ 0.476279     ┆ 87   ┆ 7            │
│ HOTUSDT      ┆ 0.502937     ┆ 88   ┆ 6            │
│ ZRXUSDT      ┆ 0.522338     ┆ 89   ┆ 5            │
│ ARPAUSDT     ┆ 0.566167     ┆ 90   ┆ 4            │
│ CTSIUSDT     ┆ 0.647701     ┆ 91   ┆ 3            │
│ LINAUSDT     ┆ 0.698982     ┆ 92   ┆ 2            │
│ DGBUSDT      ┆ 0.890005     ┆ 93   ┆ 1            │
│ 1000XECUSDT  ┆ 1.044507     ┆ 94   ┆ 0            │
└──────────────┴──────────────┴──────┴──────────────┘
2024-12-13 00:56:58,158 - WARNING - 2023-02-18T23:59:59.999=====cur_long_scale: 1.2 not match == long_value_ratio: 1.0
2024-12-13 00:56:58,159 - INFO - cur close time: 2023-02-18T23:59:59.999 == long_value_ratio: 1.0 == short_value_ratio: 1.0 --- 1.2
2024-12-13 00:56:58,159 - DEBUG - mean expected ret (mean factor): -0.04586019620524267
2024-12-13 00:56:58,164 - DEBUG - begin to update pos: =========
2024-12-13 00:56:58,165 - DEBUG - next_step_value: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ i64     ┆ i64    ┆ i64     ┆ f64     │
│ i64         ┆ i64         ┆ f64         ┆ i64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0           ┆ 0           ┆ -10000.0    ┆ 0           ┆ … ┆ 0       ┆ 0      ┆ 0       ┆ 5000.0  │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:58,165 - DEBUG - all_open_price_when_open_pos: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ f64     ┆ f64    ┆ f64     ┆ f64     │
│ f64         ┆ f64         ┆ f64         ┆ f64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ null        ┆ null        ┆ 0.1721      ┆ null        ┆ … ┆ 0.03266 ┆ null   ┆ null    ┆ 0.2592  │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:58,171 - DEBUG - update position: 2023-02-18T23:59:59.999 === diff_trading_value: 218888.95908575848 == cash: 104338.39172447576 
2024-12-13 00:56:58,173 - INFO - pnl: 2023-02-18T23:59:59.999 104338.39172447576 === -2.036%
2024-12-13 00:56:58,174 - DEBUG - cur time: 2023-02-19T23:59:59.999 == next bar open time: 2023-02-20T00:00:00.000 == close pos time: 2023-02-25T00:00:00.000
2024-12-13 00:56:58,174 - INFO - pnl: 2023-02-19T23:59:59.999 106570.07531558057 === 2.139%
2024-12-13 00:56:58,177 - DEBUG - cur time: 2023-02-20T23:59:59.999 == next bar open time: 2023-02-21T00:00:00.000 == close pos time: 2023-02-26T00:00:00.000
2024-12-13 00:56:58,181 - INFO - pnl: 2023-02-20T23:59:59.999 110420.41790372394 === 3.613%
2024-12-13 00:56:58,181 - DEBUG - cur time: 2023-02-21T23:59:59.999 == next bar open time: 2023-02-22T00:00:00.000 == close pos time: 2023-02-27T00:00:00.000
2024-12-13 00:56:58,181 - INFO - pnl: 2023-02-21T23:59:59.999 115196.97500289541 === 4.326%
2024-12-13 00:56:58,187 - DEBUG - cur time: 2023-02-22T23:59:59.999 == next bar open time: 2023-02-23T00:00:00.000 == close pos time: 2023-02-28T00:00:00.000
2024-12-13 00:56:58,187 - INFO - pnl: 2023-02-22T23:59:59.999 115153.27422588083 === -0.038%
2024-12-13 00:56:58,191 - DEBUG - cur time: 2023-02-23T23:59:59.999 == next bar open time: 2023-02-24T00:00:00.000 == close pos time: 2023-03-01T00:00:00.000
2024-12-13 00:56:58,200 - DEBUG - close time 2023-02-23T23:59:59.999 == vol_threshold: 16716903.0
2024-12-13 00:56:58,200 - DEBUG - 2023-02-23T23:59:59.999 == all trade symbol 136 == remain 95 after VOL filter
2024-12-13 00:56:58,202 - DEBUG - sorted_long_factors: shape: (95, 4)
┌──────────────┬──────────────┬──────┬──────────────┐
│ symbol       ┆ factor_value ┆ rank ┆ reverse_rank │
│ ---          ┆ ---          ┆ ---  ┆ ---          │
│ str          ┆ f64          ┆ u32  ┆ u32          │
╞══════════════╪══════════════╪══════╪══════════════╡
│ APTUSDT      ┆ -0.888219    ┆ 0    ┆ 94           │
│ OPUSDT       ┆ -0.661938    ┆ 1    ┆ 93           │
│ STGUSDT      ┆ -0.634785    ┆ 2    ┆ 92           │
│ WAVESUSDT    ┆ -0.584247    ┆ 3    ┆ 91           │
│ IMXUSDT      ┆ -0.581688    ┆ 4    ┆ 90           │
│ MASKUSDT     ┆ -0.496262    ┆ 5    ┆ 89           │
│ DUSKUSDT     ┆ -0.49188     ┆ 6    ┆ 88           │
│ 1000SHIBUSDT ┆ -0.408734    ┆ 7    ┆ 87           │
│ LDOUSDT      ┆ -0.407068    ┆ 8    ┆ 86           │
│ STORJUSDT    ┆ -0.406961    ┆ 9    ┆ 85           │
│ …            ┆ …            ┆ …    ┆ …            │
│ ICXUSDT      ┆ 0.373551     ┆ 85   ┆ 9            │
│ OGNUSDT      ┆ 0.417961     ┆ 86   ┆ 8            │
│ FLMUSDT      ┆ 0.419081     ┆ 87   ┆ 7            │
│ DENTUSDT     ┆ 0.423402     ┆ 88   ┆ 6            │
│ COTIUSDT     ┆ 0.433692     ┆ 89   ┆ 5            │
│ DGBUSDT      ┆ 0.434646     ┆ 90   ┆ 4            │
│ IOTXUSDT     ┆ 0.472039     ┆ 91   ┆ 3            │
│ 1000XECUSDT  ┆ 0.507174     ┆ 92   ┆ 2            │
│ DARUSDT      ┆ 0.529385     ┆ 93   ┆ 1            │
│ IOSTUSDT     ┆ 0.589696     ┆ 94   ┆ 0            │
└──────────────┴──────────────┴──────┴──────────────┘
2024-12-13 00:56:58,209 - WARNING - 2023-02-23T23:59:59.999=====cur_long_scale: 1.2 not match == long_value_ratio: 1.0
2024-12-13 00:56:58,209 - INFO - cur close time: 2023-02-23T23:59:59.999 == long_value_ratio: 1.0 == short_value_ratio: 1.0 --- 1.2
2024-12-13 00:56:58,209 - DEBUG - mean expected ret (mean factor): -0.076175533782445
2024-12-13 00:56:58,214 - DEBUG - begin to update pos: =========
2024-12-13 00:56:58,214 - DEBUG - next_step_value: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ i64     ┆ i64    ┆ i64     ┆ i64     │
│ i64         ┆ i64         ┆ i64         ┆ i64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0           ┆ 0           ┆ 0           ┆ 0           ┆ … ┆ 0       ┆ 0      ┆ 0       ┆ 0       │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:58,214 - DEBUG - all_open_price_when_open_pos: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ f64     ┆ f64    ┆ f64     ┆ f64     │
│ f64         ┆ f64         ┆ f64         ┆ f64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ null        ┆ null        ┆ 0.163       ┆ null        ┆ … ┆ 0.03538 ┆ null   ┆ null    ┆ 0.2776  │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:58,222 - DEBUG - update position: 2023-02-23T23:59:59.999 === diff_trading_value: 246619.21868503978 == cash: 114425.14203811277 
2024-12-13 00:56:58,224 - INFO - pnl: 2023-02-23T23:59:59.999 114425.14203811277 === -0.632%
2024-12-13 00:56:58,228 - DEBUG - cur time: 2023-02-24T23:59:59.999 == next bar open time: 2023-02-25T00:00:00.000 == close pos time: 2023-03-02T00:00:00.000
2024-12-13 00:56:58,228 - INFO - pnl: 2023-02-24T23:59:59.999 113860.95722314662 === -0.493%
2024-12-13 00:56:58,232 - DEBUG - cur time: 2023-02-25T23:59:59.999 == next bar open time: 2023-02-26T00:00:00.000 == close pos time: 2023-03-03T00:00:00.000
2024-12-13 00:56:58,232 - INFO - pnl: 2023-02-25T23:59:59.999 114353.68545155505 === 0.433%
2024-12-13 00:56:58,237 - DEBUG - cur time: 2023-02-26T23:59:59.999 == next bar open time: 2023-02-27T00:00:00.000 == close pos time: 2023-03-04T00:00:00.000
2024-12-13 00:56:58,237 - INFO - pnl: 2023-02-26T23:59:59.999 111937.39698651573 === -2.113%
2024-12-13 00:56:58,241 - DEBUG - cur time: 2023-02-27T23:59:59.999 == next bar open time: 2023-02-28T00:00:00.000 == close pos time: 2023-03-05T00:00:00.000
2024-12-13 00:56:58,243 - INFO - pnl: 2023-02-27T23:59:59.999 113967.1265386435 === 1.813%
2024-12-13 00:56:58,247 - DEBUG - cur time: 2023-02-28T23:59:59.999 == next bar open time: 2023-03-01T00:00:00.000 == close pos time: 2023-03-06T00:00:00.000
2024-12-13 00:56:58,257 - DEBUG - close time 2023-02-28T23:59:59.999 == vol_threshold: 12408667.15
2024-12-13 00:56:58,257 - DEBUG - 2023-02-28T23:59:59.999 == all trade symbol 136 == remain 95 after VOL filter
2024-12-13 00:56:58,257 - DEBUG - sorted_long_factors: shape: (95, 4)
┌─────────────┬──────────────┬──────┬──────────────┐
│ symbol      ┆ factor_value ┆ rank ┆ reverse_rank │
│ ---         ┆ ---          ┆ ---  ┆ ---          │
│ str         ┆ f64          ┆ u32  ┆ u32          │
╞═════════════╪══════════════╪══════╪══════════════╡
│ LDOUSDT     ┆ -0.808396    ┆ 0    ┆ 94           │
│ FILUSDT     ┆ -0.78445     ┆ 1    ┆ 93           │
│ EOSUSDT     ┆ -0.650431    ┆ 2    ┆ 92           │
│ DOTUSDT     ┆ -0.645701    ┆ 3    ┆ 91           │
│ BELUSDT     ┆ -0.622253    ┆ 4    ┆ 90           │
│ MASKUSDT    ┆ -0.573047    ┆ 5    ┆ 89           │
│ STGUSDT     ┆ -0.566975    ┆ 6    ┆ 88           │
│ SANDUSDT    ┆ -0.526162    ┆ 7    ┆ 87           │
│ NEARUSDT    ┆ -0.457996    ┆ 8    ┆ 86           │
│ DUSKUSDT    ┆ -0.447713    ┆ 9    ┆ 85           │
│ …           ┆ …            ┆ …    ┆ …            │
│ STMXUSDT    ┆ 0.446792     ┆ 85   ┆ 9            │
│ ONEUSDT     ┆ 0.508597     ┆ 86   ┆ 8            │
│ SPELLUSDT   ┆ 0.515992     ┆ 87   ┆ 7            │
│ IOTAUSDT    ┆ 0.524739     ┆ 88   ┆ 6            │
│ ZRXUSDT     ┆ 0.548437     ┆ 89   ┆ 5            │
│ CTSIUSDT    ┆ 0.581495     ┆ 90   ┆ 4            │
│ DGBUSDT     ┆ 0.624816     ┆ 91   ┆ 3            │
│ KNCUSDT     ┆ 0.668069     ┆ 92   ┆ 2            │
│ 1000XECUSDT ┆ 0.759275     ┆ 93   ┆ 1            │
│ DARUSDT     ┆ 0.898978     ┆ 94   ┆ 0            │
└─────────────┴──────────────┴──────┴──────────────┘
2024-12-13 00:56:58,261 - WARNING - 2023-02-28T23:59:59.999=====cur_long_scale: 0.8 not match == long_value_ratio: 1.0
2024-12-13 00:56:58,261 - INFO - cur close time: 2023-02-28T23:59:59.999 == long_value_ratio: 1.0 == short_value_ratio: 1.0 --- 0.8
2024-12-13 00:56:58,261 - DEBUG - mean expected ret (mean factor): -0.0550414512248985
2024-12-13 00:56:58,269 - DEBUG - begin to update pos: =========
2024-12-13 00:56:58,269 - DEBUG - next_step_value: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ i64     ┆ i64    ┆ i64     ┆ f64     │
│ i64         ┆ i64         ┆ i64         ┆ i64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0           ┆ 0           ┆ 0           ┆ 0           ┆ … ┆ 0       ┆ 0      ┆ 0       ┆ 5000.0  │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:58,269 - DEBUG - all_open_price_when_open_pos: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ f64     ┆ f64    ┆ f64     ┆ f64     │
│ f64         ┆ f64         ┆ f64         ┆ f64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ null        ┆ null        ┆ 0.1638      ┆ null        ┆ … ┆ 0.03117 ┆ null   ┆ null    ┆ 0.2545  │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:58,276 - DEBUG - update position: 2023-02-28T23:59:59.999 === diff_trading_value: 218785.47388828226 == cash: 111923.5765385463 
2024-12-13 00:56:58,279 - INFO - pnl: 2023-02-28T23:59:59.999 111923.5765385463 === -1.793%
2024-12-13 00:56:58,283 - DEBUG - cur time: 2023-03-01T23:59:59.999 == next bar open time: 2023-03-02T00:00:00.000 == close pos time: 2023-03-07T00:00:00.000
2024-12-13 00:56:58,286 - INFO - pnl: 2023-03-01T23:59:59.999 111970.26863966502 === 0.042%
2024-12-13 00:56:58,290 - DEBUG - cur time: 2023-03-02T23:59:59.999 == next bar open time: 2023-03-03T00:00:00.000 == close pos time: 2023-03-08T00:00:00.000
2024-12-13 00:56:58,292 - INFO - pnl: 2023-03-02T23:59:59.999 112810.86540009608 === 0.751%
2024-12-13 00:56:58,296 - DEBUG - cur time: 2023-03-03T23:59:59.999 == next bar open time: 2023-03-04T00:00:00.000 == close pos time: 2023-03-09T00:00:00.000
2024-12-13 00:56:58,298 - INFO - pnl: 2023-03-03T23:59:59.999 111070.99454497363 === -1.542%
2024-12-13 00:56:58,302 - DEBUG - cur time: 2023-03-04T23:59:59.999 == next bar open time: 2023-03-05T00:00:00.000 == close pos time: 2023-03-10T00:00:00.000
2024-12-13 00:56:58,304 - INFO - pnl: 2023-03-04T23:59:59.999 113675.06252873369 === 2.345%
2024-12-13 00:56:58,309 - DEBUG - cur time: 2023-03-05T23:59:59.999 == next bar open time: 2023-03-06T00:00:00.000 == close pos time: 2023-03-11T00:00:00.000
2024-12-13 00:56:58,324 - DEBUG - close time 2023-03-05T23:59:59.999 == vol_threshold: 11710348.555
2024-12-13 00:56:58,325 - DEBUG - 2023-03-05T23:59:59.999 == all trade symbol 136 == remain 95 after VOL filter
2024-12-13 00:56:58,327 - DEBUG - sorted_long_factors: shape: (95, 4)
┌─────────────┬──────────────┬──────┬──────────────┐
│ symbol      ┆ factor_value ┆ rank ┆ reverse_rank │
│ ---         ┆ ---          ┆ ---  ┆ ---          │
│ str         ┆ f64          ┆ u32  ┆ u32          │
╞═════════════╪══════════════╪══════╪══════════════╡
│ NEOUSDT     ┆ -0.938399    ┆ 0    ┆ 94           │
│ FILUSDT     ┆ -0.920001    ┆ 1    ┆ 93           │
│ EOSUSDT     ┆ -0.886375    ┆ 2    ┆ 92           │
│ OPUSDT      ┆ -0.883075    ┆ 3    ┆ 91           │
│ IMXUSDT     ┆ -0.803935    ┆ 4    ┆ 90           │
│ CRVUSDT     ┆ -0.707759    ┆ 5    ┆ 89           │
│ DOTUSDT     ┆ -0.610502    ┆ 6    ┆ 88           │
│ MASKUSDT    ┆ -0.609334    ┆ 7    ┆ 87           │
│ SNXUSDT     ┆ -0.590186    ┆ 8    ┆ 86           │
│ ANKRUSDT    ┆ -0.589165    ┆ 9    ┆ 85           │
│ …           ┆ …            ┆ …    ┆ …            │
│ RVNUSDT     ┆ 0.47161      ┆ 85   ┆ 9            │
│ IOTXUSDT    ┆ 0.488661     ┆ 86   ┆ 8            │
│ TOMOUSDT    ┆ 0.530697     ┆ 87   ┆ 7            │
│ ARPAUSDT    ┆ 0.571959     ┆ 88   ┆ 6            │
│ CTSIUSDT    ┆ 0.651433     ┆ 89   ┆ 5            │
│ SPELLUSDT   ┆ 0.679721     ┆ 90   ┆ 4            │
│ DGBUSDT     ┆ 0.811045     ┆ 91   ┆ 3            │
│ SFPUSDT     ┆ 0.829136     ┆ 92   ┆ 2            │
│ 1000XECUSDT ┆ 0.876441     ┆ 93   ┆ 1            │
│ DARUSDT     ┆ 0.877415     ┆ 94   ┆ 0            │
└─────────────┴──────────────┴──────┴──────────────┘
2024-12-13 00:56:58,337 - WARNING - 2023-03-05T23:59:59.999=====cur_long_scale: 0.8 not match == long_value_ratio: 1.0
2024-12-13 00:56:58,337 - INFO - cur close time: 2023-03-05T23:59:59.999 == long_value_ratio: 1.0 == short_value_ratio: 1.0 --- 0.8
2024-12-13 00:56:58,338 - DEBUG - mean expected ret (mean factor): -0.05280832222099683
2024-12-13 00:56:58,342 - DEBUG - begin to update pos: =========
2024-12-13 00:56:58,342 - DEBUG - next_step_value: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ i64     ┆ i64    ┆ i64     ┆ f64     │
│ i64         ┆ i64         ┆ i64         ┆ i64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0           ┆ 0           ┆ 0           ┆ 0           ┆ … ┆ 0       ┆ 0      ┆ 0       ┆ 5000.0  │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:58,342 - DEBUG - all_open_price_when_open_pos: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ f64     ┆ f64    ┆ f64     ┆ f64     │
│ f64         ┆ f64         ┆ f64         ┆ f64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ null        ┆ null        ┆ 0.1445      ┆ null        ┆ … ┆ 0.02755 ┆ null   ┆ null    ┆ 0.2377  │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:58,355 - DEBUG - update position: 2023-03-05T23:59:59.999 === diff_trading_value: 186044.38669079152 == cash: 112938.34073276077 
2024-12-13 00:56:58,358 - INFO - pnl: 2023-03-05T23:59:59.999 112938.34073276077 === -0.648%
2024-12-13 00:56:58,363 - DEBUG - cur time: 2023-03-06T23:59:59.999 == next bar open time: 2023-03-07T00:00:00.000 == close pos time: 2023-03-12T00:00:00.000
2024-12-13 00:56:58,365 - INFO - pnl: 2023-03-06T23:59:59.999 112981.65406643838 === 0.038%
2024-12-13 00:56:58,372 - DEBUG - cur time: 2023-03-07T23:59:59.999 == next bar open time: 2023-03-08T00:00:00.000 == close pos time: 2023-03-13T00:00:00.000
2024-12-13 00:56:58,375 - INFO - pnl: 2023-03-07T23:59:59.999 111501.38923541206 === -1.310%
2024-12-13 00:56:58,380 - DEBUG - cur time: 2023-03-08T23:59:59.999 == next bar open time: 2023-03-09T00:00:00.000 == close pos time: 2023-03-14T00:00:00.000
2024-12-13 00:56:58,383 - INFO - pnl: 2023-03-08T23:59:59.999 113382.66720391774 === 1.687%
2024-12-13 00:56:58,389 - DEBUG - cur time: 2023-03-09T23:59:59.999 == next bar open time: 2023-03-10T00:00:00.000 == close pos time: 2023-03-15T00:00:00.000
2024-12-13 00:56:58,391 - INFO - pnl: 2023-03-09T23:59:59.999 113573.01391355667 === 0.168%
2024-12-13 00:56:58,395 - DEBUG - cur time: 2023-03-10T23:59:59.999 == next bar open time: 2023-03-11T00:00:00.000 == close pos time: 2023-03-16T00:00:00.000
2024-12-13 00:56:58,404 - DEBUG - close time 2023-03-10T23:59:59.999 == vol_threshold: 32720714.9
2024-12-13 00:56:58,407 - DEBUG - 2023-03-10T23:59:59.999 == all trade symbol 136 == remain 95 after VOL filter
2024-12-13 00:56:58,408 - DEBUG - sorted_long_factors: shape: (95, 4)
┌──────────────┬──────────────┬──────┬──────────────┐
│ symbol       ┆ factor_value ┆ rank ┆ reverse_rank │
│ ---          ┆ ---          ┆ ---  ┆ ---          │
│ str          ┆ f64          ┆ u32  ┆ u32          │
╞══════════════╪══════════════╪══════╪══════════════╡
│ ZRXUSDT      ┆ -0.963466    ┆ 0    ┆ 94           │
│ 1000LUNCUSDT ┆ -0.776096    ┆ 1    ┆ 93           │
│ 1000SHIBUSDT ┆ -0.76355     ┆ 2    ┆ 92           │
│ KAVAUSDT     ┆ -0.757953    ┆ 3    ┆ 91           │
│ EOSUSDT      ┆ -0.746508    ┆ 4    ┆ 90           │
│ GMTUSDT      ┆ -0.716646    ┆ 5    ┆ 89           │
│ XRPUSDT      ┆ -0.716606    ┆ 6    ┆ 88           │
│ XLMUSDT      ┆ -0.609754    ┆ 7    ┆ 87           │
│ KLAYUSDT     ┆ -0.597096    ┆ 8    ┆ 86           │
│ APTUSDT      ┆ -0.589502    ┆ 9    ┆ 85           │
│ …            ┆ …            ┆ …    ┆ …            │
│ FLOWUSDT     ┆ 0.276256     ┆ 85   ┆ 9            │
│ OGNUSDT      ┆ 0.300891     ┆ 86   ┆ 8            │
│ REEFUSDT     ┆ 0.309823     ┆ 87   ┆ 7            │
│ COTIUSDT     ┆ 0.385262     ┆ 88   ┆ 6            │
│ DARUSDT      ┆ 0.469379     ┆ 89   ┆ 5            │
│ DGBUSDT      ┆ 0.484742     ┆ 90   ┆ 4            │
│ RLCUSDT      ┆ 0.513224     ┆ 91   ┆ 3            │
│ ARPAUSDT     ┆ 0.537323     ┆ 92   ┆ 2            │
│ CTSIUSDT     ┆ 0.650602     ┆ 93   ┆ 1            │
│ 1000XECUSDT  ┆ 0.694276     ┆ 94   ┆ 0            │
└──────────────┴──────────────┴──────┴──────────────┘
2024-12-13 00:56:58,416 - WARNING - 2023-03-10T23:59:59.999=====cur_long_scale: 0.8 not match == long_value_ratio: 1.0
2024-12-13 00:56:58,416 - INFO - cur close time: 2023-03-10T23:59:59.999 == long_value_ratio: 1.0 == short_value_ratio: 1.0 --- 0.8
2024-12-13 00:56:58,416 - DEBUG - mean expected ret (mean factor): -0.12431943752321804
2024-12-13 00:56:58,421 - DEBUG - begin to update pos: =========
2024-12-13 00:56:58,421 - DEBUG - next_step_value: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬────────────┬───┬─────────┬────────┬─────────┬──────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUS ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT  │
│ T           ┆ DT          ┆ T           ┆ DT         ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---      │
│ ---         ┆ ---         ┆ ---         ┆ ---        ┆   ┆ i64     ┆ i64    ┆ i64     ┆ f64      │
│ i64         ┆ i64         ┆ f64         ┆ i64        ┆   ┆         ┆        ┆         ┆          │
╞═════════════╪═════════════╪═════════════╪════════════╪═══╪═════════╪════════╪═════════╪══════════╡
│ 0           ┆ 0           ┆ -10000.0    ┆ 0          ┆ … ┆ 0       ┆ 0      ┆ 0       ┆ -10000.0 │
└─────────────┴─────────────┴─────────────┴────────────┴───┴─────────┴────────┴─────────┴──────────┘
2024-12-13 00:56:58,421 - DEBUG - all_open_price_when_open_pos: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ f64     ┆ f64    ┆ f64     ┆ f64     │
│ f64         ┆ f64         ┆ f64         ┆ f64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ null        ┆ null        ┆ 0.1244      ┆ null        ┆ … ┆ 0.02299 ┆ null   ┆ null    ┆ 0.201   │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:58,427 - DEBUG - update position: 2023-03-10T23:59:59.999 === diff_trading_value: 268177.50807557744 == cash: 115712.0110512276 
2024-12-13 00:56:58,429 - INFO - pnl: 2023-03-10T23:59:59.999 115712.0110512276 === 1.883%
2024-12-13 00:56:58,433 - DEBUG - cur time: 2023-03-11T23:59:59.999 == next bar open time: 2023-03-12T00:00:00.000 == close pos time: 2023-03-17T00:00:00.000
2024-12-13 00:56:58,435 - INFO - pnl: 2023-03-11T23:59:59.999 115907.07642913322 === 0.169%
2024-12-13 00:56:58,438 - DEBUG - cur time: 2023-03-12T23:59:59.999 == next bar open time: 2023-03-13T00:00:00.000 == close pos time: 2023-03-18T00:00:00.000
2024-12-13 00:56:58,440 - INFO - pnl: 2023-03-12T23:59:59.999 118886.64405489975 === 2.571%
2024-12-13 00:56:58,442 - DEBUG - cur time: 2023-03-13T23:59:59.999 == next bar open time: 2023-03-14T00:00:00.000 == close pos time: 2023-03-19T00:00:00.000
2024-12-13 00:56:58,445 - INFO - pnl: 2023-03-13T23:59:59.999 120901.91778098936 === 1.695%
2024-12-13 00:56:58,450 - DEBUG - cur time: 2023-03-14T23:59:59.999 == next bar open time: 2023-03-15T00:00:00.000 == close pos time: 2023-03-20T00:00:00.000
2024-12-13 00:56:58,453 - INFO - pnl: 2023-03-14T23:59:59.999 121572.69306383978 === 0.555%
2024-12-13 00:56:58,458 - DEBUG - cur time: 2023-03-15T23:59:59.999 == next bar open time: 2023-03-16T00:00:00.000 == close pos time: 2023-03-21T00:00:00.000
2024-12-13 00:56:58,467 - DEBUG - close time 2023-03-15T23:59:59.999 == vol_threshold: 27834190.909999996
2024-12-13 00:56:58,468 - DEBUG - 2023-03-15T23:59:59.999 == all trade symbol 135 == remain 94 after VOL filter
2024-12-13 00:56:58,468 - DEBUG - sorted_long_factors: shape: (94, 4)
┌──────────────┬──────────────┬──────┬──────────────┐
│ symbol       ┆ factor_value ┆ rank ┆ reverse_rank │
│ ---          ┆ ---          ┆ ---  ┆ ---          │
│ str          ┆ f64          ┆ u32  ┆ u32          │
╞══════════════╪══════════════╪══════╪══════════════╡
│ MASKUSDT     ┆ -1.459458    ┆ 0    ┆ 93           │
│ DUSKUSDT     ┆ -0.848204    ┆ 1    ┆ 92           │
│ IMXUSDT      ┆ -0.831531    ┆ 2    ┆ 91           │
│ FILUSDT      ┆ -0.811969    ┆ 3    ┆ 90           │
│ APTUSDT      ┆ -0.763269    ┆ 4    ┆ 89           │
│ XRPUSDT      ┆ -0.761869    ┆ 5    ┆ 88           │
│ GMTUSDT      ┆ -0.697574    ┆ 6    ┆ 87           │
│ LDOUSDT      ┆ -0.621187    ┆ 7    ┆ 86           │
│ 1000SHIBUSDT ┆ -0.597096    ┆ 8    ┆ 85           │
│ XEMUSDT      ┆ -0.597037    ┆ 9    ┆ 84           │
│ …            ┆ …            ┆ …    ┆ …            │
│ DARUSDT      ┆ 0.393516     ┆ 84   ┆ 9            │
│ BELUSDT      ┆ 0.42851      ┆ 85   ┆ 8            │
│ SPELLUSDT    ┆ 0.511226     ┆ 86   ┆ 7            │
│ C98USDT      ┆ 0.5261       ┆ 87   ┆ 6            │
│ OGNUSDT      ┆ 0.586789     ┆ 88   ┆ 5            │
│ DGBUSDT      ┆ 0.652635     ┆ 89   ┆ 4            │
│ 1000XECUSDT  ┆ 0.708873     ┆ 90   ┆ 3            │
│ NKNUSDT      ┆ 0.745449     ┆ 91   ┆ 2            │
│ CTSIUSDT     ┆ 0.771724     ┆ 92   ┆ 1            │
│ APEUSDT      ┆ 0.798816     ┆ 93   ┆ 0            │
└──────────────┴──────────────┴──────┴──────────────┘
2024-12-13 00:56:58,475 - WARNING - 2023-03-15T23:59:59.999=====cur_long_scale: 1.2 not match == long_value_ratio: 1.0
2024-12-13 00:56:58,475 - INFO - cur close time: 2023-03-15T23:59:59.999 == long_value_ratio: 1.0 == short_value_ratio: 1.0 --- 1.2
2024-12-13 00:56:58,475 - DEBUG - mean expected ret (mean factor): -0.12116123940654804
2024-12-13 00:56:58,480 - DEBUG - begin to update pos: =========
2024-12-13 00:56:58,483 - DEBUG - next_step_value: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ i64     ┆ i64    ┆ i64     ┆ i64     │
│ i64         ┆ i64         ┆ i64         ┆ i64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0           ┆ 0           ┆ 0           ┆ 0           ┆ … ┆ 0       ┆ 0      ┆ 0       ┆ 0       │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:58,483 - DEBUG - all_open_price_when_open_pos: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ f64     ┆ f64    ┆ f64     ┆ f64     │
│ f64         ┆ f64         ┆ f64         ┆ f64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ null        ┆ null        ┆ 0.1237      ┆ null        ┆ … ┆ 0.02678 ┆ null   ┆ null    ┆ 0.2166  │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:58,491 - DEBUG - update position: 2023-03-15T23:59:59.999 === diff_trading_value: 227388.8008346078 == cash: 119572.62225920979 
2024-12-13 00:56:58,493 - INFO - pnl: 2023-03-15T23:59:59.999 119572.62225920979 === -1.645%
2024-12-13 00:56:58,496 - DEBUG - cur time: 2023-03-16T23:59:59.999 == next bar open time: 2023-03-17T00:00:00.000 == close pos time: 2023-03-22T00:00:00.000
2024-12-13 00:56:58,497 - INFO - pnl: 2023-03-16T23:59:59.999 119391.40608498956 === -0.152%
2024-12-13 00:56:58,500 - DEBUG - cur time: 2023-03-17T23:59:59.999 == next bar open time: 2023-03-18T00:00:00.000 == close pos time: 2023-03-23T00:00:00.000
2024-12-13 00:56:58,501 - INFO - pnl: 2023-03-17T23:59:59.999 116570.33029575895 === -2.363%
2024-12-13 00:56:58,505 - DEBUG - cur time: 2023-03-18T23:59:59.999 == next bar open time: 2023-03-19T00:00:00.000 == close pos time: 2023-03-24T00:00:00.000
2024-12-13 00:56:58,505 - INFO - pnl: 2023-03-18T23:59:59.999 112936.2345803046 === -3.118%
2024-12-13 00:56:58,509 - DEBUG - cur time: 2023-03-19T23:59:59.999 == next bar open time: 2023-03-20T00:00:00.000 == close pos time: 2023-03-25T00:00:00.000
2024-12-13 00:56:58,509 - INFO - pnl: 2023-03-19T23:59:59.999 115673.90664688393 === 2.424%
2024-12-13 00:56:58,512 - DEBUG - cur time: 2023-03-20T23:59:59.999 == next bar open time: 2023-03-21T00:00:00.000 == close pos time: 2023-03-26T00:00:00.000
2024-12-13 00:56:58,521 - DEBUG - close time 2023-03-20T23:59:59.999 == vol_threshold: 28811900.679999996
2024-12-13 00:56:58,521 - DEBUG - 2023-03-20T23:59:59.999 == all trade symbol 135 == remain 94 after VOL filter
2024-12-13 00:56:58,524 - DEBUG - sorted_long_factors: shape: (94, 4)
┌──────────────┬──────────────┬──────┬──────────────┐
│ symbol       ┆ factor_value ┆ rank ┆ reverse_rank │
│ ---          ┆ ---          ┆ ---  ┆ ---          │
│ str          ┆ f64          ┆ u32  ┆ u32          │
╞══════════════╪══════════════╪══════╪══════════════╡
│ SNXUSDT      ┆ -1.084312    ┆ 0    ┆ 93           │
│ 1000LUNCUSDT ┆ -0.911086    ┆ 1    ┆ 92           │
│ MASKUSDT     ┆ -0.878153    ┆ 2    ┆ 91           │
│ GALAUSDT     ┆ -0.804682    ┆ 3    ┆ 90           │
│ GMTUSDT      ┆ -0.783501    ┆ 4    ┆ 89           │
│ API3USDT     ┆ -0.756586    ┆ 5    ┆ 88           │
│ FILUSDT      ┆ -0.717692    ┆ 6    ┆ 87           │
│ LDOUSDT      ┆ -0.666909    ┆ 7    ┆ 86           │
│ EOSUSDT      ┆ -0.648712    ┆ 8    ┆ 85           │
│ APTUSDT      ┆ -0.610108    ┆ 9    ┆ 84           │
│ …            ┆ …            ┆ …    ┆ …            │
│ REEFUSDT     ┆ 0.420383     ┆ 84   ┆ 9            │
│ TOMOUSDT     ┆ 0.420641     ┆ 85   ┆ 8            │
│ BLZUSDT      ┆ 0.461433     ┆ 86   ┆ 7            │
│ NKNUSDT      ┆ 0.498777     ┆ 87   ┆ 6            │
│ SFPUSDT      ┆ 0.536899     ┆ 88   ┆ 5            │
│ OGNUSDT      ┆ 0.697534     ┆ 89   ┆ 4            │
│ SPELLUSDT    ┆ 0.745186     ┆ 90   ┆ 3            │
│ DGBUSDT      ┆ 0.778867     ┆ 91   ┆ 2            │
│ 1000XECUSDT  ┆ 0.839274     ┆ 92   ┆ 1            │
│ IOTXUSDT     ┆ 0.893642     ┆ 93   ┆ 0            │
└──────────────┴──────────────┴──────┴──────────────┘
2024-12-13 00:56:58,530 - WARNING - 2023-03-20T23:59:59.999=====cur_long_scale: 1.2 not match == long_value_ratio: 1.0
2024-12-13 00:56:58,530 - INFO - cur close time: 2023-03-20T23:59:59.999 == long_value_ratio: 1.0 == short_value_ratio: 1.0 --- 1.2
2024-12-13 00:56:58,530 - DEBUG - mean expected ret (mean factor): -0.06282950077941307
2024-12-13 00:56:58,533 - DEBUG - begin to update pos: =========
2024-12-13 00:56:58,537 - DEBUG - next_step_value: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ i64     ┆ i64    ┆ i64     ┆ i64     │
│ i64         ┆ i64         ┆ f64         ┆ i64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0           ┆ 0           ┆ -10000.0    ┆ 0           ┆ … ┆ 0       ┆ 0      ┆ 0       ┆ 0       │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:58,537 - DEBUG - all_open_price_when_open_pos: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ f64     ┆ f64    ┆ f64     ┆ f64     │
│ f64         ┆ f64         ┆ f64         ┆ f64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ null        ┆ null        ┆ 0.1265      ┆ null        ┆ … ┆ 0.02762 ┆ null   ┆ null    ┆ 0.2338  │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:58,543 - DEBUG - update position: 2023-03-20T23:59:59.999 === diff_trading_value: 194334.56259532104 == cash: 117734.47030229648 
2024-12-13 00:56:58,544 - INFO - pnl: 2023-03-20T23:59:59.999 117734.47030229648 === 1.781%
2024-12-13 00:56:58,547 - DEBUG - cur time: 2023-03-21T23:59:59.999 == next bar open time: 2023-03-22T00:00:00.000 == close pos time: 2023-03-27T00:00:00.000
2024-12-13 00:56:58,549 - INFO - pnl: 2023-03-21T23:59:59.999 121203.98148371029 === 2.947%
2024-12-13 00:56:58,552 - DEBUG - cur time: 2023-03-22T23:59:59.999 == next bar open time: 2023-03-23T00:00:00.000 == close pos time: 2023-03-28T00:00:00.000
2024-12-13 00:56:58,554 - INFO - pnl: 2023-03-22T23:59:59.999 119220.65265182202 === -1.636%
2024-12-13 00:56:58,557 - DEBUG - cur time: 2023-03-23T23:59:59.999 == next bar open time: 2023-03-24T00:00:00.000 == close pos time: 2023-03-29T00:00:00.000
2024-12-13 00:56:58,559 - INFO - pnl: 2023-03-23T23:59:59.999 120928.6679749829 === 1.433%
2024-12-13 00:56:58,561 - DEBUG - cur time: 2023-03-24T23:59:59.999 == next bar open time: 2023-03-25T00:00:00.000 == close pos time: 2023-03-30T00:00:00.000
2024-12-13 00:56:58,564 - INFO - pnl: 2023-03-24T23:59:59.999 121564.86022096235 === 0.526%
2024-12-13 00:56:58,568 - DEBUG - cur time: 2023-03-25T23:59:59.999 == next bar open time: 2023-03-26T00:00:00.000 == close pos time: 2023-03-31T00:00:00.000
2024-12-13 00:56:58,581 - DEBUG - close time 2023-03-25T23:59:59.999 == vol_threshold: 16021026.559999997
2024-12-13 00:56:58,581 - DEBUG - 2023-03-25T23:59:59.999 == all trade symbol 137 == remain 96 after VOL filter
2024-12-13 00:56:58,583 - DEBUG - sorted_long_factors: shape: (96, 4)
┌──────────────┬──────────────┬──────┬──────────────┐
│ symbol       ┆ factor_value ┆ rank ┆ reverse_rank │
│ ---          ┆ ---          ┆ ---  ┆ ---          │
│ str          ┆ f64          ┆ u32  ┆ u32          │
╞══════════════╪══════════════╪══════╪══════════════╡
│ APTUSDT      ┆ -0.936029    ┆ 0    ┆ 95           │
│ 1000LUNCUSDT ┆ -0.89931     ┆ 1    ┆ 94           │
│ XRPUSDT      ┆ -0.855587    ┆ 2    ┆ 93           │
│ OMGUSDT      ┆ -0.828878    ┆ 3    ┆ 92           │
│ EOSUSDT      ┆ -0.809863    ┆ 4    ┆ 91           │
│ FETUSDT      ┆ -0.7911      ┆ 5    ┆ 90           │
│ SNXUSDT      ┆ -0.669784    ┆ 6    ┆ 89           │
│ CRVUSDT      ┆ -0.656075    ┆ 7    ┆ 88           │
│ IMXUSDT      ┆ -0.654053    ┆ 8    ┆ 87           │
│ APEUSDT      ┆ -0.598004    ┆ 9    ┆ 86           │
│ …            ┆ …            ┆ …    ┆ …            │
│ BAKEUSDT     ┆ 0.542027     ┆ 86   ┆ 9            │
│ BLZUSDT      ┆ 0.58994      ┆ 87   ┆ 8            │
│ RSRUSDT      ┆ 0.647089     ┆ 88   ┆ 7            │
│ 1000XECUSDT  ┆ 0.683793     ┆ 89   ┆ 6            │
│ HOTUSDT      ┆ 0.693726     ┆ 90   ┆ 5            │
│ REEFUSDT     ┆ 0.761038     ┆ 91   ┆ 4            │
│ OGNUSDT      ┆ 0.84208      ┆ 92   ┆ 3            │
│ IOTXUSDT     ┆ 0.852524     ┆ 93   ┆ 2            │
│ DGBUSDT      ┆ 1.030142     ┆ 94   ┆ 1            │
│ SPELLUSDT    ┆ 1.429577     ┆ 95   ┆ 0            │
└──────────────┴──────────────┴──────┴──────────────┘
2024-12-13 00:56:58,590 - WARNING - 2023-03-25T23:59:59.999=====cur_long_scale: 0.8 not match == long_value_ratio: 1.0
2024-12-13 00:56:58,590 - INFO - cur close time: 2023-03-25T23:59:59.999 == long_value_ratio: 1.0 == short_value_ratio: 1.0 --- 0.8
2024-12-13 00:56:58,591 - DEBUG - mean expected ret (mean factor): -0.02213314116409536
2024-12-13 00:56:58,595 - DEBUG - begin to update pos: =========
2024-12-13 00:56:58,596 - DEBUG - next_step_value: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ i64     ┆ i64    ┆ i64     ┆ i64     │
│ i64         ┆ i64         ┆ f64         ┆ i64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0           ┆ 0           ┆ -10000.0    ┆ 0           ┆ … ┆ 0       ┆ 0      ┆ 0       ┆ 0       │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:58,596 - DEBUG - all_open_price_when_open_pos: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ f64     ┆ f64    ┆ f64     ┆ f64     │
│ f64         ┆ f64         ┆ f64         ┆ f64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ null        ┆ null        ┆ 0.1254      ┆ null        ┆ … ┆ 0.02678 ┆ null   ┆ null    ┆ 0.2249  │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:58,604 - DEBUG - update position: 2023-03-25T23:59:59.999 === diff_trading_value: 177759.68973262966 == cash: 123194.96626964853 
2024-12-13 00:56:58,605 - INFO - pnl: 2023-03-25T23:59:59.999 123194.96626964853 === 1.341%
2024-12-13 00:56:58,609 - DEBUG - cur time: 2023-03-26T23:59:59.999 == next bar open time: 2023-03-27T00:00:00.000 == close pos time: 2023-04-01T00:00:00.000
2024-12-13 00:56:58,610 - INFO - pnl: 2023-03-26T23:59:59.999 123116.81192327075 === -0.063%
2024-12-13 00:56:58,614 - DEBUG - cur time: 2023-03-27T23:59:59.999 == next bar open time: 2023-03-28T00:00:00.000 == close pos time: 2023-04-02T00:00:00.000
2024-12-13 00:56:58,615 - INFO - pnl: 2023-03-27T23:59:59.999 121842.00162182197 === -1.035%
2024-12-13 00:56:58,619 - DEBUG - cur time: 2023-03-28T23:59:59.999 == next bar open time: 2023-03-29T00:00:00.000 == close pos time: 2023-04-03T00:00:00.000
2024-12-13 00:56:58,620 - INFO - pnl: 2023-03-28T23:59:59.999 121091.3852968782 === -0.616%
2024-12-13 00:56:58,623 - DEBUG - cur time: 2023-03-29T23:59:59.999 == next bar open time: 2023-03-30T00:00:00.000 == close pos time: 2023-04-04T00:00:00.000
2024-12-13 00:56:58,625 - INFO - pnl: 2023-03-29T23:59:59.999 124297.01652211924 === 2.647%
2024-12-13 00:56:58,628 - DEBUG - cur time: 2023-03-30T23:59:59.999 == next bar open time: 2023-03-31T00:00:00.000 == close pos time: 2023-04-05T00:00:00.000
2024-12-13 00:56:58,637 - DEBUG - close time 2023-03-30T23:59:59.999 == vol_threshold: 20982513.119999997
2024-12-13 00:56:58,638 - DEBUG - 2023-03-30T23:59:59.999 == all trade symbol 139 == remain 97 after VOL filter
2024-12-13 00:56:58,640 - DEBUG - sorted_long_factors: shape: (97, 4)
┌─────────────┬──────────────┬──────┬──────────────┐
│ symbol      ┆ factor_value ┆ rank ┆ reverse_rank │
│ ---         ┆ ---          ┆ ---  ┆ ---          │
│ str         ┆ f64          ┆ u32  ┆ u32          │
╞═════════════╪══════════════╪══════╪══════════════╡
│ APTUSDT     ┆ -1.10486     ┆ 0    ┆ 96           │
│ MAGICUSDT   ┆ -1.084167    ┆ 1    ┆ 95           │
│ INJUSDT     ┆ -0.823585    ┆ 2    ┆ 94           │
│ EOSUSDT     ┆ -0.811911    ┆ 3    ┆ 93           │
│ IMXUSDT     ┆ -0.739422    ┆ 4    ┆ 92           │
│ OPUSDT      ┆ -0.673677    ┆ 5    ┆ 91           │
│ FILUSDT     ┆ -0.671355    ┆ 6    ┆ 90           │
│ XLMUSDT     ┆ -0.669742    ┆ 7    ┆ 89           │
│ DOTUSDT     ┆ -0.616055    ┆ 8    ┆ 88           │
│ 1INCHUSDT   ┆ -0.600305    ┆ 9    ┆ 87           │
│ …           ┆ …            ┆ …    ┆ …            │
│ RVNUSDT     ┆ 0.545697     ┆ 87   ┆ 9            │
│ CTSIUSDT    ┆ 0.575041     ┆ 88   ┆ 8            │
│ CHRUSDT     ┆ 0.576739     ┆ 89   ┆ 7            │
│ BATUSDT     ┆ 0.579716     ┆ 90   ┆ 6            │
│ ICXUSDT     ┆ 0.609382     ┆ 91   ┆ 5            │
│ FLMUSDT     ┆ 0.682133     ┆ 92   ┆ 4            │
│ OGNUSDT     ┆ 0.683437     ┆ 93   ┆ 3            │
│ BAKEUSDT    ┆ 0.770669     ┆ 94   ┆ 2            │
│ DGBUSDT     ┆ 0.89545      ┆ 95   ┆ 1            │
│ 1000XECUSDT ┆ 0.968176     ┆ 96   ┆ 0            │
└─────────────┴──────────────┴──────┴──────────────┘
2024-12-13 00:56:58,646 - WARNING - 2023-03-30T23:59:59.999=====cur_long_scale: 1.2 not match == long_value_ratio: 1.0
2024-12-13 00:56:58,646 - INFO - cur close time: 2023-03-30T23:59:59.999 == long_value_ratio: 1.0 == short_value_ratio: 1.0 --- 1.2
2024-12-13 00:56:58,646 - DEBUG - mean expected ret (mean factor): -0.017386898147458595
2024-12-13 00:56:58,651 - DEBUG - begin to update pos: =========
2024-12-13 00:56:58,651 - DEBUG - next_step_value: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ i64     ┆ i64    ┆ i64     ┆ f64     │
│ i64         ┆ i64         ┆ i64         ┆ i64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0           ┆ 0           ┆ 0           ┆ 0           ┆ … ┆ 0       ┆ 0      ┆ 0       ┆ 5000.0  │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:58,651 - DEBUG - all_open_price_when_open_pos: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ f64     ┆ f64    ┆ f64     ┆ f64     │
│ f64         ┆ f64         ┆ f64         ┆ f64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ null        ┆ null        ┆ 0.1221      ┆ null        ┆ … ┆ 0.02784 ┆ null   ┆ null    ┆ 0.2309  │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:58,659 - DEBUG - update position: 2023-03-30T23:59:59.999 === diff_trading_value: 207198.48763836327 == cash: 126202.71800693941 
2024-12-13 00:56:58,661 - INFO - pnl: 2023-03-30T23:59:59.999 126202.71800693941 === 1.533%
2024-12-13 00:56:58,664 - DEBUG - cur time: 2023-03-31T23:59:59.999 == next bar open time: 2023-04-01T00:00:00.000 == close pos time: 2023-04-06T00:00:00.000
2024-12-13 00:56:58,665 - INFO - pnl: 2023-03-31T23:59:59.999 129127.36740466021 === 2.317%
2024-12-13 00:56:58,671 - DEBUG - cur time: 2023-04-01T23:59:59.999 == next bar open time: 2023-04-02T00:00:00.000 == close pos time: 2023-04-07T00:00:00.000
2024-12-13 00:56:58,672 - INFO - pnl: 2023-04-01T23:59:59.999 132261.5811489309 === 2.427%
2024-12-13 00:56:58,677 - DEBUG - cur time: 2023-04-02T23:59:59.999 == next bar open time: 2023-04-03T00:00:00.000 == close pos time: 2023-04-08T00:00:00.000
2024-12-13 00:56:58,680 - INFO - pnl: 2023-04-02T23:59:59.999 129485.03765555765 === -2.099%
2024-12-13 00:56:58,684 - DEBUG - cur time: 2023-04-03T23:59:59.999 == next bar open time: 2023-04-04T00:00:00.000 == close pos time: 2023-04-09T00:00:00.000
2024-12-13 00:56:58,685 - INFO - pnl: 2023-04-03T23:59:59.999 131681.44314377333 === 1.696%
2024-12-13 00:56:58,689 - DEBUG - cur time: 2023-04-04T23:59:59.999 == next bar open time: 2023-04-05T00:00:00.000 == close pos time: 2023-04-10T00:00:00.000
2024-12-13 00:56:58,699 - DEBUG - close time 2023-04-04T23:59:59.999 == vol_threshold: 17024460.06
2024-12-13 00:56:58,699 - DEBUG - 2023-04-04T23:59:59.999 == all trade symbol 139 == remain 97 after VOL filter
2024-12-13 00:56:58,701 - DEBUG - sorted_long_factors: shape: (97, 4)
┌─────────────┬──────────────┬──────┬──────────────┐
│ symbol      ┆ factor_value ┆ rank ┆ reverse_rank │
│ ---         ┆ ---          ┆ ---  ┆ ---          │
│ str         ┆ f64          ┆ u32  ┆ u32          │
╞═════════════╪══════════════╪══════╪══════════════╡
│ APTUSDT     ┆ -1.243682    ┆ 0    ┆ 96           │
│ OMGUSDT     ┆ -1.031132    ┆ 1    ┆ 95           │
│ MASKUSDT    ┆ -0.936268    ┆ 2    ┆ 94           │
│ XRPUSDT     ┆ -0.728138    ┆ 3    ┆ 93           │
│ MAGICUSDT   ┆ -0.672437    ┆ 4    ┆ 92           │
│ CELOUSDT    ┆ -0.628799    ┆ 5    ┆ 91           │
│ MANAUSDT    ┆ -0.628693    ┆ 6    ┆ 90           │
│ INJUSDT     ┆ -0.623717    ┆ 7    ┆ 89           │
│ STGUSDT     ┆ -0.611853    ┆ 8    ┆ 88           │
│ FETUSDT     ┆ -0.599817    ┆ 9    ┆ 87           │
│ …           ┆ …            ┆ …    ┆ …            │
│ IOSTUSDT    ┆ 0.440575     ┆ 87   ┆ 9            │
│ DGBUSDT     ┆ 0.462637     ┆ 88   ┆ 8            │
│ HOTUSDT     ┆ 0.475119     ┆ 89   ┆ 7            │
│ BLZUSDT     ┆ 0.485654     ┆ 90   ┆ 6            │
│ BELUSDT     ┆ 0.489016     ┆ 91   ┆ 5            │
│ IOTAUSDT    ┆ 0.506237     ┆ 92   ┆ 4            │
│ STMXUSDT    ┆ 0.543023     ┆ 93   ┆ 3            │
│ FLMUSDT     ┆ 0.566889     ┆ 94   ┆ 2            │
│ SPELLUSDT   ┆ 0.629771     ┆ 95   ┆ 1            │
│ 1000XECUSDT ┆ 0.868892     ┆ 96   ┆ 0            │
└─────────────┴──────────────┴──────┴──────────────┘
2024-12-13 00:56:58,708 - WARNING - 2023-04-04T23:59:59.999=====cur_long_scale: 1.2 not match == long_value_ratio: 1.0
2024-12-13 00:56:58,708 - INFO - cur close time: 2023-04-04T23:59:59.999 == long_value_ratio: 1.0 == short_value_ratio: 1.0 --- 1.2
2024-12-13 00:56:58,708 - DEBUG - mean expected ret (mean factor): -0.08467443003477756
2024-12-13 00:56:58,713 - DEBUG - begin to update pos: =========
2024-12-13 00:56:58,713 - DEBUG - next_step_value: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ i64     ┆ i64    ┆ i64     ┆ i64     │
│ i64         ┆ i64         ┆ i64         ┆ i64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0           ┆ 0           ┆ 0           ┆ 0           ┆ … ┆ 0       ┆ 0      ┆ 0       ┆ 0       │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:58,714 - DEBUG - all_open_price_when_open_pos: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ f64     ┆ f64    ┆ f64     ┆ f64     │
│ f64         ┆ f64         ┆ f64         ┆ f64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ null        ┆ null        ┆ 0.1235      ┆ null        ┆ … ┆ 0.02972 ┆ null   ┆ null    ┆ 0.3319  │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:58,720 - DEBUG - update position: 2023-04-04T23:59:59.999 === diff_trading_value: 233036.48055533593 == cash: 136492.27346509465 
2024-12-13 00:56:58,721 - INFO - pnl: 2023-04-04T23:59:59.999 136492.27346509465 === 3.653%
2024-12-13 00:56:58,724 - DEBUG - cur time: 2023-04-05T23:59:59.999 == next bar open time: 2023-04-06T00:00:00.000 == close pos time: 2023-04-11T00:00:00.000
2024-12-13 00:56:58,726 - INFO - pnl: 2023-04-05T23:59:59.999 137941.13499689617 === 1.061%
2024-12-13 00:56:58,729 - DEBUG - cur time: 2023-04-06T23:59:59.999 == next bar open time: 2023-04-07T00:00:00.000 == close pos time: 2023-04-12T00:00:00.000
2024-12-13 00:56:58,730 - INFO - pnl: 2023-04-06T23:59:59.999 138392.6791347556 === 0.327%
2024-12-13 00:56:58,733 - DEBUG - cur time: 2023-04-07T23:59:59.999 == next bar open time: 2023-04-08T00:00:00.000 == close pos time: 2023-04-13T00:00:00.000
2024-12-13 00:56:58,735 - INFO - pnl: 2023-04-07T23:59:59.999 138395.62362955225 === 0.002%
2024-12-13 00:56:58,737 - DEBUG - cur time: 2023-04-08T23:59:59.999 == next bar open time: 2023-04-09T00:00:00.000 == close pos time: 2023-04-14T00:00:00.000
2024-12-13 00:56:58,738 - INFO - pnl: 2023-04-08T23:59:59.999 139598.59410546822 === 0.869%
2024-12-13 00:56:58,741 - DEBUG - cur time: 2023-04-09T23:59:59.999 == next bar open time: 2023-04-10T00:00:00.000 == close pos time: 2023-04-15T00:00:00.000
2024-12-13 00:56:58,750 - DEBUG - close time 2023-04-09T23:59:59.999 == vol_threshold: 12707696.3
2024-12-13 00:56:58,751 - DEBUG - 2023-04-09T23:59:59.999 == all trade symbol 141 == remain 98 after VOL filter
2024-12-13 00:56:58,752 - DEBUG - sorted_long_factors: shape: (98, 4)
┌───────────┬──────────────┬──────┬──────────────┐
│ symbol    ┆ factor_value ┆ rank ┆ reverse_rank │
│ ---       ┆ ---          ┆ ---  ┆ ---          │
│ str       ┆ f64          ┆ u32  ┆ u32          │
╞═══════════╪══════════════╪══════╪══════════════╡
│ MASKUSDT  ┆ -0.878676    ┆ 0    ┆ 97           │
│ MAGICUSDT ┆ -0.869231    ┆ 1    ┆ 96           │
│ UNFIUSDT  ┆ -0.774703    ┆ 2    ┆ 95           │
│ ADAUSDT   ┆ -0.710727    ┆ 3    ┆ 94           │
│ XRPUSDT   ┆ -0.7101      ┆ 4    ┆ 93           │
│ OMGUSDT   ┆ -0.672708    ┆ 5    ┆ 92           │
│ ENJUSDT   ┆ -0.591275    ┆ 6    ┆ 91           │
│ CELOUSDT  ┆ -0.57534     ┆ 7    ┆ 90           │
│ FILUSDT   ┆ -0.55041     ┆ 8    ┆ 89           │
│ MTLUSDT   ┆ -0.534305    ┆ 9    ┆ 88           │
│ …         ┆ …            ┆ …    ┆ …            │
│ SPELLUSDT ┆ 0.350298     ┆ 88   ┆ 9            │
│ IOTXUSDT  ┆ 0.398819     ┆ 89   ┆ 8            │
│ ONTUSDT   ┆ 0.431818     ┆ 90   ┆ 7            │
│ DARUSDT   ┆ 0.491019     ┆ 91   ┆ 6            │
│ ONEUSDT   ┆ 0.498502     ┆ 92   ┆ 5            │
│ DENTUSDT  ┆ 0.639174     ┆ 93   ┆ 4            │
│ STMXUSDT  ┆ 0.705333     ┆ 94   ┆ 3            │
│ BLZUSDT   ┆ 0.775689     ┆ 95   ┆ 2            │
│ DGBUSDT   ┆ 0.832895     ┆ 96   ┆ 1            │
│ SKLUSDT   ┆ 0.866272     ┆ 97   ┆ 0            │
└───────────┴──────────────┴──────┴──────────────┘
2024-12-13 00:56:58,760 - INFO - cur close time: 2023-04-09T23:59:59.999 == long_value_ratio: 1.0 == short_value_ratio: 1.0 --- 1.0
2024-12-13 00:56:58,760 - DEBUG - mean expected ret (mean factor): -0.10726643636189331
2024-12-13 00:56:58,764 - DEBUG - begin to update pos: =========
2024-12-13 00:56:58,766 - DEBUG - next_step_value: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ i64     ┆ i64    ┆ i64     ┆ i64     │
│ i64         ┆ i64         ┆ i64         ┆ i64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0           ┆ 0           ┆ 0           ┆ 0           ┆ … ┆ 0       ┆ 0      ┆ 0       ┆ 0       │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:58,766 - DEBUG - all_open_price_when_open_pos: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ f64     ┆ f64    ┆ f64     ┆ f64     │
│ f64         ┆ f64         ┆ f64         ┆ f64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ null        ┆ null        ┆ 0.1249      ┆ null        ┆ … ┆ 0.02922 ┆ null   ┆ null    ┆ 0.2874  │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:58,772 - DEBUG - update position: 2023-04-09T23:59:59.999 === diff_trading_value: 194758.84128800337 == cash: 140713.6545266361 
2024-12-13 00:56:58,773 - INFO - pnl: 2023-04-09T23:59:59.999 140713.6545266361 === 0.799%
2024-12-13 00:56:58,777 - DEBUG - cur time: 2023-04-10T23:59:59.999 == next bar open time: 2023-04-11T00:00:00.000 == close pos time: 2023-04-16T00:00:00.000
2024-12-13 00:56:58,778 - INFO - pnl: 2023-04-10T23:59:59.999 141395.8744533736 === 0.485%
2024-12-13 00:56:58,778 - DEBUG - cur time: 2023-04-11T23:59:59.999 == next bar open time: 2023-04-12T00:00:00.000 == close pos time: 2023-04-17T00:00:00.000
2024-12-13 00:56:58,783 - INFO - pnl: 2023-04-11T23:59:59.999 142089.86949644086 === 0.491%
2024-12-13 00:56:58,787 - DEBUG - cur time: 2023-04-12T23:59:59.999 == next bar open time: 2023-04-13T00:00:00.000 == close pos time: 2023-04-18T00:00:00.000
2024-12-13 00:56:58,789 - INFO - pnl: 2023-04-12T23:59:59.999 143620.61394790042 === 1.077%
2024-12-13 00:56:58,793 - DEBUG - cur time: 2023-04-13T23:59:59.999 == next bar open time: 2023-04-14T00:00:00.000 == close pos time: 2023-04-19T00:00:00.000
2024-12-13 00:56:58,797 - INFO - pnl: 2023-04-13T23:59:59.999 143253.72019935603 === -0.255%
2024-12-13 00:56:58,801 - DEBUG - cur time: 2023-04-14T23:59:59.999 == next bar open time: 2023-04-15T00:00:00.000 == close pos time: 2023-04-20T00:00:00.000
2024-12-13 00:56:58,817 - DEBUG - close time 2023-04-14T23:59:59.999 == vol_threshold: 23666107.78
2024-12-13 00:56:58,817 - DEBUG - 2023-04-14T23:59:59.999 == all trade symbol 143 == remain 100 after VOL filter
2024-12-13 00:56:58,821 - DEBUG - sorted_long_factors: shape: (100, 4)
┌─────────────┬──────────────┬──────┬──────────────┐
│ symbol      ┆ factor_value ┆ rank ┆ reverse_rank │
│ ---         ┆ ---          ┆ ---  ┆ ---          │
│ str         ┆ f64          ┆ u32  ┆ u32          │
╞═════════════╪══════════════╪══════╪══════════════╡
│ APTUSDT     ┆ -0.916096    ┆ 0    ┆ 99           │
│ RNDRUSDT    ┆ -0.742829    ┆ 1    ┆ 98           │
│ MASKUSDT    ┆ -0.675952    ┆ 2    ┆ 97           │
│ INJUSDT     ┆ -0.619883    ┆ 3    ┆ 96           │
│ ONTUSDT     ┆ -0.604641    ┆ 4    ┆ 95           │
│ ENJUSDT     ┆ -0.59201     ┆ 5    ┆ 94           │
│ ZRXUSDT     ┆ -0.591518    ┆ 6    ┆ 93           │
│ FTMUSDT     ┆ -0.573979    ┆ 7    ┆ 92           │
│ DOTUSDT     ┆ -0.567014    ┆ 8    ┆ 91           │
│ OPUSDT      ┆ -0.553324    ┆ 9    ┆ 90           │
│ …           ┆ …            ┆ …    ┆ …            │
│ IOTXUSDT    ┆ 0.386136     ┆ 90   ┆ 9            │
│ DUSKUSDT    ┆ 0.415078     ┆ 91   ┆ 8            │
│ ALPHAUSDT   ┆ 0.43366      ┆ 92   ┆ 7            │
│ REEFUSDT    ┆ 0.499458     ┆ 93   ┆ 6            │
│ COTIUSDT    ┆ 0.504799     ┆ 94   ┆ 5            │
│ DENTUSDT    ┆ 0.549769     ┆ 95   ┆ 4            │
│ 1000XECUSDT ┆ 0.555449     ┆ 96   ┆ 3            │
│ BLZUSDT     ┆ 0.737303     ┆ 97   ┆ 2            │
│ DGBUSDT     ┆ 0.787099     ┆ 98   ┆ 1            │
│ SKLUSDT     ┆ 0.811615     ┆ 99   ┆ 0            │
└─────────────┴──────────────┴──────┴──────────────┘
2024-12-13 00:56:58,830 - WARNING - 2023-04-14T23:59:59.999=====cur_long_scale: 1.2 not match == long_value_ratio: 1.0
2024-12-13 00:56:58,830 - INFO - cur close time: 2023-04-14T23:59:59.999 == long_value_ratio: 1.0 == short_value_ratio: 1.0 --- 1.2
2024-12-13 00:56:58,831 - DEBUG - mean expected ret (mean factor): -0.11172317891434785
2024-12-13 00:56:58,834 - DEBUG - begin to update pos: =========
2024-12-13 00:56:58,834 - DEBUG - next_step_value: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬────────────┬───┬─────────┬────────┬─────────┬──────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUS ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT  │
│ T           ┆ DT          ┆ T           ┆ DT         ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---      │
│ ---         ┆ ---         ┆ ---         ┆ ---        ┆   ┆ i64     ┆ i64    ┆ i64     ┆ f64      │
│ i64         ┆ i64         ┆ i64         ┆ i64        ┆   ┆         ┆        ┆         ┆          │
╞═════════════╪═════════════╪═════════════╪════════════╪═══╪═════════╪════════╪═════════╪══════════╡
│ 0           ┆ 0           ┆ 0           ┆ 0          ┆ … ┆ 0       ┆ 0      ┆ 0       ┆ -10000.0 │
└─────────────┴─────────────┴─────────────┴────────────┴───┴─────────┴────────┴─────────┴──────────┘
2024-12-13 00:56:58,834 - DEBUG - all_open_price_when_open_pos: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ f64     ┆ f64    ┆ f64     ┆ f64     │
│ f64         ┆ f64         ┆ f64         ┆ f64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ null        ┆ null        ┆ 0.1283      ┆ null        ┆ … ┆ 0.03064 ┆ null   ┆ null    ┆ 0.2995  │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:58,842 - DEBUG - update position: 2023-04-14T23:59:59.999 === diff_trading_value: 263520.6853077376 == cash: 143417.55238091253 
2024-12-13 00:56:58,842 - INFO - pnl: 2023-04-14T23:59:59.999 143417.55238091253 === 0.114%
2024-12-13 00:56:58,847 - DEBUG - cur time: 2023-04-15T23:59:59.999 == next bar open time: 2023-04-16T00:00:00.000 == close pos time: 2023-04-21T00:00:00.000
2024-12-13 00:56:58,850 - INFO - pnl: 2023-04-15T23:59:59.999 145783.62580991644 === 1.650%
2024-12-13 00:56:58,852 - DEBUG - cur time: 2023-04-16T23:59:59.999 == next bar open time: 2023-04-17T00:00:00.000 == close pos time: 2023-04-22T00:00:00.000
2024-12-13 00:56:58,855 - INFO - pnl: 2023-04-16T23:59:59.999 146703.25248350564 === 0.631%
2024-12-13 00:56:58,857 - DEBUG - cur time: 2023-04-17T23:59:59.999 == next bar open time: 2023-04-18T00:00:00.000 == close pos time: 2023-04-23T00:00:00.000
2024-12-13 00:56:58,859 - INFO - pnl: 2023-04-17T23:59:59.999 145869.0132407567 === -0.569%
2024-12-13 00:56:58,859 - DEBUG - cur time: 2023-04-18T23:59:59.999 == next bar open time: 2023-04-19T00:00:00.000 == close pos time: 2023-04-24T00:00:00.000
2024-12-13 00:56:58,863 - INFO - pnl: 2023-04-18T23:59:59.999 149333.7290944436 === 2.375%
2024-12-13 00:56:58,866 - DEBUG - cur time: 2023-04-19T23:59:59.999 == next bar open time: 2023-04-20T00:00:00.000 == close pos time: 2023-04-25T00:00:00.000
2024-12-13 00:56:58,874 - DEBUG - close time 2023-04-19T23:59:59.999 == vol_threshold: 31336388.74
2024-12-13 00:56:58,874 - DEBUG - 2023-04-19T23:59:59.999 == all trade symbol 144 == remain 101 after VOL filter
2024-12-13 00:56:58,877 - DEBUG - sorted_long_factors: shape: (101, 4)
┌─────────────┬──────────────┬──────┬──────────────┐
│ symbol      ┆ factor_value ┆ rank ┆ reverse_rank │
│ ---         ┆ ---          ┆ ---  ┆ ---          │
│ str         ┆ f64          ┆ u32  ┆ u32          │
╞═════════════╪══════════════╪══════╪══════════════╡
│ DYDXUSDT    ┆ -0.948313    ┆ 0    ┆ 100          │
│ DOGEUSDT    ┆ -0.784122    ┆ 1    ┆ 99           │
│ NKNUSDT     ┆ -0.745917    ┆ 2    ┆ 98           │
│ APEUSDT     ┆ -0.653898    ┆ 3    ┆ 97           │
│ SANDUSDT    ┆ -0.650165    ┆ 4    ┆ 96           │
│ LRCUSDT     ┆ -0.569319    ┆ 5    ┆ 95           │
│ OMGUSDT     ┆ -0.552207    ┆ 6    ┆ 94           │
│ SXPUSDT     ┆ -0.541049    ┆ 7    ┆ 93           │
│ XRPUSDT     ┆ -0.539823    ┆ 8    ┆ 92           │
│ FETUSDT     ┆ -0.524317    ┆ 9    ┆ 91           │
│ …           ┆ …            ┆ …    ┆ …            │
│ LDOUSDT     ┆ 0.284611     ┆ 91   ┆ 9            │
│ KNCUSDT     ┆ 0.30034      ┆ 92   ┆ 8            │
│ IOTAUSDT    ┆ 0.308398     ┆ 93   ┆ 7            │
│ DARUSDT     ┆ 0.413474     ┆ 94   ┆ 6            │
│ WOOUSDT     ┆ 0.464832     ┆ 95   ┆ 5            │
│ SKLUSDT     ┆ 0.501134     ┆ 96   ┆ 4            │
│ IOTXUSDT    ┆ 0.512817     ┆ 97   ┆ 3            │
│ DGBUSDT     ┆ 0.549009     ┆ 98   ┆ 2            │
│ BLZUSDT     ┆ 0.58135      ┆ 99   ┆ 1            │
│ 1000XECUSDT ┆ 0.671841     ┆ 100  ┆ 0            │
└─────────────┴──────────────┴──────┴──────────────┘
2024-12-13 00:56:58,883 - WARNING - 2023-04-19T23:59:59.999=====cur_long_scale: 0.8 not match == long_value_ratio: 1.0
2024-12-13 00:56:58,883 - INFO - cur close time: 2023-04-19T23:59:59.999 == long_value_ratio: 1.0 == short_value_ratio: 1.0 --- 0.8
2024-12-13 00:56:58,883 - DEBUG - mean expected ret (mean factor): -0.0974184031557335
2024-12-13 00:56:58,887 - DEBUG - begin to update pos: =========
2024-12-13 00:56:58,887 - DEBUG - next_step_value: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ i64     ┆ i64    ┆ i64     ┆ i64     │
│ i64         ┆ i64         ┆ i64         ┆ i64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ 0           ┆ 0           ┆ 0           ┆ 0           ┆ … ┆ 0       ┆ 0      ┆ 0       ┆ 0       │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:58,887 - DEBUG - all_open_price_when_open_pos: shape: (1, 287)
┌─────────────┬─────────────┬─────────────┬─────────────┬───┬─────────┬────────┬─────────┬─────────┐
│ 1000BONKUSD ┆ 1000FLOKIUS ┆ 1000LUNCUSD ┆ 1000PEPEUSD ┆ … ┆ ZILUSDT ┆ ZKUSDT ┆ ZROUSDT ┆ ZRXUSDT │
│ T           ┆ DT          ┆ T           ┆ T           ┆   ┆ ---     ┆ ---    ┆ ---     ┆ ---     │
│ ---         ┆ ---         ┆ ---         ┆ ---         ┆   ┆ f64     ┆ f64    ┆ f64     ┆ f64     │
│ f64         ┆ f64         ┆ f64         ┆ f64         ┆   ┆         ┆        ┆         ┆         │
╞═════════════╪═════════════╪═════════════╪═════════════╪═══╪═════════╪════════╪═════════╪═════════╡
│ null        ┆ null        ┆ 0.1163      ┆ null        ┆ … ┆ 0.03186 ┆ null   ┆ null    ┆ 0.2769  │
└─────────────┴─────────────┴─────────────┴─────────────┴───┴─────────┴────────┴─────────┴─────────┘
2024-12-13 00:56:58,895 - DEBUG - update position: 2023-04-19T23:59:59.999 === diff_trading_value: 290593.3848714094 == cash: 147555.30929438208 
2024-12-13 00:56:58,897 - INFO - pnl: 2023-04-19T23:59:59.999 147555.30929438208 === -1.191%
2024-12-13 00:56:58,899 - DEBUG - cur time: 2023-04-20T23:59:59.999 == next bar open time: 2023-04-21T00:00:00.000 == close pos time: 2023-04-26T00:00:00.000
2024-12-13 00:56:58,899 - INFO - pnl: 2023-04-20T23:59:59.999 147270.9789548464 === -0.193%
2024-12-13 00:56:58,903 - DEBUG - cur time: 2023-04-21T23:59:59.999 == next bar open time: 2023-04-22T00:00:00.000 == close pos time: 2023-04-27T00:00:00.000
2024-12-13 00:56:58,903 - INFO - pnl: 2023-04-21T23:59:59.999 148282.60867941324 === 0.687%
2024-12-13 00:56:58,907 - DEBUG - cur time: 2023-04-22T23:59:59.999 == next bar open time: 2023-04-23T00:00:00.000 == close pos time: 2023-04-28T00:00:00.000
2024-12-13 00:56:58,911 - INFO - pnl: 2023-04-22T23:59:59.999 146795.6081742768 === -1.003%
2024-12-13 00:56:58,911 - DEBUG - cur time: 2023-04-23T23:59:59.999 == next bar open time: 2023-04-24T00:00:00.000 == close pos time: 2023-04-29T00:00:00.000
2024-12-13 00:56:58,911 - INFO - pnl: 2023-04-23T23:59:59.999 147554.05754376223 === 0.517%
2024-12-13 00:56:58,917 - DEBUG - cur time: 2023-04-24T23:59:59.999 == next bar open time: 2023-04-25T00:00:00.000 == close pos time: 2023-04-30T00:00:00.000
